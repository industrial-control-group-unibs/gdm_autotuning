***********************************************************************
*
*	CODE GENERATION LISTING FOR: autotuning
*	COMPILER VERSION: 5.98.9.8
*
***********************************************************************

**************************************************
	List function: sign
**************************************************

FUNCTION sign : REAL

	VAR_INPUT
	x : REAL; 
	END_VAR

	*** Function data allocation

	Par x: REGISTER d4

#0		{SRC:sign}
#1		
#2		
#3			(* IF x > 0.0 *)
#4			LD		x	{L:1}
(*) UNDEF
A0010080  F1F0400B		mov d15, d4

#5			GT		0.0	{L:1}
(*) REAL
A0010084  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0010088  5000059B		addih d5, d5, #0x0000
A001008C  F0015F4B		cmp.f d15, d15, d5
A0010090  F2004F8B		eq d15, d15, #4

#6			JMPCN	$label0	{L:1}
(-) BOOL
A0010094  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA00100A8

#7		
#8			(* THEN *)
#9		
#10				(* sign := 1.0; *)
#11				LD		1.0	{L:2}
(*) UNDEF
A0010098  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A001009C  F3F80F9B		addih d15, d15, #0x3F80

#12				ST		sign	{L:2}
(*) REAL
A00100A0  21F0F00B		mov d2, d15

#13				JMP		$label2
(-) REAL
A00100A4  001C001D		j #0x00001C ; JUMP 0xA00100DC

#14		$label0:
#15		
#16			(* ELSIF x < 0.0 *)
#17			LD		x	{L:3}
(*) UNDEF
A00100A8  F1F0400B		mov d15, d4

#18			LT		0.0	{L:3}
(*) REAL
A00100AC  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A00100B0  5000059B		addih d5, d5, #0x0000
A00100B4  F0015F4B		cmp.f d15, d15, d5
A00100B8  F2001F8B		eq d15, d15, #1

#19			JMPCN	$label1	{L:3}
(-) BOOL
A00100BC  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA00100D0

#20		
#21			(* THEN *)
#22		
#23				(* sign := -1.0; *)
#24				LD		-1.0	{L:4}
(*) UNDEF
A00100C0  F00000BB		mov.u d15, #0x0000 ; COSTREAL -1.000000
A00100C4  FBF80F9B		addih d15, d15, #0xBF80

#25				ST		sign	{L:4}
(*) REAL
A00100C8  21F0F00B		mov d2, d15

#26				JMP		$label2
(-) REAL
A00100CC  0008001D		j #0x000008 ; JUMP 0xA00100DC

#27		$label1:
#28		
#29			(* ELSE *)
#30		
#31				(* sign := 0.0; *)
#32				LD		0.0	{L:6}
(*) UNDEF
A00100D0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00100D4  F0000F9B		addih d15, d15, #0x0000

#33				ST		sign	{L:6}
(*) REAL
A00100D8  21F0F00B		mov d2, d15

A00100DC  0180000D		ret

END_FUNCTION
**************************************************
	List function: _BasicVersion
**************************************************

FUNCTION _BasicVersion : UDINT

{ DE:"LIBRERIA: Basic

Rev.01.00.00	18/02/2002 	by Axel/SSS
Rev.01.01.00	27/05/2008 	Rnc

standard IEC 1131 functions and function blocks :
Timer;
Bistable;
Rising and falling edges detection;
Flip-flop.

Note:
no system or global variables are used, so that the library an be used regardless the FW version" }

	VAR_INPUT
	in : BOOL; 
	END_VAR

	*** Function data allocation

	Par in: REGISTER d4

#0		{SRC:_BasicVersion}
#1		
#2		
#3			LD		in
(*) UNDEF
A00100E0  F1F0400B		mov d15, d4

#4			JMPC	l0_Version
(-) BOOL
A00100E4  800E0FDF		jne d15, #0, #0x000E ; JUMP 0xA0010100

#5		
#6			LD		0
(*) UNDEF
A00100E8  F000003B		mov d15, #0

#7			ST		_BasicVersion
(*) USINT
A00100EC  21F0F00B		mov d2, d15

#8		
#9			RET
(-) USINT
A00100F0  FA001091		movh.a a15, #0xA001 ; 0xA0010108
A00100F4  4008FFD9		lea a15,[a15]0x0108
A00100F8  0000000D		nop
A00100FC  00300F2D		ji a15

#10		
#11		l0_Version:
#12		
#13			(*	Indice di revisione.						*)
#14			(*	L'indice si legge nella seguente maniera:	*)
#15			(*	XXYYZZ => XX.YY.ZZ 							*)
#16			(*	XX = Revisione								*)
#17			(*	YY = Sotto revisione						*)
#18			(*	ZZ = Correzione								*)
#19		
#20			LD		010100
(*) UNDEF
A0010100  F277403B		mov d15, #10100

#21			ST		_BasicVersion
(*) UINT
A0010104  21F0F00B		mov d2, d15

A0010108  0180000D		ret

END_FUNCTION
**************************************************
	List function: _ControlVersion
**************************************************

FUNCTION _ControlVersion : UDINT

{ DE:"LIBRERIA: Control

Rev.01.10.00	14/7/2003 	by SSS
Rev.01.20.00	27/05/2008 	Rnc

Regulation and control funcions and function blocks
Derivative;
Integral;
Low pass filter;
PID;
Delay;
Torque feed.fwd calculation
Diameter calculation;
Limits;
Ramp;
Up down.

Notes:
The library doesn't contain references to global variables, thus it is compatible with all the FW versions." }

	VAR_INPUT
	in : BOOL; 
	END_VAR

	*** Function data allocation

	Par in: REGISTER d4

#0		{SRC:_ControlVersion}
#1		
#2		
#3			LD		in
(*) UNDEF
A001010C  F1F0400B		mov d15, d4

#4			JMPC	l0_Version
(-) BOOL
A0010110  800E0FDF		jne d15, #0, #0x000E ; JUMP 0xA001012C

#5		
#6			LD		0
(*) UNDEF
A0010114  F000003B		mov d15, #0

#7			ST		_ControlVersion
(*) USINT
A0010118  21F0F00B		mov d2, d15

#8		
#9			RET
(-) USINT
A001011C  FA001091		movh.a a15, #0xA001 ; 0xA0010134
A0010120  4034FFD9		lea a15,[a15]0x0134
A0010124  0000000D		nop
A0010128  00300F2D		ji a15

#10		
#11		l0_Version:
#12		
#13			(*	Indice di revisione.						*)
#14			(*	L'indice si legge nella seguente maniera:	*)
#15			(*	XXYYZZ => XX.YY.ZZ 							*)
#16			(*	XX = Revisione								*)
#17			(*	YY = Sotto revisione						*)
#18			(*	ZZ = Correzione								*)
#19		
#20			LD		012000
(*) UNDEF
A001012C  F2EE003B		mov d15, #12000

#21			ST		_ControlVersion
(*) UINT
A0010130  21F0F00B		mov d2, d15

A0010134  0180000D		ret

END_FUNCTION
**************************************************
	List function: LIMIT_R
**************************************************

FUNCTION LIMIT_R : REAL

{ DE:"LIMITI REAL

Version 1.0	3/8/2001		by SSS

Limits function with float vars

Notes:
	- If highLimit<lowLimit then highLimit=lowLimit


" }

	VAR_INPUT
	in : REAL; { DE:"Input var" } 
	lowLimit : REAL; { DE:"Ouput low limit" } 
	highLimit : REAL; { DE:"Output high limit" } 
	END_VAR

	*** Function data allocation

	Par in: REGISTER d4
	Par lowLimit: REGISTER d5
	Par highLimit: REGISTER d6

#0		{SRC:LIMIT_R}
#1			(*	check limits	*)
#2		
#3			LD		highLimit
(*) UNDEF
A0010138  F1F0600B		mov d15, d6

#4			LT		lowLimit
(*) REAL
A001013C  F0015F4B		cmp.f d15, d15, d5
A0010140  F2001F8B		eq d15, d15, #1

#5			JMPCN	l0
(-) BOOL
A0010144  00060FDF		jeq d15, #0, #0x0006 ; JUMP 0xA0010150

#6		
#7			(*	if highLimit<lowLimit then highLimit=lowLimit	*)
#8		
#9			LD		lowLimit
(*) UNDEF
A0010148  F1F0500B		mov d15, d5

#10			ST		highLimit
(*) REAL
A001014C  61F0F00B		mov d6, d15

#11		
#12		l0:
#13		
#14			(*	input >= low limit ?	*)
#15		
#16			LD		in
(*) UNDEF
A0010150  F1F0400B		mov d15, d4

#17			GE		lowLimit
(*) REAL
A0010154  F0015F4B		cmp.f d15, d15, d5
A0010158  F2201F8B		ne d15, d15, #1

#18			JMPC	l1
(-) BOOL
A001015C  800E0FDF		jne d15, #0, #0x000E ; JUMP 0xA0010178

#19		
#20			(*	set output to low limit	*)
#21		
#22			LD		lowLimit
(*) UNDEF
A0010160  F1F0500B		mov d15, d5

#23			ST		LIMIT_R
(*) REAL
A0010164  21F0F00B		mov d2, d15

#24		
#25			RET
(-) REAL
A0010168  FA001091		movh.a a15, #0xA001 ; 0xA00101AC
A001016C  602CFFD9		lea a15,[a15]0x01AC
A0010170  0000000D		nop
A0010174  00300F2D		ji a15

#26		
#27		l1:
#28		
#29			(*	input  <= high limit	*)
#30		
#31			LD		in
(*) UNDEF
A0010178  F1F0400B		mov d15, d4

#32			LE		highLimit
(*) REAL
A001017C  51F0600B		mov d5, d6
A0010180  F0015F4B		cmp.f d15, d15, d5
A0010184  F2204F8B		ne d15, d15, #4

#33			JMPC	l2
(-) BOOL
A0010188  800E0FDF		jne d15, #0, #0x000E ; JUMP 0xA00101A4

#34		
#35			(*	set output to high limit	*)
#36		
#37			LD		highLimit
(*) UNDEF
A001018C  F1F0600B		mov d15, d6

#38			ST		LIMIT_R
(*) REAL
A0010190  21F0F00B		mov d2, d15

#39		
#40			RET
(-) REAL
A0010194  FA001091		movh.a a15, #0xA001 ; 0xA00101AC
A0010198  602CFFD9		lea a15,[a15]0x01AC
A001019C  0000000D		nop
A00101A0  00300F2D		ji a15

#41		
#42		l2:
#43		
#44			(*     out = input		*)
#45		
#46			LD		in
(*) UNDEF
A00101A4  F1F0400B		mov d15, d4

#47			ST		LIMIT_R
(*) REAL
A00101A8  21F0F00B		mov d2, d15

A00101AC  0180000D		ret

END_FUNCTION
**************************************************
	List function: _GeneralVersion
**************************************************

FUNCTION _GeneralVersion : UDINT

{ DE:"LIBRARY: General

Rev.02.00.00    10/06/2008


library with general functions and FB:
bits reading from a word;
bits writing in a word;
bit to word;
word to bit;
byte to bit;
word to byte;
two bytes to word;
two words to dword;
four bytes to dword;

Note:
no global vars are used, so that this library can be used regardless the drive FW version" }

	VAR_INPUT
	in : BOOL; 
	END_VAR

	*** Function data allocation

	Par in: REGISTER d4

#0		{SRC:_GeneralVersion}
#1		
#2		
#3			LD		in
(*) UNDEF
A00101B0  F1F0400B		mov d15, d4

#4			JMPC	l0_Version
(-) BOOL
A00101B4  800E0FDF		jne d15, #0, #0x000E ; JUMP 0xA00101D0

#5		
#6			LD		0
(*) UNDEF
A00101B8  F000003B		mov d15, #0

#7			ST		_GeneralVersion
(*) USINT
A00101BC  21F0F00B		mov d2, d15

#8		
#9			RET
(-) USINT
A00101C0  FA001091		movh.a a15, #0xA001 ; 0xA00101D8
A00101C4  7018FFD9		lea a15,[a15]0x01D8
A00101C8  0000000D		nop
A00101CC  00300F2D		ji a15

#10		
#11		l0_Version:
#12		
#13			(*	Indice di revisione.						*)
#14			(*	L'indice si legge nella seguente maniera:	*)
#15			(*	XXYYZZ => XX.YY.ZZ 							*)
#16			(*	XX = Revisione								*)
#17			(*	YY = Sotto revisione						*)
#18			(*	ZZ = Correzione								*)
#19		
#20			LD		020000
(*) UNDEF
A00101D0  F4E2003B		mov d15, #20000

#21			ST		_GeneralVersion
(*) UINT
A00101D4  21F0F00B		mov d2, d15

A00101D8  0180000D		ret

END_FUNCTION
**************************************************
	List function: BitToWord
**************************************************

FUNCTION BitToWord : UINT

{ DE:"Compose a word from 16 bits
The inputs are aligned according bit number. 
i.e.
        b0  in position 0
        b1  in position 1
        ...
        b15 in position 15" }

	VAR_INPUT
	b0 : BOOL; 
	b1 : BOOL; 
	b2 : BOOL; 
	b3 : BOOL; 
	b4 : BOOL; 
	b5 : BOOL; 
	b6 : BOOL; 
	b7 : BOOL; 
	b8 : BOOL; 
	b9 : BOOL; 
	b10 : BOOL; 
	b11 : BOOL; 
	b12 : BOOL; 
	b13 : BOOL; 
	b14 : BOOL; 
	b15 : BOOL; 
	END_VAR

	*** Function data allocation

	Par b0: REGISTER d4
	Par b1: REGISTER d5
	Par b2: REGISTER d6
	Par b3: REGISTER d7
	Par b4: LOCAL STACK FRAME AT 0(sp)
	Par b5: CALLER STACK FRAME AT 4(sp)
	Par b6: CALLER STACK FRAME AT 8(sp)
	Par b7: CALLER STACK FRAME AT 12(sp)
	Par b8: CALLER STACK FRAME AT 16(sp)
	Par b9: CALLER STACK FRAME AT 20(sp)
	Par b10: CALLER STACK FRAME AT 24(sp)
	Par b11: CALLER STACK FRAME AT 28(sp)
	Par b12: CALLER STACK FRAME AT 32(sp)
	Par b13: CALLER STACK FRAME AT 36(sp)
	Par b14: CALLER STACK FRAME AT 40(sp)
	Par b15: CALLER STACK FRAME AT 44(sp)

A00101DC  C000A001		mov.aa a12, sp

#0		{SRC:BitToWord}
#1		
#2			LD		b15
(*) UNDEF
A00101E0  8002C0BB		mov.u d8, #0x2C
A00101E4  F600C801		addsc.a a15, a12, d8, #0
A00101E8  0000FF19		ld.w d15, [a15]

#3			TO_UINT
(*) BOOL
#4			SHL		15
(*) UINT
A00101EC  F000FF8F		sh d15, d15, #15

#5			ST		BitToWord
(*) UINT
A00101F0  21F0F00B		mov d2, d15

#6		
#7			LD		b14
(*) UNDEF
A00101F4  800280BB		mov.u d8, #0x28
A00101F8  F600C801		addsc.a a15, a12, d8, #0
A00101FC  0000FF19		ld.w d15, [a15]

#8			TO_UINT
(*) BOOL
#9			SHL		14
(*) UINT
A0010200  F000EF8F		sh d15, d15, #14

#10			ADD		BitToWord
(*) UINT
A0010204  F0002F0B		add d15, d15, d2

#11			ST		BitToWord
(*) UINT
A0010208  21F0F00B		mov d2, d15

#12		
#13			LD		b13
(*) UNDEF
A001020C  800240BB		mov.u d8, #0x24
A0010210  F600C801		addsc.a a15, a12, d8, #0
A0010214  0000FF19		ld.w d15, [a15]

#14			TO_UINT
(*) BOOL
#15			SHL		13
(*) UINT
A0010218  F000DF8F		sh d15, d15, #13

#16			ADD		BitToWord
(*) UINT
A001021C  F0002F0B		add d15, d15, d2

#17			ST		BitToWord
(*) UINT
A0010220  21F0F00B		mov d2, d15

#18		
#19			LD		b12
(*) UNDEF
A0010224  800200BB		mov.u d8, #0x20
A0010228  F600C801		addsc.a a15, a12, d8, #0
A001022C  0000FF19		ld.w d15, [a15]

#20			TO_UINT
(*) BOOL
#21			SHL		12
(*) UINT
A0010230  F000CF8F		sh d15, d15, #12

#22			ADD		BitToWord
(*) UINT
A0010234  F0002F0B		add d15, d15, d2

#23			ST		BitToWord
(*) UINT
A0010238  21F0F00B		mov d2, d15

#24		
#25			LD		b11
(*) UNDEF
A001023C  8001C0BB		mov.u d8, #0x1C
A0010240  F600C801		addsc.a a15, a12, d8, #0
A0010244  0000FF19		ld.w d15, [a15]

#26			TO_UINT
(*) BOOL
#27			SHL		11
(*) UINT
A0010248  F000BF8F		sh d15, d15, #11

#28			ADD		BitToWord
(*) UINT
A001024C  F0002F0B		add d15, d15, d2

#29			ST		BitToWord
(*) UINT
A0010250  21F0F00B		mov d2, d15

#30		
#31			LD		b10
(*) UNDEF
A0010254  800180BB		mov.u d8, #0x18
A0010258  F600C801		addsc.a a15, a12, d8, #0
A001025C  0000FF19		ld.w d15, [a15]

#32			TO_UINT
(*) BOOL
#33			SHL		10
(*) UINT
A0010260  F000AF8F		sh d15, d15, #10

#34			ADD		BitToWord
(*) UINT
A0010264  F0002F0B		add d15, d15, d2

#35			ST		BitToWord
(*) UINT
A0010268  21F0F00B		mov d2, d15

#36		
#37			LD		b9
(*) UNDEF
A001026C  800140BB		mov.u d8, #0x14
A0010270  F600C801		addsc.a a15, a12, d8, #0
A0010274  0000FF19		ld.w d15, [a15]

#38			TO_UINT
(*) BOOL
#39			SHL		9
(*) UINT
A0010278  F0009F8F		sh d15, d15, #9

#40			ADD		BitToWord
(*) UINT
A001027C  F0002F0B		add d15, d15, d2

#41			ST		BitToWord
(*) UINT
A0010280  21F0F00B		mov d2, d15

#42		
#43			LD		b8
(*) UNDEF
A0010284  800100BB		mov.u d8, #0x10
A0010288  F600C801		addsc.a a15, a12, d8, #0
A001028C  0000FF19		ld.w d15, [a15]

#44			TO_UINT
(*) BOOL
#45			SHL		8
(*) UINT
A0010290  F0008F8F		sh d15, d15, #8

#46			ADD		BitToWord
(*) UINT
A0010294  F0002F0B		add d15, d15, d2

#47			ST		BitToWord
(*) UINT
A0010298  21F0F00B		mov d2, d15

#48		
#49			LD		b7
(*) UNDEF
A001029C  8000C0BB		mov.u d8, #0xC
A00102A0  F600C801		addsc.a a15, a12, d8, #0
A00102A4  0000FF19		ld.w d15, [a15]

#50			TO_UINT
(*) BOOL
#51			SHL		7
(*) UINT
A00102A8  F0007F8F		sh d15, d15, #7

#52			ADD		BitToWord
(*) UINT
A00102AC  F0002F0B		add d15, d15, d2

#53			ST		BitToWord
(*) UINT
A00102B0  21F0F00B		mov d2, d15

#54		
#55			LD		b6
(*) UNDEF
A00102B4  800080BB		mov.u d8, #0x8
A00102B8  F600C801		addsc.a a15, a12, d8, #0
A00102BC  0000FF19		ld.w d15, [a15]

#56			TO_UINT
(*) BOOL
#57			SHL		6
(*) UINT
A00102C0  F0006F8F		sh d15, d15, #6

#58			ADD		BitToWord
(*) UINT
A00102C4  F0002F0B		add d15, d15, d2

#59			ST		BitToWord
(*) UINT
A00102C8  21F0F00B		mov d2, d15

#60		
#61			LD		b5
(*) UNDEF
A00102CC  800040BB		mov.u d8, #0x4
A00102D0  F600C801		addsc.a a15, a12, d8, #0
A00102D4  0000FF19		ld.w d15, [a15]

#62			TO_UINT
(*) BOOL
#63			SHL		5
(*) UINT
A00102D8  F0005F8F		sh d15, d15, #5

#64			ADD		BitToWord
(*) UINT
A00102DC  F0002F0B		add d15, d15, d2

#65			ST		BitToWord
(*) UINT
A00102E0  21F0F00B		mov d2, d15

#66		
#67			LD		b4
(*) UNDEF
A00102E4  F000C001		mov.aa a15, a12
A00102E8  0000FF19		ld.w d15, [a15]

#68			TO_UINT
(*) BOOL
#69			SHL		4
(*) UINT
A00102EC  F0004F8F		sh d15, d15, #4

#70			ADD		BitToWord
(*) UINT
A00102F0  F0002F0B		add d15, d15, d2

#71			ST		BitToWord
(*) UINT
A00102F4  21F0F00B		mov d2, d15

#72		
#73			LD		b3
(*) UNDEF
A00102F8  F1F0700B		mov d15, d7

#74			TO_UINT
(*) BOOL
#75			SHL		3
(*) UINT
A00102FC  F0003F8F		sh d15, d15, #3

#76			ADD		BitToWord
(*) UINT
A0010300  F0002F0B		add d15, d15, d2

#77			ST		BitToWord
(*) UINT
A0010304  21F0F00B		mov d2, d15

#78		
#79			LD		b2
(*) UNDEF
A0010308  F1F0600B		mov d15, d6

#80			TO_UINT
(*) BOOL
#81			SHL		2
(*) UINT
A001030C  F0002F8F		sh d15, d15, #2

#82			ADD		BitToWord
(*) UINT
A0010310  F0002F0B		add d15, d15, d2

#83			ST		BitToWord
(*) UINT
A0010314  21F0F00B		mov d2, d15

#84		
#85			LD		b1
(*) UNDEF
A0010318  F1F0500B		mov d15, d5

#86			TO_UINT
(*) BOOL
#87			SHL		1
(*) UINT
A001031C  F0001F8F		sh d15, d15, #1

#88			ADD		BitToWord
(*) UINT
A0010320  F0002F0B		add d15, d15, d2

#89			ST		BitToWord
(*) UINT
A0010324  21F0F00B		mov d2, d15

#90		
#91			LD		b0
(*) UNDEF
A0010328  F1F0400B		mov d15, d4

#92			TO_UINT
(*) BOOL
#93			ADD		BitToWord
(*) UINT
A001032C  F0002F0B		add d15, d15, d2

#94			ST		BitToWord
(*) UINT
A0010330  21F0F00B		mov d2, d15

A0010334  0180000D		ret

END_FUNCTION
**************************************************
	List function: Line
**************************************************

FUNCTION Line : DINT

{ DE:"02/01/2001			by SSS
The function return the y(x) value. The function is the linear inter(extra)polation
of the line passing through two points.
The points are defined with the following coordinates:
(xIni, yIni), (xEnd, yEnd).

The returned value is:
Result=yIni+(yEnd-yIni)/(xEnd-xIni)*(x-xIni)" }

	VAR_INPUT
	inX : DINT; { DE:"input X [cnts]" } 
	xIni : DINT; { DE:"initial X [cnts]" } 
	yIni : DINT; { DE:"initial Y [cnts]" } 
	xEnd : DINT; { DE:"final X [cnts]" } 
	yEnd : DINT; { DE:"final Y [cnts]" } 
	END_VAR

	*** Function data allocation

	Par inX: REGISTER d4
	Par xIni: REGISTER d5
	Par yIni: REGISTER d6
	Par xEnd: REGISTER d7
	Par yEnd: LOCAL STACK FRAME AT 0(sp)

A0010338  C000A001		mov.aa a12, sp

#0		{SRC:Line}
#1		
#2			LD		inX
(*) UNDEF
A001033C  F1F0400B		mov d15, d4

#3			SUB		xIni
(*) DINT
A0010340  F0805F0B		sub d15, d15, d5

#4			MUL(	yEnd
(*) DINT
A0010344  F53CAF89		st.w [-sp]4, d15 
A0010348  F000C001		mov.aa a15, a12
A001034C  0000FF19		ld.w d15, [a15]

#5			SUB		yIni
(*) DINT
A0010350  F0806F0B		sub d15, d15, d6

#6			)
(*) DINT
A0010354  01F0F00B		mov d0, d15
A0010358  0104AF09		ld.w d15, [sp+]4
A001035C  F00A0F73		mul d15, d15, d0

#7			DIV(	xEnd
(*) DINT
A0010360  F53CAF89		st.w [-sp]4, d15 
A0010364  F1F0700B		mov d15, d7

#8			SUB		xIni
(*) DINT
A0010368  F0805F0B		sub d15, d15, d5

#9			)
(*) DINT
A001036C  01F0F00B		mov d0, d15
A0010370  0104AF09		ld.w d15, [sp+]4
A0010374  81F0000B		mov d8, d0
A0010378  21A08F4B		dvinit d2/d3, d15, d8
A001037C  9000303B		mov d9, #3
A0010380  F6309001		mov.a a15, d9
A0010384  22F0806B		dvstep d2/d3, d2/d3, d8
A0010388  7FFEF0FD		loop a15, #-2
A001038C  22D0806B		dvadj d2/d3, d2/d3, d8
A0010390  F1F0200B		mov d15, d2

#10			ADD		yIni
(*) DINT
A0010394  F0006F0B		add d15, d15, d6

#11			ST		Line
(*) DINT
A0010398  21F0F00B		mov d2, d15

A001039C  0180000D		ret

END_FUNCTION
**************************************************
	List function: ScaleDW
**************************************************

FUNCTION ScaleDW : DINT

{ DE:"SCALE DW

Rev.0	1/2/2001 	by SSS

Scaling with rest recovery

ScaleDw=in/inDiv*inMol
The input is divided by inDiv and the result is multiplied by inMol.
In order to avoid the overflow, the function must be inMol*inDiv<2^31" }

	VAR_INPUT
	in : DINT; { DE:"input" } 
	inMol : DINT; { DE:"scale multiplier" } 
	inDiv : DINT; { DE:"scale divider" } 
	END_VAR

	*** Function data allocation

	Par in: REGISTER d4
	Par inMol: REGISTER d5
	Par inDiv: REGISTER d6

#0		{SRC:ScaleDW}
#1		
#2		
#3			LD		in
(*) UNDEF
A00103A0  F1F0400B		mov d15, d4

#4			DIV		inDiv
(*) DINT
A00103A4  81F0600B		mov d8, d6
A00103A8  21A08F4B		dvinit d2/d3, d15, d8
A00103AC  9000303B		mov d9, #3
A00103B0  F6309001		mov.a a15, d9
A00103B4  22F0806B		dvstep d2/d3, d2/d3, d8
A00103B8  7FFEF0FD		loop a15, #-2
A00103BC  22D0806B		dvadj d2/d3, d2/d3, d8
A00103C0  F1F0200B		mov d15, d2

#5			MUL		inMol
(*) DINT
A00103C4  F00A5F73		mul d15, d15, d5

#6			ADD(	in
(*) DINT
A00103C8  F53CAF89		st.w [-sp]4, d15 
A00103CC  F1F0400B		mov d15, d4

#7			MOD		inDiv
(*) DINT
A00103D0  81F0600B		mov d8, d6
A00103D4  21A08F4B		dvinit d2/d3, d15, d8
A00103D8  9000303B		mov d9, #3
A00103DC  F6309001		mov.a a15, d9
A00103E0  22F0806B		dvstep d2/d3, d2/d3, d8
A00103E4  7FFEF0FD		loop a15, #-2
A00103E8  22D0806B		dvadj d2/d3, d2/d3, d8
A00103EC  F1F0300B		mov d15, d3

#8			MUL		inMol
(*) DINT
A00103F0  F00A5F73		mul d15, d15, d5

#9			DIV		inDiv
(*) DINT
A00103F4  81F0600B		mov d8, d6
A00103F8  21A08F4B		dvinit d2/d3, d15, d8
A00103FC  9000303B		mov d9, #3
A0010400  F6309001		mov.a a15, d9
A0010404  22F0806B		dvstep d2/d3, d2/d3, d8
A0010408  7FFEF0FD		loop a15, #-2
A001040C  22D0806B		dvadj d2/d3, d2/d3, d8
A0010410  F1F0200B		mov d15, d2

#10			)
(*) DINT
A0010414  01F0F00B		mov d0, d15
A0010418  0104AF09		ld.w d15, [sp+]4
A001041C  F0000F0B		add d15, d15, d0

#11			ST		ScaleDW
(*) DINT
A0010420  21F0F00B		mov d2, d15

A0010424  0180000D		ret

END_FUNCTION
**************************************************
	List function: RBitIn
**************************************************

FUNCTION RBitIn : BOOL

{ DE:"8/10/2001		by SSS
Selector beetween a status 'inPar' and a bit in a word 'inWord'
If 'bitNumber' is from 0 to 15 the bit inWord[bitNumber] will be returned
else the inPar will be the output.

Inputs:
- inWord
- inPar
- bitNumber

Result:
- If 0<=bitNumber<=15	RESULT = RBit (inWord, bitNumber)
- If bitNumber >=16	RESULT = inPar" }

	VAR_INPUT
	inWord : UINT; { DE:"input word" } 
	inPar : BOOL; { DE:"input parameter" } 
	bitNumber : UINT; { DE:"number of bit to be read" } 
	END_VAR

	*** Function data allocation

	Par inWord: REGISTER d4
	Par inPar: REGISTER d5
	Par bitNumber: REGISTER d6

A0010428  A1F0400B		mov d10, d4
A001042C  B1F0500B		mov d11, d5
A0010430  C1F0600B		mov d12, d6

#0		{SRC:RBitIn}
#1		
#2			LD		bitNumber
(*) UNDEF
A0010434  F1F0C00B		mov d15, d12

#3			GE		16
(*) UINT
A0010438  8001003B		mov d8, #16
A001043C  F1508F0B		ge.u d15, d15, d8

#4			JMPC	l0_RBitIn
(-) BOOL
A0010440  80160FDF		jne d15, #0, #0x0016 ; JUMP 0xA001046C

#5		
#6			LD		inWord
(*) UNDEF
A0010444  F1F0A00B		mov d15, d10

#7			RBit	bitNumber
(-) UINT
A0010448  51F0C00B		mov d5, d12
A001044C  41F0F00B		mov d4, d15
A0010450  0094006D		call #0x000094 ; CALL 0xA0010578
A0010454  F1F0200B		mov d15, d2

#8			ST		RBitIn
(*) BOOL
A0010458  21F0F00B		mov d2, d15

#9		
#10			RET
(-) BOOL
A001045C  FA001091		movh.a a15, #0xA001 ; 0xA0010474
A0010460  1074FFD9		lea a15,[a15]0x0474
A0010464  0000000D		nop
A0010468  00300F2D		ji a15

#11		
#12		l0_RBitIn:
#13		
#14			LD		inPar
(*) UNDEF
A001046C  F1F0B00B		mov d15, d11

#15			ST		RBitIn
(*) BOOL
A0010470  21F0F00B		mov d2, d15

A0010474  0180000D		ret

END_FUNCTION
**************************************************
	List function: Segment
**************************************************

FUNCTION Segment : DINT

{ DE:"2/1/2001			by SSS

Segment passing through two points.
The function return the y(x) value. The function is the linear inter(extra)polation 
of the line passing through two points.
If the input value is outside the xIni, xEnd range the output will be 
yIni or yEnd according to the exceeding side.


The points are [xIni,yIni], [xEnd,yEnd

Result:
yIni			if	inX < xIni
Line(xIni, yIni, xEnd, yEnd)	if	xIni <= inX <= xEnd
yEnd			if	inX > xEnd" }

	VAR_INPUT
	inX : DINT; { DE:"input X [cnts]" } 
	xIni : DINT; { DE:"initial X [cnts]" } 
	yIni : DINT; { DE:"initial Y [cnts]" } 
	xEnd : DINT; { DE:"final X [cnts]" } 
	yEnd : DINT; { DE:"final Y [cnts]" } 
	END_VAR

	*** Function data allocation

	Par inX: REGISTER d4
	Par xIni: REGISTER d5
	Par yIni: REGISTER d6
	Par xEnd: REGISTER d7
	Par yEnd: LOCAL STACK FRAME AT 0(sp)

A0010478  A1F0400B		mov d10, d4
A001047C  B1F0500B		mov d11, d5
A0010480  C1F0600B		mov d12, d6
A0010484  D1F0700B		mov d13, d7
A0010488  C000A001		mov.aa a12, sp

#0		{SRC:Segment}
#1		
#2			LD		inX
(*) UNDEF
A001048C  F1F0A00B		mov d15, d10

#3			LT		xIni
(*) DINT
A0010490  F120BF0B		lt d15, d15, d11

#4			JMPCN	l0_Segment
(-) BOOL
A0010494  00080FDF		jeq d15, #0, #0x0008 ; JUMP 0xA00104A4

#5		
#6			(*	inX < xIni	*)
#7		
#8			LD		yIni
(*) UNDEF
A0010498  F1F0C00B		mov d15, d12

#9			ST		Segment
(*) DINT
A001049C  21F0F00B		mov d2, d15

#10		
#11			JMP		lEnd_Segment
(-) DINT
A00104A0  002C001D		j #0x00002C ; JUMP 0xA00104F8

#12		
#13		l0_Segment:
#14		
#15			LD		inX
(*) UNDEF
A00104A4  F1F0A00B		mov d15, d10

#16			GT		xEnd
(*) DINT
A00104A8  F120FD0B		lt d15, d13, d15

#17			JMPC	l1_Segment
(-) BOOL
A00104AC  80200FDF		jne d15, #0, #0x0020 ; JUMP 0xA00104EC

#18		
#19			(*	xIni <= inX <= xEnd	*)
#20		
#21			LD		inX
(*) UNDEF
A00104B0  F1F0A00B		mov d15, d10

#22			Line	xIni, yIni, xEnd, yEnd
(-) DINT
A00104B4  F000C001		mov.aa a15, a12
A00104B8  0000F819		ld.w d8, [a15]
A00104BC  F53CA889		st.w [-sp]4, d8 
A00104C0  71F0D00B		mov d7, d13
A00104C4  61F0C00B		mov d6, d12
A00104C8  51F0B00B		mov d5, d11
A00104CC  41F0F00B		mov d4, d15
A00104D0  FF34FF6D		call #0xFFFF34 ; CALL 0xA0010338
A00104D4  F1F0200B		mov d15, d2
A00104D8  800040BB		mov.u d8, #4
A00104DC  E6308001		mov.a a14, d8
A00104E0  A010EA01		add.a sp, sp, a14

#23			ST		Segment
(*) DINT
A00104E4  21F0F00B		mov d2, d15

#24		
#25			JMP		lEnd_Segment
(-) DINT
A00104E8  0008001D		j #0x000008 ; JUMP 0xA00104F8

#26		
#27		l1_Segment:
#28		
#29			(*	inX > xEnd	*)
#30		
#31			LD		yEnd
(*) UNDEF
A00104EC  F000C001		mov.aa a15, a12
A00104F0  0000FF19		ld.w d15, [a15]

#32			ST		Segment
(*) DINT
A00104F4  21F0F00B		mov d2, d15

A00104F8  0180000D		ret

END_FUNCTION
**************************************************
	List function: WBit
**************************************************

FUNCTION WBit : UINT

{ DE:"WRITE BIT

Rev.0	29/1/2001 	by SSS

Writing of a bit into a word.
The 'bitValue' will be written in position 'bitNumber' of 'inWord'

" }

	VAR_INPUT
	inWord : UINT; { DE:"word to be written" } 
	bitNumber : UINT; { DE:"bit number to be written" } 
	bitValue : BOOL; { DE:"value of the bit to be written" } 
	END_VAR

	VAR
	wApp : UINT; { DE:"temp" } 
	END_VAR

	*** Function data allocation

	Par inWord: REGISTER d4
	Par bitNumber: REGISTER d5
	Par bitValue: REGISTER d6
	Var wApp: LOCAL STACK FRAME AT 0(sp)

A00104FC  800040BB		mov.u d8, #4
A0010500  E6308001		mov.a a14, d8
A0010504  A020EA01		sub.a sp, sp, a14

#0		{SRC:WBit}
#1		
#2		
#3		
#4			(*	Azzeramento bit numero bitNumber di inWord	*)
#5		
#6			LD		1
(*) UNDEF
A0010508  F000103B		mov d15, #1

#7			ST		wApp
(*) USINT
A001050C  F000A001		mov.aa a15, sp
A0010510  0880FF89		st.h [a15], d15

#8			SHL		bitNumber
(*) UINT
A0010514  81F0500B		mov d8, d5
A0010518  0002003B		mov d0, #32
A001051C  0006087F		jge d8, d0, #0x0006
A0010520  F0008F0F		sh d15, d15, d8
A0010524  0004001D		j #0x000004
A0010528  F000003B		mov d15, #0

#9			NOT
(*) UINT
A001052C  F1600F8F		nor d15, d15, #0

#10			AND		inWord
(*) UINT
A0010530  F0804F0F		and d15, d15, d4

#11			ST		wApp
(*) UINT
A0010534  F000A001		mov.aa a15, sp
A0010538  0880FF89		st.h [a15], d15

#12		
#13			(*	Scrittura bit	*)
#14		
#15			LD		bitValue
(*) UNDEF
A001053C  F1F0600B		mov d15, d6

#16			TO_UINT
(*) BOOL
#17			SHL		bitNumber
(*) UINT
A0010540  81F0500B		mov d8, d5
A0010544  0002003B		mov d0, #32
A0010548  0006087F		jge d8, d0, #0x0006
A001054C  F0008F0F		sh d15, d15, d8
A0010550  0004001D		j #0x000004
A0010554  F000003B		mov d15, #0

#18			OR		wApp
(*) UINT
A0010558  F000A001		mov.aa a15, sp
A001055C  08C0F809		ld.hu d8, [a15]
A0010560  F0A08F0F		or d15, d15, d8

#19			ST		WBit
(*) UINT
A0010564  21F0F00B		mov d2, d15

A0010568  800040BB		mov.u d8, #4
A001056C  E6308001		mov.a a14, d8
A0010570  A010EA01		add.a sp, sp, a14

A0010574  0180000D		ret

END_FUNCTION
**************************************************
	List function: RBit
**************************************************

FUNCTION RBit : BOOL

{ DE:"READ BIT

Rev.0	29/1/2001 	by SSS

Reading of a bit in 'bitWord' position inside 'inWord'." }

	VAR_INPUT
	inWord : UINT; { DE:"Word to be read" } 
	bitNumber : UINT; { DE:"bit number to be read" } 
	END_VAR

	*** Function data allocation

	Par inWord: REGISTER d4
	Par bitNumber: REGISTER d5

#0		{SRC:RBit}
#1		
#2		
#3			(*	Azzeramento bit numero bitNumber di inWord	*)
#4		
#5			LD		inWord
(*) UNDEF
A0010578  F1F0400B		mov d15, d4

#6			SHR		bitNumber
(*) UINT
A001057C  81F0500B		mov d8, d5
A0010580  0002003B		mov d0, #32
A0010584  0008087F		jge d8, d0, #0x0008
A0010588  8100088B		rsub d8, d8, #0
A001058C  F0008F0F		sh d15, d15, d8
A0010590  0004001D		j #0x000004
A0010594  F000003B		mov d15, #0

#7			AND		1
(*) UINT
A0010598  8000103B		mov d8, #1
A001059C  F0808F0F		and d15, d15, d8

#8			TO_BOOL
(*) UINT
A00105A0  F2200F8B		ne d15, d15, #0

#9			ST		RBit
(*) BOOL
A00105A4  21F0F00B		mov d2, d15

A00105A8  0180000D		ret

END_FUNCTION
**************************************************
	List function: GAIN_LIM
**************************************************

FUNCTION GAIN_LIM : INT

{ DE:"Limited Gain Block

OUT= IN * M(on 32 bits) / D

the output is limited to +/-32767" }

	VAR_INPUT
	IN : INT; 
	M : INT; 
	D : INT; 
	END_VAR

	VAR
	temp : DINT; 
	END_VAR

	*** Function data allocation

	Par IN: REGISTER d4
	Par M: REGISTER d5
	Par D: REGISTER d6
	Var temp: LOCAL STACK FRAME AT 0(sp)

A00105AC  A1F0400B		mov d10, d4
A00105B0  B1F0500B		mov d11, d5
A00105B4  C1F0600B		mov d12, d6
A00105B8  800040BB		mov.u d8, #4
A00105BC  E6308001		mov.a a14, d8
A00105C0  A020EA01		sub.a sp, sp, a14

#0		{SRC:GAIN_LIM}
#1		
#2			(* temp := MUL32( IN , M ); *)
#3			LD		IN	{L:1}
(*) UNDEF
A00105C4  F1F0A00B		mov d15, d10

#4			MUL32		M	{L:1}
(-) INT
A00105C8  51F0B00B		mov d5, d11
A00105CC  41F0F00B		mov d4, d15
A00105D0  F8009091		movh.a a15, #0x8009 ; MUL32 AT 0x800922F0
A00105D4  B230FFD9		lea a15,[a15]0x22F0
A00105D8  0000000D		nop
A00105DC  00000F2D		calli a15
A00105E0  F1F0200B		mov d15, d2

#5			ST		temp	{L:1}
(*) DINT
A00105E4  F000A001		mov.aa a15, sp
A00105E8  0000FF59		st.w [a15], d15

#6		
#7			(* GAIN_LIM := DIV32_LIM(temp ,  D) ; *)
#8			LD		temp	{L:3}
(*) UNDEF
A00105EC  F000A001		mov.aa a15, sp
A00105F0  0000FF19		ld.w d15, [a15]

#9			DIV32_LIM		D	{L:3}
(-) DINT
A00105F4  51F0C00B		mov d5, d12
A00105F8  41F0F00B		mov d4, d15
A00105FC  F8009091		movh.a a15, #0x8009 ; DIV32_LIM AT 0x80092310
A0010600  C210FFD9		lea a15,[a15]0x2310
A0010604  0000000D		nop
A0010608  00000F2D		calli a15
A001060C  F1F0200B		mov d15, d2

#10			ST		GAIN_LIM	{L:3}
(*) INT
A0010610  21F0F00B		mov d2, d15

A0010614  800040BB		mov.u d8, #4
A0010618  E6308001		mov.a a14, d8
A001061C  A010EA01		add.a sp, sp, a14

A0010620  0180000D		ret

END_FUNCTION
**************************************************
	List function: CLAMP
**************************************************

FUNCTION CLAMP : INT

{ DE:"CLAMP

Output equal input value limited to +/- Clamp Value" }

	VAR_INPUT
	input : INT; 
	clampval : INT; 
	END_VAR

	*** Function data allocation

	Par input: REGISTER d4
	Par clampval: REGISTER d5

#0		{SRC:CLAMP}
#1		
#2		
#3			(* IF input > clampval *)
#4			LD		input	{L:1}
(*) UNDEF
A0010624  F1F0400B		mov d15, d4

#5			GT		clampval	{L:1}
(*) INT
A0010628  F120F50B		lt d15, d5, d15

#6			JMPCN	$label0	{L:1}
(-) BOOL
A001062C  00080FDF		jeq d15, #0, #0x0008 ; JUMP 0xA001063C

#7		
#8			(* THEN *)
#9		
#10				(* CLAMP := clampval; *)
#11				LD		clampval	{L:2}
(*) UNDEF
A0010630  F1F0500B		mov d15, d5

#12				ST		CLAMP	{L:2}
(*) INT
A0010634  21F0F00B		mov d2, d15

#13				JMP		$label2
(-) INT
A0010638  0022001D		j #0x000022 ; JUMP 0xA001067C

#14		$label0:
#15		
#16			(* ELSIF input < (-clampval *)
#17			LD		input	{L:3}
(*) UNDEF
A001063C  F1F0400B		mov d15, d4

#18			LT(		clampval	{L:3}
(*) INT
A0010640  F53CAF89		st.w [-sp]4, d15 
A0010644  F1F0500B		mov d15, d5

#19			MUL		-1	{L:3}
(*) INT
A0010648  8FFFF03B		mov d8, #-1
A001064C  F00A8F73		mul d15, d15, d8

#20			)	{L:3}
(*) INT
A0010650  01F0F00B		mov d0, d15
A0010654  0104AF09		ld.w d15, [sp+]4
A0010658  F1200F0B		lt d15, d15, d0

#21			JMPCN	$label1	{L:3}
(-) BOOL
A001065C  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0010674

#22		
#23			(* THEN *)
#24		
#25				(* CLAMP := -clampval; *)
#26				LD		clampval	{L:4}
(*) UNDEF
A0010660  F1F0500B		mov d15, d5

#27				MUL		-1	{L:4}
(*) INT
A0010664  8FFFF03B		mov d8, #-1
A0010668  F00A8F73		mul d15, d15, d8

#28				ST		CLAMP	{L:4}
(*) INT
A001066C  21F0F00B		mov d2, d15

#29				JMP		$label2
(-) INT
A0010670  0006001D		j #0x000006 ; JUMP 0xA001067C

#30		$label1:
#31		
#32			(* ELSE *)
#33		
#34				(* CLAMP := input; *)
#35				LD		input	{L:6}
(*) UNDEF
A0010674  F1F0400B		mov d15, d4

#36				ST		CLAMP	{L:6}
(*) INT
A0010678  21F0F00B		mov d2, d15

A001067C  0180000D		ret

END_FUNCTION
**************************************************
	List function: Line_int
**************************************************

FUNCTION Line_int : INT

{ DE:"The function return the y(x) value. The function is the linear inter(extra)polation
of the line passing through two points.
The points are defined with the following coordinates:
(x0, y0), (x1, y1).

The returned value is:
Result = y0+(y1-y0)/(x1-x0)*(x-x0)

result is of type integer" }

	VAR_INPUT
	x : INT; 
	x0 : INT; 
	y0 : INT; 
	x1 : INT; 
	y1 : INT; 
	END_VAR

	VAR
	help_long : DINT; 
	help_int : INT; 
	END_VAR

	*** Function data allocation

	Par x: REGISTER d4
	Par x0: REGISTER d5
	Par y0: REGISTER d6
	Par x1: REGISTER d7
	Par y1: LOCAL STACK FRAME AT 0(sp)
	Var help_long: LOCAL STACK FRAME AT 0(sp)
	Var help_int: CALLER STACK FRAME AT 4(sp)

A0010680  A1F0400B		mov d10, d4
A0010684  B1F0500B		mov d11, d5
A0010688  C1F0600B		mov d12, d6
A001068C  D1F0700B		mov d13, d7
A0010690  C000A001		mov.aa a12, sp
A0010694  800080BB		mov.u d8, #8
A0010698  E6308001		mov.a a14, d8
A001069C  A020EA01		sub.a sp, sp, a14

#0		{SRC:Line_int}
#1		
#2			(* Line_int := (y1-y0); *)
#3			LD		y1	{L:2}
(*) UNDEF
A00106A0  F000C001		mov.aa a15, a12
A00106A4  0880FF09		ld.h d15, [a15]

#4			SUB		y0	{L:2}
(*) INT
A00106A8  F080CF0B		sub d15, d15, d12

#5			ST		Line_int	{L:2}
(*) INT
A00106AC  21F0F00B		mov d2, d15

#6		
#7			(* help_int := (x - x0); *)
#8			LD		x	{L:4}
(*) UNDEF
A00106B0  F1F0A00B		mov d15, d10

#9			SUB		x0	{L:4}
(*) INT
A00106B4  F080BF0B		sub d15, d15, d11

#10			ST		help_int	{L:4}
(*) INT
A00106B8  800040BB		mov.u d8, #0x4
A00106BC  F600A801		addsc.a a15, sp, d8, #0
A00106C0  0880FF89		st.h [a15], d15

#11		
#12			(* help_long:=	MUL32( Line_int , help_int ); *)
#13			LD		Line_int	{L:6}
(*) UNDEF
A00106C4  F1F0200B		mov d15, d2

#14			MUL32		help_int	{L:6}
(-) INT
A00106C8  800040BB		mov.u d8, #0x4
A00106CC  F600A801		addsc.a a15, sp, d8, #0
A00106D0  0880F509		ld.h d5, [a15]
A00106D4  41F0F00B		mov d4, d15
A00106D8  F8009091		movh.a a15, #0x8009 ; MUL32 AT 0x800922F0
A00106DC  B230FFD9		lea a15,[a15]0x22F0
A00106E0  0000000D		nop
A00106E4  00000F2D		calli a15
A00106E8  F1F0200B		mov d15, d2

#15			ST		help_long	{L:6}
(*) DINT
A00106EC  F000A001		mov.aa a15, sp
A00106F0  0000FF59		st.w [a15], d15

#16		
#17			(* help_int := (x1-x0); *)
#18			LD		x1	{L:8}
(*) UNDEF
A00106F4  F1F0D00B		mov d15, d13

#19			SUB		x0	{L:8}
(*) INT
A00106F8  F080BF0B		sub d15, d15, d11

#20			ST		help_int	{L:8}
(*) INT
A00106FC  800040BB		mov.u d8, #0x4
A0010700  F600A801		addsc.a a15, sp, d8, #0
A0010704  0880FF89		st.h [a15], d15

#21		
#22			(* help_int := DIV32( help_long, help_int	); *)
#23			LD		help_long	{L:10}
(*) UNDEF
A0010708  F000A001		mov.aa a15, sp
A001070C  0000FF19		ld.w d15, [a15]

#24			DIV32		help_int	{L:10}
(-) DINT
A0010710  800040BB		mov.u d8, #0x4
A0010714  F600A801		addsc.a a15, sp, d8, #0
A0010718  0880F509		ld.h d5, [a15]
A001071C  41F0F00B		mov d4, d15
A0010720  F8009091		movh.a a15, #0x8009 ; DIV32 AT 0x80092326
A0010724  C226FFD9		lea a15,[a15]0x2326
A0010728  0000000D		nop
A001072C  00000F2D		calli a15
A0010730  F1F0200B		mov d15, d2

#25			ST		help_int	{L:10}
(*) INT
A0010734  800040BB		mov.u d8, #0x4
A0010738  F600A801		addsc.a a15, sp, d8, #0
A001073C  0880FF89		st.h [a15], d15

#26		
#27			(* Line_int := help_int + y0; *)
#28			LD		help_int	{L:12}
(*) UNDEF
A0010740  800040BB		mov.u d8, #0x4
A0010744  F600A801		addsc.a a15, sp, d8, #0
A0010748  0880FF09		ld.h d15, [a15]

#29			ADD		y0	{L:12}
(*) INT
A001074C  F000CF0B		add d15, d15, d12

#30			ST		Line_int	{L:12}
(*) INT
A0010750  21F0F00B		mov d2, d15

A0010754  800080BB		mov.u d8, #8
A0010758  E6308001		mov.a a14, d8
A001075C  A010EA01		add.a sp, sp, a14

A0010760  0180000D		ret

END_FUNCTION
**************************************************
	List function: _InOutVersion
**************************************************

FUNCTION _InOutVersion : UDINT

{ DE:"LIBRERIA: ADV200 InOut

Rev.01.20.00	14/12/2006 By FRD
Rev.01.30.00	28/05/2008 By RNC


This library contains functions and function blocks for the input/output management:
Motor current conversion to/from FW;
Motor speed conversion   to/from FW.

Note:
No global variables are used, so that the library can be used regardless the FW version" }

	VAR_INPUT
	in : BOOL; 
	END_VAR

	*** Function data allocation

	Par in: REGISTER d4

#0		{SRC:_InOutVersion}
#1		
#2		
#3			LD		in
(*) UNDEF
A0010764  F1F0400B		mov d15, d4

#4			JMPC	l0_Version
(-) BOOL
A0010768  800E0FDF		jne d15, #0, #0x000E ; JUMP 0xA0010784

#5		
#6			LD		0
(*) UNDEF
A001076C  F000003B		mov d15, #0

#7			ST		_InOutVersion
(*) USINT
A0010770  21F0F00B		mov d2, d15

#8		
#9			RET
(-) USINT
A0010774  FA001091		movh.a a15, #0xA001 ; 0xA001078C
A0010778  E04CFFD9		lea a15,[a15]0x078C
A001077C  0000000D		nop
A0010780  00300F2D		ji a15

#10		
#11		l0_Version:
#12		
#13			(*	Indice di revisione.						*)
#14			(*	L'indice si legge nella seguente maniera:	*)
#15			(*	XXYYZZ => XX.YY.ZZ 							*)
#16			(*	XX = Revisione								*)
#17			(*	YY = Sotto revisione						*)
#18			(*	ZZ = Correzione								*)
#19		
#20			LD		013000
(*) UNDEF
A0010784  F32C803B		mov d15, #13000

#21			ST		_InOutVersion
(*) UINT
A0010788  21F0F00B		mov d2, d15

A001078C  0180000D		ret

END_FUNCTION
**************************************************
	List function: TrqToCount
**************************************************

FUNCTION TrqToCount : DINT

{ DE:"F Name: TrqToCount ADV200
Copyright © 2008, SIEI SpA. All Rights Reserved.

 Version     : 01.00
 Data        :  2008
 Author      : Gefran

Description:
Convert torque in percentage to torque in internal unit (Counts)
16#20000000 counts correspond to 100% motor torque
100% of motor torque is the torque obtained with the
maximum Torque current (nominal current cleaned of 
magnetizing current)" }

	VAR_INPUT
	InTrqPerc : REAL; 
	END_VAR

	*** Function data allocation

	Par InTrqPerc: REGISTER d4

#0		{SRC:TrqToCount}
#1		
#2			(* TrqToCount := TO_DINT(InTrqPerc * 5368709.12); *)
#3			LD		InTrqPerc	{L:6}
(*) UNDEF
A0010790  F1F0400B		mov d15, d4

#4			MUL		5368709.12	{L:6}
(*) REAL
A0010794  8D70A0BB		mov.u d8, #0xD70A ; COSTREAL 5368709.120000
A0010798  84AA389B		addih d8, d8, #0x4AA3
A001079C  F0418F4B		mul.f d15, d15, d8

#5			TO_DINT	{L:6}
(*) REAL
A00107A0  F1010F4B		ftoi d15, d15

#6			ST		TrqToCount	{L:6}
(*) DINT
A00107A4  21F0F00B		mov d2, d15

A00107A8  0180000D		ret

END_FUNCTION
**************************************************
	List function: CountToTrq
**************************************************

FUNCTION CountToTrq : REAL

{ DE:"F Name: CountToRpm ADV200
Copyright © 2008, SIEI SpA. All Rights Reserved.

 Version     : 01.00
 Data        :  2008
 Author      : Gefran

Description:
Convert torque in internal unit (Count) to torque in percentage  
16#20000000 counts correspond to 100% motor torque
100% of motor torque is the torque obtained with the
maximum Torque current (nominal current cleaned of 
magnetizing current)" }

	VAR_INPUT
	InTrqCnt : DINT; 
	END_VAR

	*** Function data allocation

	Par InTrqCnt: REGISTER d4

#0		{SRC:CountToTrq}
#1		
#2			(* CountToTrq := TO_REAL(InTrqCnt) / 5368709.12; *)
#3			LD		InTrqCnt	{L:6}
(*) UNDEF
A00107AC  F1F0400B		mov d15, d4

#4			TO_REAL	{L:6}
(*) DINT
A00107B0  F1410F4B		itof d15, d15

#5			DIV		5368709.12	{L:6}
(*) REAL
A00107B4  8D70A0BB		mov.u d8, #0xD70A ; COSTREAL 5368709.120000
A00107B8  84AA389B		addih d8, d8, #0x4AA3
A00107BC  F0518F4B		div.f d15, d15, d8

#6			ST		CountToTrq	{L:6}
(*) REAL
A00107C0  21F0F00B		mov d2, d15

A00107C4  0180000D		ret

END_FUNCTION
**************************************************
	List function: AmpToCount
**************************************************

FUNCTION AmpToCount : DINT

{ DE:"F Name: RpmToCount ADV200
Copyright © 2008, SIEI SpA. All Rights Reserved.

 Version     : 01.00
 Data        :  2008
 Author      : Gefran

Description:
Convert current in Amp to current internal units (Counts)
16#20000000 counts correspond to Drive cont current" }

	VAR_INPUT
	InCurrAmp : REAL; 
	inFSDriveCntCurrent : REAL; { DE:"Drive cont current set in the drive " } 
	END_VAR

	*** Function data allocation

	Par InCurrAmp: REGISTER d4
	Par inFSDriveCntCurrent: REGISTER d5

#0		{SRC:AmpToCount}
#1		
#2			(* AmpToCount := TO_DINT(InCurrAmp * 536870912.0 / inFSDriveCntCurrent); *)
#3			LD		InCurrAmp	{L:6}
(*) UNDEF
A00107C8  F1F0400B		mov d15, d4

#4			MUL		536870912.0	{L:6}
(*) REAL
A00107CC  800000BB		mov.u d8, #0x0000 ; COSTREAL 536870912.000000
A00107D0  84E0089B		addih d8, d8, #0x4E00
A00107D4  F0418F4B		mul.f d15, d15, d8

#5			DIV		inFSDriveCntCurrent	{L:6}
(*) REAL
A00107D8  81F0500B		mov d8, d5
A00107DC  F0518F4B		div.f d15, d15, d8

#6			TO_DINT	{L:6}
(*) REAL
A00107E0  F1010F4B		ftoi d15, d15

#7			ST		AmpToCount	{L:6}
(*) DINT
A00107E4  21F0F00B		mov d2, d15

A00107E8  0180000D		ret

END_FUNCTION
**************************************************
	List function: CountToAmp
**************************************************

FUNCTION CountToAmp : REAL

{ DE:"FBlock Name: CountToRpm ADV200
Copyright © 2008, SIEI SpA. All Rights Reserved.

 Version     : 01.00
 Data        :  2008
 Author      : Gefran

Description:
Convert current in internal unit (Count) to current in Amp  
16#20000000 counts correspond to Drive cont current 
" }

	VAR_INPUT
	InCurrCnt : DINT; 
	inFSDriveCntCurrent : REAL; { DE:"Drive cont current set in the drive" } 
	END_VAR

	*** Function data allocation

	Par InCurrCnt: REGISTER d4
	Par inFSDriveCntCurrent: REGISTER d5

#0		{SRC:CountToAmp}
#1		
#2			(* CountToAmp := (TO_REAL(InCurrCnt) * inFSDriveCntCurrent) / 536870912.0  ; *)
#3			LD		InCurrCnt	{L:6}
(*) UNDEF
A00107EC  F1F0400B		mov d15, d4

#4			TO_REAL	{L:6}
(*) DINT
A00107F0  F1410F4B		itof d15, d15

#5			MUL		inFSDriveCntCurrent	{L:6}
(*) REAL
A00107F4  F0415F4B		mul.f d15, d15, d5

#6			DIV		536870912.0	{L:6}
(*) REAL
A00107F8  800000BB		mov.u d8, #0x0000 ; COSTREAL 536870912.000000
A00107FC  84E0089B		addih d8, d8, #0x4E00
A0010800  F0518F4B		div.f d15, d15, d8

#7			ST		CountToAmp	{L:6}
(*) REAL
A0010804  21F0F00B		mov d2, d15

A0010808  0180000D		ret

END_FUNCTION
**************************************************
	List function: RpmToCount
**************************************************

FUNCTION RpmToCount : DINT

{ DE:"F Name: RpmToCount ADV200
Copyright © 2008, SIEI SpA. All Rights Reserved.

 Version     : 01.00
 Data        :  2008
 Author      : Gefran

Description:
Convert speed in RPM to speed internal units (Count)
16#40000000 counts correspond to FullScaleSpeed" }

	VAR_INPUT
	InSpdRpm : REAL; 
	inFSSpeed : DINT; { DE:"Full Scale Speed set in the drive " } 
	END_VAR

	*** Function data allocation

	Par InSpdRpm: REGISTER d4
	Par inFSSpeed: REGISTER d5

#0		{SRC:RpmToCount}
#1		
#2			(* RpmToCount := TO_DINT(InSpdRpm * 1073741824.0 / TO_REAL(inFSSpeed)); *)
#3			LD		InSpdRpm	{L:6}
(*) UNDEF
A001080C  F1F0400B		mov d15, d4

#4			MUL		1073741824.0	{L:6}
(*) REAL
A0010810  800000BB		mov.u d8, #0x0000 ; COSTREAL 1073741824.000000
A0010814  84E8089B		addih d8, d8, #0x4E80
A0010818  F0418F4B		mul.f d15, d15, d8

#5			DIV(		inFSSpeed	{L:6}
(*) REAL
A001081C  F53CAF89		st.w [-sp]4, d15 
A0010820  F1F0500B		mov d15, d5

#6			TO_REAL	{L:6}
(*) DINT
A0010824  F1410F4B		itof d15, d15

#7			)	{L:6}
(*) REAL
A0010828  01F0F00B		mov d0, d15
A001082C  0104AF09		ld.w d15, [sp+]4
A0010830  81F0000B		mov d8, d0
A0010834  F0518F4B		div.f d15, d15, d8

#8			TO_DINT	{L:6}
(*) REAL
A0010838  F1010F4B		ftoi d15, d15

#9			ST		RpmToCount	{L:6}
(*) DINT
A001083C  21F0F00B		mov d2, d15

A0010840  0180000D		ret

END_FUNCTION
**************************************************
	List function: CountToRpm
**************************************************

FUNCTION CountToRpm : REAL

{ DE:"FBlock Name: CountToRpm ADV200
Copyright © 2008, SIEI SpA. All Rights Reserved.

 Version     : 01.00
 Data        :  2008
 Author      : Gefran

Description:
Convert speed in internal units (Count) to speed RPM  
16#40000000 counts correspond to FullScaleSpeed
" }

	VAR_INPUT
	InSpdCnt : DINT; 
	inFSSpeed : DINT; { DE:"Full Scale Speed set in the drive" } 
	END_VAR

	*** Function data allocation

	Par InSpdCnt: REGISTER d4
	Par inFSSpeed: REGISTER d5

#0		{SRC:CountToRpm}
#1		
#2			(* CountToRpm := (TO_REAL(InSpdCnt) * TO_REAL(inFSSpeed)) / 1073741824.0  ; *)
#3			LD		inFSSpeed	{L:6}
(*) UNDEF
A0010844  F1F0500B		mov d15, d5

#4			TO_REAL	{L:6}
(*) DINT
A0010848  F1410F4B		itof d15, d15

#5			MUL(		InSpdCnt	{L:6}
(*) REAL
A001084C  F53CAF89		st.w [-sp]4, d15 
A0010850  F1F0400B		mov d15, d4

#6			TO_REAL	{L:6}
(*) DINT
A0010854  F1410F4B		itof d15, d15

#7			)	{L:6}
(*) REAL
A0010858  01F0F00B		mov d0, d15
A001085C  0104AF09		ld.w d15, [sp+]4
A0010860  F0410F4B		mul.f d15, d15, d0

#8			DIV		1073741824.0	{L:6}
(*) REAL
A0010864  800000BB		mov.u d8, #0x0000 ; COSTREAL 1073741824.000000
A0010868  84E8089B		addih d8, d8, #0x4E80
A001086C  F0518F4B		div.f d15, d15, d8

#9			ST		CountToRpm	{L:6}
(*) REAL
A0010870  21F0F00B		mov d2, d15

A0010874  0180000D		ret

END_FUNCTION
**************************************************
	List function: UnitToAo
**************************************************

FUNCTION UnitToAo : DINT

{ DE:"9/10/2001		by MCC/SSS
05 giu 08       Rnc

UnitToAo: Convert phisycal unit (rpm. Amp, Trq) to Analog Out. FullScale correspond to 10V.
" }

	VAR_INPUT
	inp : REAL; { DE:"Unit Input value " } 
	inSignalBase : REAL; { DE:"FullScaleSpeed for rpm, DriveCntCurr for amp, 100.0 for trq" } 
	END_VAR

	*** Function data allocation

	Par inp: REGISTER d4
	Par inSignalBase: REGISTER d5

#0		{SRC:UnitToAo}
#1		
#2			(* UnitToAo := TO_DINT(inp*1073741824.0/inSignalBase); *)
#3			LD		inp	{L:2}
(*) UNDEF
A0010878  F1F0400B		mov d15, d4

#4			MUL		1073741824.0	{L:2}
(*) REAL
A001087C  800000BB		mov.u d8, #0x0000 ; COSTREAL 1073741824.000000
A0010880  84E8089B		addih d8, d8, #0x4E80
A0010884  F0418F4B		mul.f d15, d15, d8

#5			DIV		inSignalBase	{L:2}
(*) REAL
A0010888  81F0500B		mov d8, d5
A001088C  F0518F4B		div.f d15, d15, d8

#6			TO_DINT	{L:2}
(*) REAL
A0010890  F1010F4B		ftoi d15, d15

#7			ST		UnitToAo	{L:2}
(*) DINT
A0010894  21F0F00B		mov d2, d15

A0010898  0180000D		ret

END_FUNCTION
**************************************************
	List function: AiToUnit
**************************************************

FUNCTION AiToUnit : REAL

{ DE:"9/10/2001		by MCC/SSS
05 giu 08       Rnc

AiToUnit: Convert input voltage in phisycal unit (rpm. Amp, Trq). 10V correspond FullScale.
" }

	VAR_INPUT
	inp : DINT; { DE:"analog input value value " } 
	inSignalBase : REAL; { DE:"FullScaleSpeed for rpm, DriveCntCurr for amp, 100.0 for trq" } 
	END_VAR

	*** Function data allocation

	Par inp: REGISTER d4
	Par inSignalBase: REGISTER d5

#0		{SRC:AiToUnit}
#1		
#2			(* AiToUnit := TO_REAL(inp)*inSignalBase/1073741824.0; *)
#3			LD		inp	{L:2}
(*) UNDEF
A001089C  F1F0400B		mov d15, d4

#4			TO_REAL	{L:2}
(*) DINT
A00108A0  F1410F4B		itof d15, d15

#5			MUL		inSignalBase	{L:2}
(*) REAL
A00108A4  F0415F4B		mul.f d15, d15, d5

#6			DIV		1073741824.0	{L:2}
(*) REAL
A00108A8  800000BB		mov.u d8, #0x0000 ; COSTREAL 1073741824.000000
A00108AC  84E8089B		addih d8, d8, #0x4E80
A00108B0  F0518F4B		div.f d15, d15, d8

#7			ST		AiToUnit	{L:2}
(*) REAL
A00108B4  21F0F00B		mov d2, d15

A00108B8  0180000D		ret

END_FUNCTION
**************************************************
	List function: ReadCommand
**************************************************

FUNCTION ReadCommand : BOOL

{ DE:"Digital command management

3 sources are available:
digital parameter
digital input
remote command (typically fieldbus)

selection selecs which source to read:
-2= digital parameter, -1= remote command, >=0 = digital input

the function result is reset to FALSE
then the digital command is copied in the output (if selected)
if a digital input is selected, its value will be the function output (if selected
if not, the remote command bit will be the function output (if selected)
" }

	VAR_INPUT
	digpar : BOOL; 
	digitalInputs : UINT; 
	selection : INT; { DE:"-2=digpar, -1=remote, >=0= digital input" } 
	remoteCommand : UINT; 
	nBitRemoteCommand : UINT; 
	END_VAR

	*** Function data allocation

	Par digpar: REGISTER d4
	Par digitalInputs: REGISTER d5
	Par selection: REGISTER d6
	Par remoteCommand: REGISTER d7
	Par nBitRemoteCommand: LOCAL STACK FRAME AT 0(sp)

A00108BC  A1F0400B		mov d10, d4
A00108C0  B1F0500B		mov d11, d5
A00108C4  C1F0600B		mov d12, d6
A00108C8  D1F0700B		mov d13, d7
A00108CC  C000A001		mov.aa a12, sp
A00108D0  800040BB		mov.u d8, #4
A00108D4  E6308001		mov.a a14, d8
A00108D8  A020EA01		sub.a sp, sp, a14

#0		{SRC:ReadCommand}
#1		
#2			(* ReadCommand := FALSE; *)
#3			LD		FALSE	{L:3}
(*) UNDEF
A00108DC  F000003B		mov d15, #0

#4			ST		ReadCommand	{L:3}
(*) BOOL
A00108E0  21F0F00B		mov d2, d15

#5		
#6		
#7			(* IF selection = -1 *)
#8			LD		selection	{L:8}
(*) UNDEF
A00108E4  F1F0C00B		mov d15, d12

#9			EQ		-1	{L:8}
(*) INT
A00108E8  8FFFF03B		mov d8, #-1
A00108EC  F1008F0B		eq d15, d15, d8

#10			JMPCN	$label0	{L:8}
(-) BOOL
A00108F0  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA001090C

#11		
#12			(* THEN *)
#13		
#14				(* ReadCommand := digpar; *)
#15				LD		digpar	{L:11}
(*) UNDEF
A00108F4  F1F0A00B		mov d15, d10

#16				ST		ReadCommand	{L:11}
(*) BOOL
A00108F8  21F0F00B		mov d2, d15

#17		
#18				(* RETURN *)
#19				RET
(-) BOOL
A00108FC  FA001091		movh.a a15, #0xA001 ; 0xA00109A0
A0010900  60A0FFD9		lea a15,[a15]0x09A0
A0010904  0000000D		nop
A0010908  00300F2D		ji a15

#20		
#21		$label0:
#22			(* END_IF *)
#23		
#24		
#25			(* IF selection >= 0 *)
#26			LD		selection	{L:20}
(*) UNDEF
A001090C  F1F0C00B		mov d15, d12

#27			GE		0	{L:20}
(*) INT
A0010910  8000003B		mov d8, #0
A0010914  F1408F0B		ge d15, d15, d8

#28			JMPCN	$label1	{L:20}
(-) BOOL
A0010918  001E0FDF		jeq d15, #0, #0x001E ; JUMP 0xA0010954

#29		
#30			(* THEN *)
#31		
#32				(* ReadCommand := RBit(digitalInputs, TO_UINT(selection)); *)
#33				LD		selection	{L:22}
(*) UNDEF
A001091C  F1F0C00B		mov d15, d12

#34				TO_UINT	{L:22}
(*) INT
#35				ST		$$TMP0	{L:22}
(*) UINT
A0010920  F000A001		mov.aa a15, sp
A0010924  0880FF89		st.h [a15], d15

#36				LD		digitalInputs	{L:22}
(*) UNDEF
A0010928  F1F0B00B		mov d15, d11

#37				RBit		$$TMP0	{L:22}
(-) UINT
A001092C  F000A001		mov.aa a15, sp
A0010930  08C0F509		ld.hu d5, [a15]
A0010934  41F0F00B		mov d4, d15
A0010938  FE20FF6D		call #0xFFFE20 ; CALL 0xA0010578
A001093C  F1F0200B		mov d15, d2

#38				ST		ReadCommand	{L:22}
(*) BOOL
A0010940  21F0F00B		mov d2, d15

#39		
#40				(* RETURN *)
#41				RET
(-) BOOL
A0010944  FA001091		movh.a a15, #0xA001 ; 0xA00109A0
A0010948  60A0FFD9		lea a15,[a15]0x09A0
A001094C  0000000D		nop
A0010950  00300F2D		ji a15

#42		
#43		$label1:
#44			(* END_IF *)
#45		
#46		
#47			(* IF selection = -2) AND (nBitRemoteCommand >= 0 *)
#48			LD		nBitRemoteCommand	{L:30}
(*) UNDEF
A0010954  F000C001		mov.aa a15, a12
A0010958  08C0FF09		ld.hu d15, [a15]

#49			GE		0	{L:30}
(*) UINT
A001095C  8000003B		mov d8, #0
A0010960  F1508F0B		ge.u d15, d15, d8

#50			AND(		selection	{L:30}
(*) BOOL
A0010964  F53CAF89		st.w [-sp]4, d15 
A0010968  F1F0C00B		mov d15, d12

#51			EQ		-2	{L:30}
(*) INT
A001096C  8FFFE03B		mov d8, #-2
A0010970  F1008F0B		eq d15, d15, d8

#52			)	{L:30}
(*) BOOL
A0010974  01F0F00B		mov d0, d15
A0010978  0104AF09		ld.w d15, [sp+]4
A001097C  F0800F0F		and d15, d15, d0

#53			JMPCN	$label2	{L:30}
(-) BOOL
A0010980  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA00109A0

#54		
#55			(* THEN *)
#56		
#57				(* ReadCommand := RBit(remoteCommand, nBitRemoteCommand); *)
#58				LD		remoteCommand	{L:32}
(*) UNDEF
A0010984  F1F0D00B		mov d15, d13

#59				RBit		nBitRemoteCommand	{L:32}
(-) UINT
A0010988  F000C001		mov.aa a15, a12
A001098C  08C0F509		ld.hu d5, [a15]
A0010990  41F0F00B		mov d4, d15
A0010994  FDF2FF6D		call #0xFFFDF2 ; CALL 0xA0010578
A0010998  F1F0200B		mov d15, d2

#60				ST		ReadCommand	{L:32}
(*) BOOL
A001099C  21F0F00B		mov d2, d15

#61		
#62				(* RETURN *)
#63				RET
(-) BOOL
A00109A0  800040BB		mov.u d8, #4
A00109A4  E6308001		mov.a a14, d8
A00109A8  A010EA01		add.a sp, sp, a14

A00109AC  0180000D		ret

END_FUNCTION
**************************************************
	List function: ReadCommandAnd
**************************************************

FUNCTION ReadCommandAnd : BOOL

{ DE:"Digital command management (AND)

3 sources are available:
digital parameter
digital input
remote command (typically fieldbus)

there is a mask that enables the sources:
bit0= digital parameter, bit1= digital input, bit2=remote command

the function performs AND between the sources (bit0,1,2) which bit is set TRUE.

Note: if bit0=bit1=bit2=0 the function return TRUE
" }

	VAR_INPUT
	digpar : BOOL; { DE:"digital parameter" } 
	digitalInputs : UINT; { DE:"digital inputs bitword" } 
	nBitDigitalInputs : INT; { DE:"digital input bit number" } 
	remoteCommand : UINT; { DE:"remote command bitword" } 
	nBitRemoteCommand : UINT; { DE:"remote command bit" } 
	enableMask : UINT; { DE:"enable mask: bit0=dig par, bit1=dig input, bit2=remote command)" } 
	END_VAR

	*** Function data allocation

	Par digpar: REGISTER d4
	Par digitalInputs: REGISTER d5
	Par nBitDigitalInputs: REGISTER d6
	Par remoteCommand: REGISTER d7
	Par nBitRemoteCommand: LOCAL STACK FRAME AT 0(sp)
	Par enableMask: CALLER STACK FRAME AT 4(sp)

A00109B0  A1F0400B		mov d10, d4
A00109B4  B1F0500B		mov d11, d5
A00109B8  C1F0600B		mov d12, d6
A00109BC  D1F0700B		mov d13, d7
A00109C0  C000A001		mov.aa a12, sp
A00109C4  800040BB		mov.u d8, #4
A00109C8  E6308001		mov.a a14, d8
A00109CC  A020EA01		sub.a sp, sp, a14

#0		{SRC:ReadCommandAnd}
#1		
#2		
#3			(* IF enableMask AND 1) <> 0 *)
#4			LD		enableMask	{L:3}
(*) UNDEF
A00109D0  800040BB		mov.u d8, #0x4
A00109D4  F600C801		addsc.a a15, a12, d8, #0
A00109D8  08C0FF09		ld.hu d15, [a15]

#5			AND		1	{L:3}
(*) UINT
A00109DC  8000103B		mov d8, #1
A00109E0  F0808F0F		and d15, d15, d8

#6			NE		0	{L:3}
(*) UINT
A00109E4  8000003B		mov d8, #0
A00109E8  F1108F0B		ne d15, d15, d8

#7			JMPCN	$label0	{L:3}
(-) BOOL
A00109EC  00180FDF		jeq d15, #0, #0x0018 ; JUMP 0xA0010A1C

#8		
#9			(* THEN *)
#10		
#11		
#12				(* IF digpar *)
#13				LD		digpar	{L:4}
(*) UNDEF
A00109F0  F1F0A00B		mov d15, d10

#14				NOT	{L:4}
(*) BOOL
A00109F4  8000103B		mov d8, #1
A00109F8  9000003B		mov d9, #0
A00109FC  FF40892B		sel d15, d15, d9, d8

#15				JMPCN	$label1	{L:4}
(-) BOOL
A0010A00  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0010A1C

#16		
#17				(* THEN *)
#18		
#19					(* ReadCommandAnd := FALSE; *)
#20					LD		FALSE	{L:5}
(*) UNDEF
A0010A04  F000003B		mov d15, #0

#21					ST		ReadCommandAnd	{L:5}
(*) BOOL
A0010A08  21F0F00B		mov d2, d15

#22		
#23					(* RETURN *)
#24					RET
(-) BOOL
A0010A0C  FA001091		movh.a a15, #0xA001 ; 0xA0010B14
A0010A10  C094FFD9		lea a15,[a15]0x0B14
A0010A14  0000000D		nop
A0010A18  00300F2D		ji a15

#25		
#26		$label1:
#27				(* END_IF *)
#28		
#29		$label0:
#30			(* END_IF *)
#31		
#32		
#33			(* IF enableMask AND 2) <> 0 *)
#34			LD		enableMask	{L:11}
(*) UNDEF
A0010A1C  800040BB		mov.u d8, #0x4
A0010A20  F600C801		addsc.a a15, a12, d8, #0
A0010A24  08C0FF09		ld.hu d15, [a15]

#35			AND		2	{L:11}
(*) UINT
A0010A28  8000203B		mov d8, #2
A0010A2C  F0808F0F		and d15, d15, d8

#36			NE		0	{L:11}
(*) UINT
A0010A30  8000003B		mov d8, #0
A0010A34  F1108F0B		ne d15, d15, d8

#37			JMPCN	$label2	{L:11}
(-) BOOL
A0010A38  00300FDF		jeq d15, #0, #0x0030 ; JUMP 0xA0010A98

#38		
#39			(* THEN *)
#40		
#41		
#42				(* IF nBitDigitalInputs >= 0 *)
#43				LD		nBitDigitalInputs	{L:12}
(*) UNDEF
A0010A3C  F1F0C00B		mov d15, d12

#44				GE		0	{L:12}
(*) INT
A0010A40  8000003B		mov d8, #0
A0010A44  F1408F0B		ge d15, d15, d8

#45				JMPCN	$label3	{L:12}
(-) BOOL
A0010A48  00280FDF		jeq d15, #0, #0x0028 ; JUMP 0xA0010A98

#46		
#47				(* THEN *)
#48		
#49		
#50					(* IF digitalInputs, TO_UINT(nBitDigitalInputs)) *)
#51					LD		nBitDigitalInputs	{L:13}
(*) UNDEF
A0010A4C  F1F0C00B		mov d15, d12

#52					TO_UINT	{L:13}
(*) INT
#53					ST		$$TMP0	{L:13}
(*) UINT
A0010A50  F000A001		mov.aa a15, sp
A0010A54  0880FF89		st.h [a15], d15

#54					LD		digitalInputs	{L:13}
(*) UNDEF
A0010A58  F1F0B00B		mov d15, d11

#55					RBit		$$TMP0	{L:13}
(-) UINT
A0010A5C  F000A001		mov.aa a15, sp
A0010A60  08C0F509		ld.hu d5, [a15]
A0010A64  41F0F00B		mov d4, d15
A0010A68  FD88FF6D		call #0xFFFD88 ; CALL 0xA0010578
A0010A6C  F1F0200B		mov d15, d2

#56					NOT	{L:13}
(*) BOOL
A0010A70  8000103B		mov d8, #1
A0010A74  9000003B		mov d9, #0
A0010A78  FF40892B		sel d15, d15, d9, d8

#57					JMPCN	$label4	{L:13}
(-) BOOL
A0010A7C  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0010A98

#58		
#59					(* THEN *)
#60		
#61						(* ReadCommandAnd := FALSE; *)
#62						LD		FALSE	{L:14}
(*) UNDEF
A0010A80  F000003B		mov d15, #0

#63						ST		ReadCommandAnd	{L:14}
(*) BOOL
A0010A84  21F0F00B		mov d2, d15

#64		
#65						(* RETURN *)
#66						RET
(-) BOOL
A0010A88  FA001091		movh.a a15, #0xA001 ; 0xA0010B14
A0010A8C  C094FFD9		lea a15,[a15]0x0B14
A0010A90  0000000D		nop
A0010A94  00300F2D		ji a15

#67		
#68		$label4:
#69					(* END_IF *)
#70		
#71		$label3:
#72				(* END_IF *)
#73		
#74		$label2:
#75			(* END_IF *)
#76		
#77		
#78			(* IF enableMask AND 4) <> 0 *)
#79			LD		enableMask	{L:21}
(*) UNDEF
A0010A98  800040BB		mov.u d8, #0x4
A0010A9C  F600C801		addsc.a a15, a12, d8, #0
A0010AA0  08C0FF09		ld.hu d15, [a15]

#80			AND		4	{L:21}
(*) UINT
A0010AA4  8000403B		mov d8, #4
A0010AA8  F0808F0F		and d15, d15, d8

#81			NE		0	{L:21}
(*) UINT
A0010AAC  8000003B		mov d8, #0
A0010AB0  F1108F0B		ne d15, d15, d8

#82			JMPCN	$label5	{L:21}
(-) BOOL
A0010AB4  002C0FDF		jeq d15, #0, #0x002C ; JUMP 0xA0010B0C

#83		
#84			(* THEN *)
#85		
#86		
#87				(* IF nBitRemoteCommand >= 0 *)
#88				LD		nBitRemoteCommand	{L:22}
(*) UNDEF
A0010AB8  F000C001		mov.aa a15, a12
A0010ABC  08C0FF09		ld.hu d15, [a15]

#89				GE		0	{L:22}
(*) UINT
A0010AC0  8000003B		mov d8, #0
A0010AC4  F1508F0B		ge.u d15, d15, d8

#90				JMPCN	$label6	{L:22}
(-) BOOL
A0010AC8  00220FDF		jeq d15, #0, #0x0022 ; JUMP 0xA0010B0C

#91		
#92				(* THEN *)
#93		
#94		
#95					(* IF remoteCommand, nBitRemoteCommand) *)
#96					LD		remoteCommand	{L:23}
(*) UNDEF
A0010ACC  F1F0D00B		mov d15, d13

#97					RBit		nBitRemoteCommand	{L:23}
(-) UINT
A0010AD0  F000C001		mov.aa a15, a12
A0010AD4  08C0F509		ld.hu d5, [a15]
A0010AD8  41F0F00B		mov d4, d15
A0010ADC  FD4EFF6D		call #0xFFFD4E ; CALL 0xA0010578
A0010AE0  F1F0200B		mov d15, d2

#98					NOT	{L:23}
(*) BOOL
A0010AE4  8000103B		mov d8, #1
A0010AE8  9000003B		mov d9, #0
A0010AEC  FF40892B		sel d15, d15, d9, d8

#99					JMPCN	$label7	{L:23}
(-) BOOL
A0010AF0  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0010B0C

#100		
#101					(* THEN *)
#102		
#103						(* ReadCommandAnd := FALSE; *)
#104						LD		FALSE	{L:24}
(*) UNDEF
A0010AF4  F000003B		mov d15, #0

#105						ST		ReadCommandAnd	{L:24}
(*) BOOL
A0010AF8  21F0F00B		mov d2, d15

#106		
#107						(* RETURN *)
#108						RET
(-) BOOL
A0010AFC  FA001091		movh.a a15, #0xA001 ; 0xA0010B14
A0010B00  C094FFD9		lea a15,[a15]0x0B14
A0010B04  0000000D		nop
A0010B08  00300F2D		ji a15

#109		
#110		$label7:
#111					(* END_IF *)
#112		
#113		$label6:
#114				(* END_IF *)
#115		
#116		$label5:
#117			(* END_IF *)
#118		
#119			(* ReadCommandAnd := TRUE; *)
#120			LD		TRUE	{L:33}
(*) UNDEF
A0010B0C  F000103B		mov d15, #1

#121			ST		ReadCommandAnd	{L:33}
(*) BOOL
A0010B10  21F0F00B		mov d2, d15

A0010B14  800040BB		mov.u d8, #4
A0010B18  E6308001		mov.a a14, d8
A0010B1C  A010EA01		add.a sp, sp, a14

A0010B20  0180000D		ret

END_FUNCTION
**************************************************
	List function: ReadCommandOr
**************************************************

FUNCTION ReadCommandOr : BOOL

{ DE:"Digital command management (OR)
3 sources are available:
digital parameter
digital input
remote command (typically fieldbus)

there is a mask that enables the sources:
bit0= digital parameter, bit1= digital input, bit2=remote command

the function performs and OR between the sources (bit0,1,2) which bit is set TRUE.

Note: if bit0=bit1=bit2=0 the function return FALSE
" }

	VAR_INPUT
	digpar : BOOL; { DE:"digital parameter" } 
	digitalInputs : UINT; { DE:"digital inputs bitword" } 
	nBitDigitalInputs : INT; { DE:"digital input bit number" } 
	remoteCommand : UINT; { DE:"remote command bitword" } 
	nBitRemoteCommand : UINT; { DE:"remote command bit" } 
	enableMask : UINT; { DE:"enable mask: bit0=dig par, bit1=dig input, bit2=remote command)" } 
	END_VAR

	*** Function data allocation

	Par digpar: REGISTER d4
	Par digitalInputs: REGISTER d5
	Par nBitDigitalInputs: REGISTER d6
	Par remoteCommand: REGISTER d7
	Par nBitRemoteCommand: LOCAL STACK FRAME AT 0(sp)
	Par enableMask: CALLER STACK FRAME AT 4(sp)

A0010B24  A1F0400B		mov d10, d4
A0010B28  B1F0500B		mov d11, d5
A0010B2C  C1F0600B		mov d12, d6
A0010B30  D1F0700B		mov d13, d7
A0010B34  C000A001		mov.aa a12, sp
A0010B38  800040BB		mov.u d8, #4
A0010B3C  E6308001		mov.a a14, d8
A0010B40  A020EA01		sub.a sp, sp, a14

#0		{SRC:ReadCommandOr}
#1		
#2		
#3			(* IF enableMask AND 1) <> 0 *)
#4			LD		enableMask	{L:3}
(*) UNDEF
A0010B44  800040BB		mov.u d8, #0x4
A0010B48  F600C801		addsc.a a15, a12, d8, #0
A0010B4C  08C0FF09		ld.hu d15, [a15]

#5			AND		1	{L:3}
(*) UINT
A0010B50  8000103B		mov d8, #1
A0010B54  F0808F0F		and d15, d15, d8

#6			NE		0	{L:3}
(*) UINT
A0010B58  8000003B		mov d8, #0
A0010B5C  F1108F0B		ne d15, d15, d8

#7			JMPCN	$label0	{L:3}
(-) BOOL
A0010B60  00120FDF		jeq d15, #0, #0x0012 ; JUMP 0xA0010B84

#8		
#9			(* THEN *)
#10		
#11		
#12				(* IF digpar *)
#13				LD		digpar	{L:4}
(*) UNDEF
A0010B64  F1F0A00B		mov d15, d10

#14				JMPCN	$label1	{L:4}
(-) BOOL
A0010B68  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0010B84

#15		
#16				(* THEN *)
#17		
#18					(* ReadCommandOr := TRUE; *)
#19					LD		TRUE	{L:5}
(*) UNDEF
A0010B6C  F000103B		mov d15, #1

#20					ST		ReadCommandOr	{L:5}
(*) BOOL
A0010B70  21F0F00B		mov d2, d15

#21		
#22					(* RETURN *)
#23					RET
(-) BOOL
A0010B74  FA001091		movh.a a15, #0xA001 ; 0xA0010C64
A0010B78  10E4FFD9		lea a15,[a15]0x0C64
A0010B7C  0000000D		nop
A0010B80  00300F2D		ji a15

#24		
#25		$label1:
#26				(* END_IF *)
#27		
#28		$label0:
#29			(* END_IF *)
#30		
#31		
#32			(* IF enableMask AND 2) <> 0 *)
#33			LD		enableMask	{L:11}
(*) UNDEF
A0010B84  800040BB		mov.u d8, #0x4
A0010B88  F600C801		addsc.a a15, a12, d8, #0
A0010B8C  08C0FF09		ld.hu d15, [a15]

#34			AND		2	{L:11}
(*) UINT
A0010B90  8000203B		mov d8, #2
A0010B94  F0808F0F		and d15, d15, d8

#35			NE		0	{L:11}
(*) UINT
A0010B98  8000003B		mov d8, #0
A0010B9C  F1108F0B		ne d15, d15, d8

#36			JMPCN	$label2	{L:11}
(-) BOOL
A0010BA0  002A0FDF		jeq d15, #0, #0x002A ; JUMP 0xA0010BF4

#37		
#38			(* THEN *)
#39		
#40		
#41				(* IF nBitDigitalInputs >= 0 *)
#42				LD		nBitDigitalInputs	{L:12}
(*) UNDEF
A0010BA4  F1F0C00B		mov d15, d12

#43				GE		0	{L:12}
(*) INT
A0010BA8  8000003B		mov d8, #0
A0010BAC  F1408F0B		ge d15, d15, d8

#44				JMPCN	$label3	{L:12}
(-) BOOL
A0010BB0  00220FDF		jeq d15, #0, #0x0022 ; JUMP 0xA0010BF4

#45		
#46				(* THEN *)
#47		
#48		
#49					(* IF digitalInputs, TO_UINT(nBitDigitalInputs *)
#50					LD		nBitDigitalInputs	{L:13}
(*) UNDEF
A0010BB4  F1F0C00B		mov d15, d12

#51					TO_UINT	{L:13}
(*) INT
#52					ST		$$TMP0	{L:13}
(*) UINT
A0010BB8  F000A001		mov.aa a15, sp
A0010BBC  0880FF89		st.h [a15], d15

#53					LD		digitalInputs	{L:13}
(*) UNDEF
A0010BC0  F1F0B00B		mov d15, d11

#54					RBit		$$TMP0	{L:13}
(-) UINT
A0010BC4  F000A001		mov.aa a15, sp
A0010BC8  08C0F509		ld.hu d5, [a15]
A0010BCC  41F0F00B		mov d4, d15
A0010BD0  FCD4FF6D		call #0xFFFCD4 ; CALL 0xA0010578
A0010BD4  F1F0200B		mov d15, d2

#55					JMPCN	$label4	{L:13}
(-) BOOL
A0010BD8  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0010BF4

#56		
#57					(* THEN *)
#58		
#59						(* ReadCommandOr := TRUE; *)
#60						LD		TRUE	{L:14}
(*) UNDEF
A0010BDC  F000103B		mov d15, #1

#61						ST		ReadCommandOr	{L:14}
(*) BOOL
A0010BE0  21F0F00B		mov d2, d15

#62		
#63						(* RETURN *)
#64						RET
(-) BOOL
A0010BE4  FA001091		movh.a a15, #0xA001 ; 0xA0010C64
A0010BE8  10E4FFD9		lea a15,[a15]0x0C64
A0010BEC  0000000D		nop
A0010BF0  00300F2D		ji a15

#65		
#66		$label4:
#67					(* END_IF *)
#68		
#69		$label3:
#70				(* END_IF *)
#71		
#72		$label2:
#73			(* END_IF *)
#74		
#75		
#76			(* IF enableMask AND 4) <> 0 *)
#77			LD		enableMask	{L:21}
(*) UNDEF
A0010BF4  800040BB		mov.u d8, #0x4
A0010BF8  F600C801		addsc.a a15, a12, d8, #0
A0010BFC  08C0FF09		ld.hu d15, [a15]

#78			AND		4	{L:21}
(*) UINT
A0010C00  8000403B		mov d8, #4
A0010C04  F0808F0F		and d15, d15, d8

#79			NE		0	{L:21}
(*) UINT
A0010C08  8000003B		mov d8, #0
A0010C0C  F1108F0B		ne d15, d15, d8

#80			JMPCN	$label5	{L:21}
(-) BOOL
A0010C10  00260FDF		jeq d15, #0, #0x0026 ; JUMP 0xA0010C5C

#81		
#82			(* THEN *)
#83		
#84		
#85				(* IF nBitRemoteCommand >= 0 *)
#86				LD		nBitRemoteCommand	{L:22}
(*) UNDEF
A0010C14  F000C001		mov.aa a15, a12
A0010C18  08C0FF09		ld.hu d15, [a15]

#87				GE		0	{L:22}
(*) UINT
A0010C1C  8000003B		mov d8, #0
A0010C20  F1508F0B		ge.u d15, d15, d8

#88				JMPCN	$label6	{L:22}
(-) BOOL
A0010C24  001C0FDF		jeq d15, #0, #0x001C ; JUMP 0xA0010C5C

#89		
#90				(* THEN *)
#91		
#92		
#93					(* IF remoteCommand, nBitRemoteCommand *)
#94					LD		remoteCommand	{L:23}
(*) UNDEF
A0010C28  F1F0D00B		mov d15, d13

#95					RBit		nBitRemoteCommand	{L:23}
(-) UINT
A0010C2C  F000C001		mov.aa a15, a12
A0010C30  08C0F509		ld.hu d5, [a15]
A0010C34  41F0F00B		mov d4, d15
A0010C38  FCA0FF6D		call #0xFFFCA0 ; CALL 0xA0010578
A0010C3C  F1F0200B		mov d15, d2

#96					JMPCN	$label7	{L:23}
(-) BOOL
A0010C40  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0010C5C

#97		
#98					(* THEN *)
#99		
#100						(* ReadCommandOr := TRUE; *)
#101						LD		TRUE	{L:24}
(*) UNDEF
A0010C44  F000103B		mov d15, #1

#102						ST		ReadCommandOr	{L:24}
(*) BOOL
A0010C48  21F0F00B		mov d2, d15

#103		
#104						(* RETURN *)
#105						RET
(-) BOOL
A0010C4C  FA001091		movh.a a15, #0xA001 ; 0xA0010C64
A0010C50  10E4FFD9		lea a15,[a15]0x0C64
A0010C54  0000000D		nop
A0010C58  00300F2D		ji a15

#106		
#107		$label7:
#108					(* END_IF *)
#109		
#110		$label6:
#111				(* END_IF *)
#112		
#113		$label5:
#114			(* END_IF *)
#115		
#116			(* ReadCommandOr := FALSE; *)
#117			LD		FALSE	{L:31}
(*) UNDEF
A0010C5C  F000003B		mov d15, #0

#118			ST		ReadCommandOr	{L:31}
(*) BOOL
A0010C60  21F0F00B		mov d2, d15

A0010C64  800040BB		mov.u d8, #4
A0010C68  E6308001		mov.a a14, d8
A0010C6C  A010EA01		add.a sp, sp, a14

A0010C70  0180000D		ret

END_FUNCTION
***********************************************************************
UNUSED FUNCTION BLOCKS:

	RLS_conKf
	OL_trj_Marco
	sysDBReadIntegerFieldMin
	sysDBReadIntegerFieldMax
	sysDBReadIntegerFieldEu
	sysDBReadIntegerFieldScale
	sysDBReadIntegerField
	sysDBReadRealFieldMin
	sysDBReadRealFieldMax
	sysDBReadRealFieldEu
	sysDBReadRealFieldScale
	sysDBReadRealField
	sysDBGetIntegerPar
	sysDBGetIntegerFieldMin
	sysDBGetIntegerFieldMax
	sysDBGetIntegerFieldEu
	sysDBGetIntegerFieldScale
	sysDBGetIntegerField
	sysDBGetRealPar
	sysDBGetRealFieldMin
	sysDBGetRealFieldMax
	sysDBGetRealFieldEu
	sysDBGetRealFieldScale
	sysDBGetRealField
	TON
	TOF
	SR
	RS
	R_TRIG
	FF_D
	F_TRIG
	DiameterCalculation
	LP_FilterR
	PID
	PidR
	LinearRampR
	TorqueFFwd
	UpDown
	DelayDW
	UpDownR
	LinearRamp
	Counter
	Pulse
	SegmentFB
	ByteToBit
	WordToBit
	WordtoByte
	SquareWave
	TwoByteToWord
	TwoWordToDWord
	FourByteToDWord

***********************************************************************
**************************************************
	List function block: InputConversionADV200
**************************************************

FUNCTION_BLOCK InputConversionADV200

	VAR_INPUT
	Krpm : REAL; { DE:"Costante di conversione [rpm/count]" } 
	Krad_s : REAL; { DE:"Costante di conversione [rad/s/count]" } 
	KArms : REAL; { DE:"Costante di conversione Corrente [Arms/count]" } 
	KCnt2Nm : REAL; { DE:"Conversione da count a Nm [cnt/Nm]" } 
	sysPos : DINT; { DE:"Posizione letta dall'azionamento " } 
	sysSpd : DINT; { DE:"VelocitÃ  letta dall'azionamento " } 
	sysIq : DINT; { DE:"Corrente letta dall'azionamento" } 
	sysTrqRef : DINT; { DE:"Coppia letta dall'azionamento" } 
	PosDINT : DINT; { DE:"Posizione letta dall'azionamento in funzione della velocitÃ " } 
	offset : REAL; { DE:"Offset di Posizione [rad]" } 
	sysRev : DINT; { DE:"Numero di rivoluzioni dell'encoder" } 
	_sysTrqNoFilt : DINT; 
	END_VAR

	VAR_OUTPUT
	pos : REAL; { DE:"Posizione angolare del motore [rad]" } 
	vel_rpm : REAL; { DE:"VelocitÃ  del motore [rpm]" } 
	vel : REAL; { DE:"VelocitÃ  angolare del motore [rad/s]" } 
	trq : REAL; { DE:"Coppia erogata dal motore [N*m]" } 
	curr : REAL; { DE:"Corrente di coppia del motore [Arms]" } 
	END_VAR

	VAR_EXTERNAL
	v_Position : REAL; 
	v_Speed : REAL; 
	v_Torque : REAL; 
	END_VAR

A0010C74  C0004001		mov.aa a12, a4

#0		{SRC:InputConversionADV200}
#1		
#2			(* pos:=(TO_REAL(sysPos)/PosDINT+sysRev)*2.0*PI + offset; *)
#3			LD		sysPos	{L:4}
(*) UNDEF
A0010C78  800100BB		mov.u d8, #0x10
A0010C7C  F600C801		addsc.a a15, a12, d8, #0
A0010C80  0000FF19		ld.w d15, [a15]

#4			TO_REAL	{L:4}
(*) DINT
A0010C84  F1410F4B		itof d15, d15

#5			DIV		PosDINT	{L:4}
(*) REAL
A0010C88  800200BB		mov.u d8, #0x20
A0010C8C  F600C801		addsc.a a15, a12, d8, #0
A0010C90  0000F819		ld.w d8, [a15]
A0010C94  8141084B		itof d8, d8
A0010C98  F0518F4B		div.f d15, d15, d8

#6			ADD		sysRev	{L:4}
(*) REAL
A0010C9C  800280BB		mov.u d8, #0x28
A0010CA0  F600C801		addsc.a a15, a12, d8, #0
A0010CA4  0000F819		ld.w d8, [a15]
A0010CA8  8141084B		itof d8, d8
A0010CAC  FF21086B		add.f d15, d15, d8

#7			MUL		2.0	{L:4}
(*) REAL
A0010CB0  800000BB		mov.u d8, #0x0000 ; COSTREAL 2.000000
A0010CB4  8400089B		addih d8, d8, #0x4000
A0010CB8  F0418F4B		mul.f d15, d15, d8

#8			MUL		PI	{L:4}
(*) REAL
A0010CBC  80FDB0BB		mov.u d8, #0x0FDB ; COSTREAL 3.141593
A0010CC0  8404989B		addih d8, d8, #0x4049
A0010CC4  F0418F4B		mul.f d15, d15, d8

#9			ADD		offset	{L:4}
(*) REAL
A0010CC8  800240BB		mov.u d8, #0x24
A0010CCC  F600C801		addsc.a a15, a12, d8, #0
A0010CD0  0000F819		ld.w d8, [a15]
A0010CD4  FF21086B		add.f d15, d15, d8

#10			ST		pos	{L:4}
(*) REAL
A0010CD8  800300BB		mov.u d8, #0x30
A0010CDC  F600C801		addsc.a a15, a12, d8, #0
A0010CE0  0000FF59		st.w [a15], d15

#11		
#12			(* vel_rpm:= TO_REAL(sysSpd)*Krpm; *)
#13			LD		sysSpd	{L:6}
(*) UNDEF
A0010CE4  800140BB		mov.u d8, #0x14
A0010CE8  F600C801		addsc.a a15, a12, d8, #0
A0010CEC  0000FF19		ld.w d15, [a15]

#14			TO_REAL	{L:6}
(*) DINT
A0010CF0  F1410F4B		itof d15, d15

#15			MUL		Krpm	{L:6}
(*) REAL
A0010CF4  F000C001		mov.aa a15, a12
A0010CF8  0000F819		ld.w d8, [a15]
A0010CFC  F0418F4B		mul.f d15, d15, d8

#16			ST		vel_rpm	{L:6}
(*) REAL
A0010D00  800340BB		mov.u d8, #0x34
A0010D04  F600C801		addsc.a a15, a12, d8, #0
A0010D08  0000FF59		st.w [a15], d15

#17		
#18			(* vel:=TO_REAL(sysSpd)*Krad_s; *)
#19			LD		sysSpd	{L:8}
(*) UNDEF
A0010D0C  800140BB		mov.u d8, #0x14
A0010D10  F600C801		addsc.a a15, a12, d8, #0
A0010D14  0000FF19		ld.w d15, [a15]

#20			TO_REAL	{L:8}
(*) DINT
A0010D18  F1410F4B		itof d15, d15

#21			MUL		Krad_s	{L:8}
(*) REAL
A0010D1C  800040BB		mov.u d8, #0x4
A0010D20  F600C801		addsc.a a15, a12, d8, #0
A0010D24  0000F819		ld.w d8, [a15]
A0010D28  F0418F4B		mul.f d15, d15, d8

#22			ST		vel	{L:8}
(*) REAL
A0010D2C  800380BB		mov.u d8, #0x38
A0010D30  F600C801		addsc.a a15, a12, d8, #0
A0010D34  0000FF59		st.w [a15], d15

#23		
#24			(* curr:=TO_REAL(sysIq)*KArms; *)
#25			LD		sysIq	{L:10}
(*) UNDEF
A0010D38  800180BB		mov.u d8, #0x18
A0010D3C  F600C801		addsc.a a15, a12, d8, #0
A0010D40  0000FF19		ld.w d15, [a15]

#26			TO_REAL	{L:10}
(*) DINT
A0010D44  F1410F4B		itof d15, d15

#27			MUL		KArms	{L:10}
(*) REAL
A0010D48  800080BB		mov.u d8, #0x8
A0010D4C  F600C801		addsc.a a15, a12, d8, #0
A0010D50  0000F819		ld.w d8, [a15]
A0010D54  F0418F4B		mul.f d15, d15, d8

#28			ST		curr	{L:10}
(*) REAL
A0010D58  800400BB		mov.u d8, #0x40
A0010D5C  F600C801		addsc.a a15, a12, d8, #0
A0010D60  0000FF59		st.w [a15], d15

#29		
#30			(* trq := TO_REAL(_sysTrqNoFilt) * KCnt2Nm; *)
#31			LD		_sysTrqNoFilt	{L:12}
(*) UNDEF
A0010D64  8002C0BB		mov.u d8, #0x2C
A0010D68  F600C801		addsc.a a15, a12, d8, #0
A0010D6C  0000FF19		ld.w d15, [a15]

#32			TO_REAL	{L:12}
(*) DINT
A0010D70  F1410F4B		itof d15, d15

#33			MUL		KCnt2Nm	{L:12}
(*) REAL
A0010D74  8000C0BB		mov.u d8, #0xC
A0010D78  F600C801		addsc.a a15, a12, d8, #0
A0010D7C  0000F819		ld.w d8, [a15]
A0010D80  F0418F4B		mul.f d15, d15, d8

#34			ST		trq	{L:12}
(*) REAL
A0010D84  8003C0BB		mov.u d8, #0x3C
A0010D88  F600C801		addsc.a a15, a12, d8, #0
A0010D8C  0000FF59		st.w [a15], d15

#35		
#36			(* v_Position := pos; *)
#37			LD		pos	{L:14}
(*) UNDEF
A0010D90  800300BB		mov.u d8, #0x30
A0010D94  F600C801		addsc.a a15, a12, d8, #0
A0010D98  0000FF19		ld.w d15, [a15]

#38			ST		v_Position	{L:14}
(*) REAL
A0010D9C  0230CFA5		st.w #0x32030, d15 ; ADR 0xC0002030
A0010DA0  0000000D		nop

#39		
#40			(* v_Speed := vel; *)
#41			LD		vel	{L:16}
(*) UNDEF
A0010DA4  800380BB		mov.u d8, #0x38
A0010DA8  F600C801		addsc.a a15, a12, d8, #0
A0010DAC  0000FF19		ld.w d15, [a15]

#42			ST		v_Speed	{L:16}
(*) REAL
A0010DB0  0234CFA5		st.w #0x32034, d15 ; ADR 0xC0002034
A0010DB4  0000000D		nop

#43		
#44			(* v_Torque := trq; *)
#45			LD		trq	{L:18}
(*) UNDEF
A0010DB8  8003C0BB		mov.u d8, #0x3C
A0010DBC  F600C801		addsc.a a15, a12, d8, #0
A0010DC0  0000FF19		ld.w d15, [a15]

#46			ST		v_Torque	{L:18}
(*) REAL
A0010DC4  0238CFA5		st.w #0x32038, d15 ; ADR 0xC0002038
A0010DC8  0000000D		nop

A0010DCC  0180000D		ret


Frame allocation:

	0000       : VAR Krpm
	0004       : VAR Krad_s
	0008       : VAR KArms
	000C       : VAR KCnt2Nm
	0010       : VAR sysPos
	0014       : VAR sysSpd
	0018       : VAR sysIq
	001C       : VAR sysTrqRef
	0020       : VAR PosDINT
	0024       : VAR offset
	0028       : VAR sysRev
	002C       : VAR _sysTrqNoFilt
	0030       : VAR pos
	0034       : VAR vel_rpm
	0038       : VAR vel
	003C       : VAR trq
	0040       : VAR curr

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_NoiseLevelID
**************************************************

FUNCTION_BLOCK fb_NoiseLevelID

	VAR_INPUT
	fbInit : BOOL; 
	timeID : REAL; 
	signal : REAL; 
	ENABLE : BOOL; 
	Ts : REAL; 
	END_VAR

	VAR_OUTPUT
	noiseLevel : REAL; 
	END : BOOL; 
	END_VAR

	VAR
	time : REAL; 
	END_VAR

A0010DD0  C0004001		mov.aa a12, a4

#0		{SRC:fb_NoiseLevelID}
#1		
#2		
#3			(* IF fbInit *)
#4			LD		fbInit	{L:1}
(*) UNDEF
A0010DD4  800040BB		mov.u d8, #0x4
A0010DD8  F600C801		addsc.a a15, a12, d8, #0
A0010DDC  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A0010DE0  001E0FDF		jeq d15, #0, #0x001E ; JUMP 0xA0010E1C

#6		
#7			(* THEN *)
#8		
#9				(* noiseLevel := 0.0; *)
#10				LD		0.0	{L:2}
(*) UNDEF
A0010DE4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0010DE8  F0000F9B		addih d15, d15, #0x0000

#11				ST		noiseLevel	{L:2}
(*) REAL
A0010DEC  800180BB		mov.u d8, #0x18
A0010DF0  F600C801		addsc.a a15, a12, d8, #0
A0010DF4  0000FF59		st.w [a15], d15

#12		
#13				(* time       := 0.0; *)
#14				LD		0.0	{L:3}
(*) UNDEF
A0010DF8  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0010DFC  F0000F9B		addih d15, d15, #0x0000

#15				ST		time	{L:3}
(*) REAL
A0010E00  F000C001		mov.aa a15, a12
A0010E04  0000FF59		st.w [a15], d15

#16		
#17				(* END		   := FALSE; *)
#18				LD		FALSE	{L:4}
(*) UNDEF
A0010E08  F000003B		mov d15, #0

#19				ST		END	{L:4}
(*) BOOL
A0010E0C  8001C0BB		mov.u d8, #0x1C
A0010E10  F600C801		addsc.a a15, a12, d8, #0
A0010E14  0000FF59		st.w [a15], d15

#20				JMP		$label1
(-) BOOL
A0010E18  0080001D		j #0x000080 ; JUMP 0xA0010F18

#21		$label0:
#22		
#23			(* ELSE *)
#24		
#25		
#26				(* IF ENABLE *)
#27				LD		ENABLE	{L:6}
(*) UNDEF
A0010E1C  800100BB		mov.u d8, #0x10
A0010E20  F600C801		addsc.a a15, a12, d8, #0
A0010E24  0000FF19		ld.w d15, [a15]

#28				JMPCN	$label2	{L:6}
(-) BOOL
A0010E28  00640FDF		jeq d15, #0, #0x0064 ; JUMP 0xA0010EF0

#29		
#30				(* THEN *)
#31		
#32					(* time := time + Ts; *)
#33					LD		time	{L:7}
(*) UNDEF
A0010E2C  F000C001		mov.aa a15, a12
A0010E30  0000FF19		ld.w d15, [a15]

#34					ADD		Ts	{L:7}
(*) REAL
A0010E34  800140BB		mov.u d8, #0x14
A0010E38  F600C801		addsc.a a15, a12, d8, #0
A0010E3C  0000F819		ld.w d8, [a15]
A0010E40  FF21086B		add.f d15, d15, d8

#35					ST		time	{L:7}
(*) REAL
A0010E44  F000C001		mov.aa a15, a12
A0010E48  0000FF59		st.w [a15], d15

#36		
#37		
#38					(* IF time <= timeID *)
#39					LD		time	{L:8}
(*) UNDEF
A0010E4C  F000C001		mov.aa a15, a12
A0010E50  0000FF19		ld.w d15, [a15]

#40					LE		timeID	{L:8}
(*) REAL
A0010E54  800080BB		mov.u d8, #0x8
A0010E58  F600C801		addsc.a a15, a12, d8, #0
A0010E5C  0000F519		ld.w d5, [a15]
A0010E60  F0015F4B		cmp.f d15, d15, d5
A0010E64  F2204F8B		ne d15, d15, #4

#41					JMPCN	$label4	{L:8}
(-) BOOL
A0010E68  003A0FDF		jeq d15, #0, #0x003A ; JUMP 0xA0010EDC

#42		
#43					(* THEN *)
#44		
#45		
#46						(* IF signal) > noiseLevel *)
#47						LD		signal	{L:9}
(*) UNDEF
A0010E6C  8000C0BB		mov.u d8, #0xC
A0010E70  F600C801		addsc.a a15, a12, d8, #0
A0010E74  0000FF19		ld.w d15, [a15]

#48						ABS	{L:9}
(*) REAL
A0010E78  41F0F00B		mov d4, d15
A0010E7C  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A0010E80  31F0FFD9		lea a15,[a15]0x1CF0
A0010E84  0000000D		nop
A0010E88  00000F2D		calli a15
A0010E8C  F1F0200B		mov d15, d2

#49						GT		noiseLevel	{L:9}
(*) REAL
A0010E90  800180BB		mov.u d8, #0x18
A0010E94  F600C801		addsc.a a15, a12, d8, #0
A0010E98  0000F519		ld.w d5, [a15]
A0010E9C  F0015F4B		cmp.f d15, d15, d5
A0010EA0  F2004F8B		eq d15, d15, #4

#50						JMPCN	$label6	{L:9}
(-) BOOL
A0010EA4  001A0FDF		jeq d15, #0, #0x001A ; JUMP 0xA0010ED8

#51		
#52						(* THEN *)
#53		
#54							(* noiseLevel := ABS(signal); *)
#55							LD		signal	{L:10}
(*) UNDEF
A0010EA8  8000C0BB		mov.u d8, #0xC
A0010EAC  F600C801		addsc.a a15, a12, d8, #0
A0010EB0  0000FF19		ld.w d15, [a15]

#56							ABS	{L:10}
(*) REAL
A0010EB4  41F0F00B		mov d4, d15
A0010EB8  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A0010EBC  31F0FFD9		lea a15,[a15]0x1CF0
A0010EC0  0000000D		nop
A0010EC4  00000F2D		calli a15
A0010EC8  F1F0200B		mov d15, d2

#57							ST		noiseLevel	{L:10}
(*) REAL
A0010ECC  800180BB		mov.u d8, #0x18
A0010ED0  F600C801		addsc.a a15, a12, d8, #0
A0010ED4  0000FF59		st.w [a15], d15

#58		
#59		$label6:
#60						(* END_IF *)
#61						JMP		$label5
(-) REAL
A0010ED8  000A001D		j #0x00000A ; JUMP 0xA0010EEC

#62		$label4:
#63		
#64					(* ELSE *)
#65		
#66						(* END := TRUE; *)
#67						LD		TRUE	{L:13}
(*) UNDEF
A0010EDC  F000103B		mov d15, #1

#68						ST		END	{L:13}
(*) BOOL
A0010EE0  8001C0BB		mov.u d8, #0x1C
A0010EE4  F600C801		addsc.a a15, a12, d8, #0
A0010EE8  0000FF59		st.w [a15], d15

#69		
#70		$label5:
#71					(* END_IF *)
#72					JMP		$label3
(-) BOOL
A0010EEC  0016001D		j #0x000016 ; JUMP 0xA0010F18

#73		$label2:
#74		
#75				(* ELSE *)
#76		
#77					(* time       := 0.0; *)
#78					LD		0.0	{L:16}
(*) UNDEF
A0010EF0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0010EF4  F0000F9B		addih d15, d15, #0x0000

#79					ST		time	{L:16}
(*) REAL
A0010EF8  F000C001		mov.aa a15, a12
A0010EFC  0000FF59		st.w [a15], d15

#80		
#81					(* noiseLevel := noiseLevel; *)
#82					LD		noiseLevel	{L:17}
(*) UNDEF
A0010F00  800180BB		mov.u d8, #0x18
A0010F04  F600C801		addsc.a a15, a12, d8, #0
A0010F08  0000FF19		ld.w d15, [a15]

#83					ST		noiseLevel	{L:17}
(*) REAL
A0010F0C  800180BB		mov.u d8, #0x18
A0010F10  F600C801		addsc.a a15, a12, d8, #0
A0010F14  0000FF59		st.w [a15], d15

A0010F18  0180000D		ret


Frame allocation:

	0004 bit  0: VAR fbInit
	0008       : VAR timeID
	000C       : VAR signal
	0010 bit  0: VAR ENABLE
	0014       : VAR Ts
	0018       : VAR noiseLevel
	001C bit  0: VAR END
	0000       : VAR time

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_NoiseLevelID_Trj
**************************************************

FUNCTION_BLOCK fb_NoiseLevelID_Trj

	VAR_INPUT
	fbInit : BOOL; 
	ENABLE : BOOL; 
	reference : REAL; 
	END_VAR

	VAR_OUTPUT
	TrqRef : REAL; 
	END_VAR

A0010F1C  C0004001		mov.aa a12, a4

#0		{SRC:fb_NoiseLevelID_Trj}
#1		
#2		
#3			(* IF fbInit *)
#4			LD		fbInit	{L:1}
(*) UNDEF
A0010F20  F000C001		mov.aa a15, a12
A0010F24  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A0010F28  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0010F44

#6		
#7			(* THEN *)
#8		
#9				(* TrqRef := 0.0; *)
#10				LD		0.0	{L:2}
(*) UNDEF
A0010F2C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0010F30  F0000F9B		addih d15, d15, #0x0000

#11				ST		TrqRef	{L:2}
(*) REAL
A0010F34  8000C0BB		mov.u d8, #0xC
A0010F38  F600C801		addsc.a a15, a12, d8, #0
A0010F3C  0000FF59		st.w [a15], d15

#12				JMP		$label1
(-) REAL
A0010F40  0022001D		j #0x000022 ; JUMP 0xA0010F84

#13		$label0:
#14		
#15			(* ELSE *)
#16		
#17		
#18				(* IF ENABLE *)
#19				LD		ENABLE	{L:5}
(*) UNDEF
A0010F44  800040BB		mov.u d8, #0x4
A0010F48  F600C801		addsc.a a15, a12, d8, #0
A0010F4C  0000FF19		ld.w d15, [a15]

#20				JMPCN	$label2	{L:5}
(-) BOOL
A0010F50  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA0010F70

#21		
#22				(* THEN *)
#23		
#24					(* TrqRef := reference; *)
#25					LD		reference	{L:6}
(*) UNDEF
A0010F54  800080BB		mov.u d8, #0x8
A0010F58  F600C801		addsc.a a15, a12, d8, #0
A0010F5C  0000FF19		ld.w d15, [a15]

#26					ST		TrqRef	{L:6}
(*) REAL
A0010F60  8000C0BB		mov.u d8, #0xC
A0010F64  F600C801		addsc.a a15, a12, d8, #0
A0010F68  0000FF59		st.w [a15], d15

#27					JMP		$label3
(-) REAL
A0010F6C  000C001D		j #0x00000C ; JUMP 0xA0010F84

#28		$label2:
#29		
#30				(* ELSE *)
#31		
#32					(* TrqRef := 0.0; *)
#33					LD		0.0	{L:8}
(*) UNDEF
A0010F70  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0010F74  F0000F9B		addih d15, d15, #0x0000

#34					ST		TrqRef	{L:8}
(*) REAL
A0010F78  8000C0BB		mov.u d8, #0xC
A0010F7C  F600C801		addsc.a a15, a12, d8, #0
A0010F80  0000FF59		st.w [a15], d15

A0010F84  0180000D		ret


Frame allocation:

	0000 bit  0: VAR fbInit
	0004 bit  0: VAR ENABLE
	0008       : VAR reference
	000C       : VAR TrqRef

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_StaticFrictionID_OL
**************************************************

FUNCTION_BLOCK fb_StaticFrictionID_OL

	VAR_INPUT
	fbInit : BOOL; 
	input : REAL; 
	output : REAL; 
	ENABLE : BOOL; 
	Threshold : REAL; 
	noiseLevel : REAL; 
	END_VAR

	VAR_OUTPUT
	staticFriction : REAL; 
	END : BOOL; 
	END_VAR

	VAR
	time : REAL; 
	cnt : UINT; 
	END_VAR

A0010F88  C0004001		mov.aa a12, a4

#0		{SRC:fb_StaticFrictionID_OL}
#1		
#2		
#3			(* IF fbInit *)
#4			LD		fbInit	{L:1}
(*) UNDEF
A0010F8C  800100BB		mov.u d8, #0x10
A0010F90  F600C801		addsc.a a15, a12, d8, #0
A0010F94  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A0010F98  001E0FDF		jeq d15, #0, #0x001E ; JUMP 0xA0010FD4

#6		
#7			(* THEN *)
#8		
#9				(* END		   := FALSE; *)
#10				LD		FALSE	{L:2}
(*) UNDEF
A0010F9C  F000003B		mov d15, #0

#11				ST		END	{L:2}
(*) BOOL
A0010FA0  8002C0BB		mov.u d8, #0x2C
A0010FA4  F600C801		addsc.a a15, a12, d8, #0
A0010FA8  0000FF59		st.w [a15], d15

#12		
#13				(* staticFriction := 0.0; *)
#14				LD		0.0	{L:3}
(*) UNDEF
A0010FAC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0010FB0  F0000F9B		addih d15, d15, #0x0000

#15				ST		staticFriction	{L:3}
(*) REAL
A0010FB4  800280BB		mov.u d8, #0x28
A0010FB8  F600C801		addsc.a a15, a12, d8, #0
A0010FBC  0000FF59		st.w [a15], d15

#16		
#17				(* cnt := 0; *)
#18				LD		0	{L:4}
(*) UNDEF
A0010FC0  F000003B		mov d15, #0

#19				ST		cnt	{L:4}
(*) USINT
A0010FC4  800040BB		mov.u d8, #0x4
A0010FC8  F600C801		addsc.a a15, a12, d8, #0
A0010FCC  0880FF89		st.h [a15], d15

#20				JMP		$label1
(-) UINT
A0010FD0  009A001D		j #0x00009A ; JUMP 0xA0011104

#21		$label0:
#22		
#23			(* ELSE *)
#24		
#25		
#26				(* IF ENABLE *)
#27				LD		ENABLE	{L:7}
(*) UNDEF
A0010FD4  8001C0BB		mov.u d8, #0x1C
A0010FD8  F600C801		addsc.a a15, a12, d8, #0
A0010FDC  0000FF19		ld.w d15, [a15]

#28				JMPCN	$label2	{L:7}
(-) BOOL
A0010FE0  00860FDF		jeq d15, #0, #0x0086 ; JUMP 0xA00110EC

#29		
#30				(* THEN *)
#31		
#32		
#33					(* IF output) <= noiseLevel*Threshold *)
#34					LD		output	{L:8}
(*) UNDEF
A0010FE4  800180BB		mov.u d8, #0x18
A0010FE8  F600C801		addsc.a a15, a12, d8, #0
A0010FEC  0000FF19		ld.w d15, [a15]

#35					ABS	{L:8}
(*) REAL
A0010FF0  41F0F00B		mov d4, d15
A0010FF4  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A0010FF8  31F0FFD9		lea a15,[a15]0x1CF0
A0010FFC  0000000D		nop
A0011000  00000F2D		calli a15
A0011004  F1F0200B		mov d15, d2

#36					ST		$$TMP0	{L:8}
(*) REAL
A0011008  800080BB		mov.u d8, #0x8
A001100C  F600C801		addsc.a a15, a12, d8, #0
A0011010  0000FF59		st.w [a15], d15

#37					LD		noiseLevel	{L:8}
(*) UNDEF
A0011014  800240BB		mov.u d8, #0x24
A0011018  F600C801		addsc.a a15, a12, d8, #0
A001101C  0000FF19		ld.w d15, [a15]

#38					MUL		Threshold	{L:8}
(*) REAL
A0011020  800200BB		mov.u d8, #0x20
A0011024  F600C801		addsc.a a15, a12, d8, #0
A0011028  0000F819		ld.w d8, [a15]
A001102C  F0418F4B		mul.f d15, d15, d8

#39					ST		$$TMP1	{L:8}
(*) REAL
A0011030  8000C0BB		mov.u d8, #0xC
A0011034  F600C801		addsc.a a15, a12, d8, #0
A0011038  0000FF59		st.w [a15], d15

#40					LD		$$TMP0	{L:8}
(*) UNDEF
A001103C  800080BB		mov.u d8, #0x8
A0011040  F600C801		addsc.a a15, a12, d8, #0
A0011044  0000FF19		ld.w d15, [a15]

#41					LE		$$TMP1	{L:8}
(*) REAL
A0011048  8000C0BB		mov.u d8, #0xC
A001104C  F600C801		addsc.a a15, a12, d8, #0
A0011050  0000F519		ld.w d5, [a15]
A0011054  F0015F4B		cmp.f d15, d15, d5
A0011058  F2204F8B		ne d15, d15, #4

#42					JMPCN	$label4	{L:8}
(-) BOOL
A001105C  00240FDF		jeq d15, #0, #0x0024 ; JUMP 0xA00110A4

#43		
#44					(* THEN *)
#45		
#46						(* cnt := 0; *)
#47						LD		0	{L:9}
(*) UNDEF
A0011060  F000003B		mov d15, #0

#48						ST		cnt	{L:9}
(*) USINT
A0011064  800040BB		mov.u d8, #0x4
A0011068  F600C801		addsc.a a15, a12, d8, #0
A001106C  0880FF89		st.h [a15], d15

#49		
#50						(* staticFriction := ABS(input); *)
#51						LD		input	{L:10}
(*) UNDEF
A0011070  800140BB		mov.u d8, #0x14
A0011074  F600C801		addsc.a a15, a12, d8, #0
A0011078  0000FF19		ld.w d15, [a15]

#52						ABS	{L:10}
(*) REAL
A001107C  41F0F00B		mov d4, d15
A0011080  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A0011084  31F0FFD9		lea a15,[a15]0x1CF0
A0011088  0000000D		nop
A001108C  00000F2D		calli a15
A0011090  F1F0200B		mov d15, d2

#53						ST		staticFriction	{L:10}
(*) REAL
A0011094  800280BB		mov.u d8, #0x28
A0011098  F600C801		addsc.a a15, a12, d8, #0
A001109C  0000FF59		st.w [a15], d15

#54						JMP		$label5
(-) REAL
A00110A0  0024001D		j #0x000024 ; JUMP 0xA00110E8

#55		$label4:
#56		
#57					(* ELSE *)
#58		
#59						(* cnt := cnt + 1; *)
#60						LD		cnt	{L:12}
(*) UNDEF
A00110A4  800040BB		mov.u d8, #0x4
A00110A8  F600C801		addsc.a a15, a12, d8, #0
A00110AC  08C0FF09		ld.hu d15, [a15]

#61						ADD		1	{L:12}
(*) UINT
A00110B0  F0001F8B		add d15, d15, #1

#62						ST		cnt	{L:12}
(*) UINT
A00110B4  800040BB		mov.u d8, #0x4
A00110B8  F600C801		addsc.a a15, a12, d8, #0
A00110BC  0880FF89		st.h [a15], d15

#63		
#64		
#65						(* IF cnt >= 20 *)
#66						LD		cnt	{L:13}
(*) UNDEF
A00110C0  800040BB		mov.u d8, #0x4
A00110C4  F600C801		addsc.a a15, a12, d8, #0
A00110C8  08C0FF09		ld.hu d15, [a15]

#67						GE		20	{L:13}
(*) UINT
A00110CC  8001403B		mov d8, #20
A00110D0  F1508F0B		ge.u d15, d15, d8

#68						JMPCN	$label6	{L:13}
(-) BOOL
A00110D4  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA00110E8

#69		
#70						(* THEN *)
#71		
#72							(* END := TRUE; *)
#73							LD		TRUE	{L:14}
(*) UNDEF
A00110D8  F000103B		mov d15, #1

#74							ST		END	{L:14}
(*) BOOL
A00110DC  8002C0BB		mov.u d8, #0x2C
A00110E0  F600C801		addsc.a a15, a12, d8, #0
A00110E4  0000FF59		st.w [a15], d15

#75		
#76		$label6:
#77						(* END_IF *)
#78		
#79		$label5:
#80					(* END_IF *)
#81					JMP		$label3
(-) BOOL
A00110E8  000E001D		j #0x00000E ; JUMP 0xA0011104

#82		$label2:
#83		
#84				(* ELSE *)
#85		
#86					(* staticFriction := staticFriction; *)
#87					LD		staticFriction	{L:18}
(*) UNDEF
A00110EC  800280BB		mov.u d8, #0x28
A00110F0  F600C801		addsc.a a15, a12, d8, #0
A00110F4  0000FF19		ld.w d15, [a15]

#88					ST		staticFriction	{L:18}
(*) REAL
A00110F8  800280BB		mov.u d8, #0x28
A00110FC  F600C801		addsc.a a15, a12, d8, #0
A0011100  0000FF59		st.w [a15], d15

A0011104  0180000D		ret


Frame allocation:

	0010 bit  0: VAR fbInit
	0014       : VAR input
	0018       : VAR output
	001C bit  0: VAR ENABLE
	0020       : VAR Threshold
	0024       : VAR noiseLevel
	0028       : VAR staticFriction
	002C bit  0: VAR END
	0000       : VAR time
	0004       : VAR cnt
	0008       : VAR $$TMP0
	000C       : VAR $$TMP1

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_StaticFrictionID_OL_Trj
**************************************************

FUNCTION_BLOCK fb_StaticFrictionID_OL_Trj

	VAR_INPUT
	fbInit : BOOL; 
	maxTrq : REAL; 
	TrqResolution : REAL; 
	ENABLE : BOOL; 
	minPos : REAL; 
	maxPos : REAL; 
	Position : REAL; 
	END_VAR

	VAR_OUTPUT
	TrqRef : REAL; 
	END_VAR

	VAR
	direction : REAL; 
	END_VAR

A0011108  C0004001		mov.aa a12, a4

#0		{SRC:fb_StaticFrictionID_OL_Trj}
#1		
#2		
#3			(* IF fbInit *)
#4			LD		fbInit	{L:1}
(*) UNDEF
A001110C  800040BB		mov.u d8, #0x4
A0011110  F600C801		addsc.a a15, a12, d8, #0
A0011114  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A0011118  00480FDF		jeq d15, #0, #0x0048 ; JUMP 0xA00111A8

#6		
#7			(* THEN *)
#8		
#9				(* TrqRef := 0.0; *)
#10				LD		0.0	{L:2}
(*) UNDEF
A001111C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0011120  F0000F9B		addih d15, d15, #0x0000

#11				ST		TrqRef	{L:2}
(*) REAL
A0011124  800200BB		mov.u d8, #0x20
A0011128  F600C801		addsc.a a15, a12, d8, #0
A001112C  0000FF59		st.w [a15], d15

#12		
#13		
#14				(* IF Position>0.5*(minPos+maxPos *)
#15				LD		Position	{L:3}
(*) UNDEF
A0011130  8001C0BB		mov.u d8, #0x1C
A0011134  F600C801		addsc.a a15, a12, d8, #0
A0011138  0000FF19		ld.w d15, [a15]

#16				GT(		minPos	{L:3}
(*) REAL
A001113C  F53CAF89		st.w [-sp]4, d15 
A0011140  800140BB		mov.u d8, #0x14
A0011144  F600C801		addsc.a a15, a12, d8, #0
A0011148  0000FF19		ld.w d15, [a15]

#17				ADD		maxPos	{L:3}
(*) REAL
A001114C  800180BB		mov.u d8, #0x18
A0011150  F600C801		addsc.a a15, a12, d8, #0
A0011154  0000F819		ld.w d8, [a15]
A0011158  FF21086B		add.f d15, d15, d8

#18				MUL		0.5	{L:3}
(*) REAL
A001115C  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A0011160  83F0089B		addih d8, d8, #0x3F00
A0011164  F0418F4B		mul.f d15, d15, d8

#19				)	{L:3}
(*) REAL
A0011168  01F0F00B		mov d0, d15
A001116C  0104AF09		ld.w d15, [sp+]4
A0011170  51F0000B		mov d5, d0
A0011174  F0015F4B		cmp.f d15, d15, d5
A0011178  F2004F8B		eq d15, d15, #4

#20				JMPCN	$label2	{L:3}
(-) BOOL
A001117C  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0011194

#21		
#22				(* THEN *)
#23		
#24					(* direction:=-1.0; *)
#25					LD		-1.0	{L:4}
(*) UNDEF
A0011180  F00000BB		mov.u d15, #0x0000 ; COSTREAL -1.000000
A0011184  FBF80F9B		addih d15, d15, #0xBF80

#26					ST		direction	{L:4}
(*) REAL
A0011188  F000C001		mov.aa a15, a12
A001118C  0000FF59		st.w [a15], d15

#27					JMP		$label3
(-) REAL
A0011190  000A001D		j #0x00000A ; JUMP 0xA00111A4

#28		$label2:
#29		
#30				(* ELSE *)
#31		
#32					(* direction:=1.0; *)
#33					LD		1.0	{L:6}
(*) UNDEF
A0011194  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A0011198  F3F80F9B		addih d15, d15, #0x3F80

#34					ST		direction	{L:6}
(*) REAL
A001119C  F000C001		mov.aa a15, a12
A00111A0  0000FF59		st.w [a15], d15

#35		
#36		$label3:
#37				(* END_IF *)
#38				JMP		$label1
(-) REAL
A00111A4  004E001D		j #0x00004E ; JUMP 0xA0011240

#39		$label0:
#40		
#41			(* ELSE *)
#42		
#43		
#44				(* IF ENABLE *)
#45				LD		ENABLE	{L:10}
(*) UNDEF
A00111A8  800100BB		mov.u d8, #0x10
A00111AC  F600C801		addsc.a a15, a12, d8, #0
A00111B0  0000FF19		ld.w d15, [a15]

#46				JMPCN	$label4	{L:10}
(-) BOOL
A00111B4  003C0FDF		jeq d15, #0, #0x003C ; JUMP 0xA001122C

#47		
#48				(* THEN *)
#49		
#50					(* TrqRef := TrqRef + TrqResolution*direction; *)
#51					LD		TrqResolution	{L:11}
(*) UNDEF
A00111B8  8000C0BB		mov.u d8, #0xC
A00111BC  F600C801		addsc.a a15, a12, d8, #0
A00111C0  0000FF19		ld.w d15, [a15]

#52					MUL		direction	{L:11}
(*) REAL
A00111C4  F000C001		mov.aa a15, a12
A00111C8  0000F819		ld.w d8, [a15]
A00111CC  F0418F4B		mul.f d15, d15, d8

#53					ADD		TrqRef	{L:11}
(*) REAL
A00111D0  800200BB		mov.u d8, #0x20
A00111D4  F600C801		addsc.a a15, a12, d8, #0
A00111D8  0000F819		ld.w d8, [a15]
A00111DC  FF21086B		add.f d15, d15, d8

#54					ST		TrqRef	{L:11}
(*) REAL
A00111E0  800200BB		mov.u d8, #0x20
A00111E4  F600C801		addsc.a a15, a12, d8, #0
A00111E8  0000FF59		st.w [a15], d15

#55		
#56		
#57					(* IF TrqRef >= maxTrq *)
#58					LD		TrqRef	{L:12}
(*) UNDEF
A00111EC  800200BB		mov.u d8, #0x20
A00111F0  F600C801		addsc.a a15, a12, d8, #0
A00111F4  0000FF19		ld.w d15, [a15]

#59					GE		maxTrq	{L:12}
(*) REAL
A00111F8  800080BB		mov.u d8, #0x8
A00111FC  F600C801		addsc.a a15, a12, d8, #0
A0011200  0000F519		ld.w d5, [a15]
A0011204  F0015F4B		cmp.f d15, d15, d5
A0011208  F2201F8B		ne d15, d15, #1

#60					JMPCN	$label6	{L:12}
(-) BOOL
A001120C  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0011228

#61		
#62					(* THEN *)
#63		
#64						(* TrqRef := maxTrq; *)
#65						LD		maxTrq	{L:13}
(*) UNDEF
A0011210  800080BB		mov.u d8, #0x8
A0011214  F600C801		addsc.a a15, a12, d8, #0
A0011218  0000FF19		ld.w d15, [a15]

#66						ST		TrqRef	{L:13}
(*) REAL
A001121C  800200BB		mov.u d8, #0x20
A0011220  F600C801		addsc.a a15, a12, d8, #0
A0011224  0000FF59		st.w [a15], d15

#67		
#68		$label6:
#69					(* END_IF *)
#70					JMP		$label5
(-) REAL
A0011228  000C001D		j #0x00000C ; JUMP 0xA0011240

#71		$label4:
#72		
#73				(* ELSE *)
#74		
#75					(* TrqRef := 0.0; *)
#76					LD		0.0	{L:16}
(*) UNDEF
A001122C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0011230  F0000F9B		addih d15, d15, #0x0000

#77					ST		TrqRef	{L:16}
(*) REAL
A0011234  800200BB		mov.u d8, #0x20
A0011238  F600C801		addsc.a a15, a12, d8, #0
A001123C  0000FF59		st.w [a15], d15

A0011240  0180000D		ret


Frame allocation:

	0004 bit  0: VAR fbInit
	0008       : VAR maxTrq
	000C       : VAR TrqResolution
	0010 bit  0: VAR ENABLE
	0014       : VAR minPos
	0018       : VAR maxPos
	001C       : VAR Position
	0020       : VAR TrqRef
	0000       : VAR direction

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_Random
**************************************************

FUNCTION_BLOCK fb_Random

	VAR_INPUT
	fb_Init : BOOL; 
	END_VAR

	VAR_OUTPUT
	rnd : REAL; 
	END_VAR

	VAR
	rnd_int : DINT; 
	a : DINT; 
	b : DINT; 
	m : DINT; 
	END_VAR

A0011244  C0004001		mov.aa a12, a4

#0		{SRC:fb_Random}
#1		
#2		
#3			(* IF fb_Init *)
#4			LD		fb_Init	{L:1}
(*) UNDEF
A0011248  800100BB		mov.u d8, #0x10
A001124C  F600C801		addsc.a a15, a12, d8, #0
A0011250  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A0011254  00240FDF		jeq d15, #0, #0x0024 ; JUMP 0xA001129C

#6		
#7			(* THEN *)
#8		
#9				(* a := 45158; *)
#10				LD		45158	{L:2}
(*) UNDEF
A0011258  FB0660BB		mov.u d15, #45158

#11				ST		a	{L:2}
(*) UINT
A001125C  800040BB		mov.u d8, #0x4
A0011260  F600C801		addsc.a a15, a12, d8, #0
A0011264  0000FF59		st.w [a15], d15

#12		
#13				(* b := 97543; *)
#14				LD		97543	{L:3}
(*) UNDEF
A0011268  F7D070BB		mov.u d15, #0x7D07 ; COST32 97543
A001126C  F0001F9B		addih d15, d15, #0x0001

#15				ST		b	{L:3}
(*) UDINT
A0011270  800080BB		mov.u d8, #0x8
A0011274  F600C801		addsc.a a15, a12, d8, #0
A0011278  0000FF59		st.w [a15], d15

#16		
#17				(* m := 32486; *)
#18				LD		32486	{L:4}
(*) UNDEF
A001127C  F7EE603B		mov d15, #32486

#19				ST		m	{L:4}
(*) UINT
A0011280  8000C0BB		mov.u d8, #0xC
A0011284  F600C801		addsc.a a15, a12, d8, #0
A0011288  0000FF59		st.w [a15], d15

#20		
#21				(* rnd_int := 0; *)
#22				LD		0	{L:5}
(*) UNDEF
A001128C  F000003B		mov d15, #0

#23				ST		rnd_int	{L:5}
(*) USINT
A0011290  F000C001		mov.aa a15, a12
A0011294  0000FF59		st.w [a15], d15

#24				JMP		$label1
(-) DINT
A0011298  0050001D		j #0x000050 ; JUMP 0xA0011338

#25		$label0:
#26		
#27			(* ELSE *)
#28		
#29				(* rnd_int := (a*rnd_int+b) MOD m; *)
#30				LD		a	{L:7}
(*) UNDEF
A001129C  800040BB		mov.u d8, #0x4
A00112A0  F600C801		addsc.a a15, a12, d8, #0
A00112A4  0000FF19		ld.w d15, [a15]

#31				MUL		rnd_int	{L:7}
(*) DINT
A00112A8  F000C001		mov.aa a15, a12
A00112AC  0000F819		ld.w d8, [a15]
A00112B0  F00A8F73		mul d15, d15, d8

#32				ADD		b	{L:7}
(*) DINT
A00112B4  800080BB		mov.u d8, #0x8
A00112B8  F600C801		addsc.a a15, a12, d8, #0
A00112BC  0000F819		ld.w d8, [a15]
A00112C0  F0008F0B		add d15, d15, d8

#33				MOD		m	{L:7}
(*) DINT
A00112C4  8000C0BB		mov.u d8, #0xC
A00112C8  F600C801		addsc.a a15, a12, d8, #0
A00112CC  0000F819		ld.w d8, [a15]
A00112D0  21A08F4B		dvinit d2/d3, d15, d8
A00112D4  9000303B		mov d9, #3
A00112D8  F6309001		mov.a a15, d9
A00112DC  22F0806B		dvstep d2/d3, d2/d3, d8
A00112E0  7FFEF0FD		loop a15, #-2
A00112E4  22D0806B		dvadj d2/d3, d2/d3, d8
A00112E8  F1F0300B		mov d15, d3

#34				ST		rnd_int	{L:7}
(*) DINT
A00112EC  F000C001		mov.aa a15, a12
A00112F0  0000FF59		st.w [a15], d15

#35		
#36				(* rnd := TO_REAL(rnd_int)/TO_REAL(m-1); *)
#37				LD		rnd_int	{L:8}
(*) UNDEF
A00112F4  F000C001		mov.aa a15, a12
A00112F8  0000FF19		ld.w d15, [a15]

#38				TO_REAL	{L:8}
(*) DINT
A00112FC  F1410F4B		itof d15, d15

#39				DIV(		m	{L:8}
(*) REAL
A0011300  F53CAF89		st.w [-sp]4, d15 
A0011304  8000C0BB		mov.u d8, #0xC
A0011308  F600C801		addsc.a a15, a12, d8, #0
A001130C  0000FF19		ld.w d15, [a15]

#40				SUB		1	{L:8}
(*) DINT
A0011310  8000103B		mov d8, #1
A0011314  F0808F0B		sub d15, d15, d8

#41				TO_REAL	{L:8}
(*) DINT
A0011318  F1410F4B		itof d15, d15

#42				)	{L:8}
(*) REAL
A001131C  01F0F00B		mov d0, d15
A0011320  0104AF09		ld.w d15, [sp+]4
A0011324  81F0000B		mov d8, d0
A0011328  F0518F4B		div.f d15, d15, d8

#43				ST		rnd	{L:8}
(*) REAL
A001132C  800140BB		mov.u d8, #0x14
A0011330  F600C801		addsc.a a15, a12, d8, #0
A0011334  0000FF59		st.w [a15], d15

A0011338  0180000D		ret


Frame allocation:

	0010 bit  0: VAR fb_Init
	0014       : VAR rnd
	0000       : VAR rnd_int
	0004       : VAR a
	0008       : VAR b
	000C       : VAR m

END_FUNCTION_BLOCK
**************************************************
	List function block: RLS_senzaKf
**************************************************

FUNCTION_BLOCK RLS_senzaKf

	VAR_INPUT
	S : REAL; { DE:"Parametro tuning per la convergenza" } 
	y : REAL; 
	vel : REAL; { DE:"velocità" } 
	Ts : REAL; 
	Time_max : REAL; 
	ssMethodType : SINT; 
	END_VAR

	VAR_OUTPUT
	Jm : REAL; { DE:"Inerzia" } 
	Bm : REAL; { DE:"Attrito viscoso" } 
	END : BOOL; 
	END_VAR

	VAR
	vel_sign : REAL; 
	vel_prec : REAL; 
	innovation : REAL; 
	i : SINT; 
	acc : REAL; { DE:"accelerazione" } 
	Time : REAL; 
	Q_old : ARRAY[ 0..3 ] OF REAL; 
	Q : ARRAY[ 0..3 ] OF REAL; 
	PARAM : ARRAY[ 0..1 ] OF REAL; { DE:"Parametri (Jm, Bm)" } 
	END_VAR

A001133C  C0004001		mov.aa a12, a4

#0		{SRC:RLS_senzaKf}
#1		
#2		
#3			(* CASE ssMethodType OF *)
#4		
#5			(* 0: *)
#6			LD		ssMethodType	{L:2}
(*) UNDEF
A0011340  800800BB		mov.u d8, #0x80
A0011344  F600C801		addsc.a a15, a12, d8, #0
A0011348  0800FF09		ld.b d15, [a15]

#7			EQ		0	{L:2}
(*) SINT
A001134C  8000003B		mov d8, #0
A0011350  F1008F0B		eq d15, d15, d8

#8			JMPC	$label1
(-) BOOL
A0011354  80100FDF		jne d15, #0, #0x0010 ; JUMP 0xA0011374

#9		
#10			(* 1: *)
#11			LD		ssMethodType	{L:34}
(*) UNDEF
A0011358  800800BB		mov.u d8, #0x80
A001135C  F600C801		addsc.a a15, a12, d8, #0
A0011360  0800FF09		ld.b d15, [a15]

#12			EQ		1	{L:34}
(*) SINT
A0011364  8000103B		mov d8, #1
A0011368  F1008F0B		eq d15, d15, d8

#13			JMPC	$label2
(-) BOOL
A001136C  80F40FDF		jne d15, #0, #0x00F4 ; JUMP 0xA0011554

#14			JMP		$label0
(-) BOOL
A0011370  0410001D		j #0x000410 ; JUMP 0xA0011B90

#15		
#16			(* Istruzioni di ciascun CASE: *)
#17		
#18		$label1:
#19				(* Time:=0.0; *)
#20				LD		0.0	{L:4}
(*) UNDEF
A0011374  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0011378  F0000F9B		addih d15, d15, #0x0000

#21				ST		Time	{L:4}
(*) REAL
A001137C  800140BB		mov.u d8, #0x14
A0011380  F600C801		addsc.a a15, a12, d8, #0
A0011384  0000FF59		st.w [a15], d15

#22		
#23				(* END:=FALSE; *)
#24				LD		FALSE	{L:5}
(*) UNDEF
A0011388  F000003B		mov d15, #0

#25				ST		END	{L:5}
(*) BOOL
A001138C  8008C0BB		mov.u d8, #0x8C
A0011390  F600C801		addsc.a a15, a12, d8, #0
A0011394  0000FF59		st.w [a15], d15

#26		
#27				(* FOR i:=0 TO 3 *)
#28				LD		0	{L:7}
(*) UNDEF
A0011398  F000003B		mov d15, #0

#29				ST		i	{L:7}
(*) USINT
A001139C  8000C0BB		mov.u d8, #0xC
A00113A0  F600C801		addsc.a a15, a12, d8, #0
A00113A4  0800FF89		st.b [a15], d15

#30		
#31		$label3:
#32				LD		i	{L:7}
(*) UNDEF
A00113A8  8000C0BB		mov.u d8, #0xC
A00113AC  F600C801		addsc.a a15, a12, d8, #0
A00113B0  0800FF09		ld.b d15, [a15]

#33				GT		3	{L:7}
(*) SINT
A00113B4  8000303B		mov d8, #3
A00113B8  F120F80B		lt d15, d8, d15

#34				JMPC	$label4	{L:7}
(-) BOOL
A00113BC  80260FDF		jne d15, #0, #0x0026 ; JUMP 0xA0011408

#35		
#36					(* DO *)
#37		
#38					(* Q[i]	:=0.0; *)
#39					LD		0.0	{L:8}
(*) UNDEF
A00113C0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00113C4  F0000F9B		addih d15, d15, #0x0000

#40					ST		Q[i]	{L:8}
(*) REAL
A00113C8  8000C0BB		mov.u d8, #0xC
A00113CC  F600C801		addsc.a a15, a12, d8, #0
A00113D0  0800FE09		ld.b d14, [a15]
A00113D4  800280BB		mov.u d8, #0x28
A00113D8  8000089B		addih d8, d8, #0x0
A00113DC  F600C801		addsc.a a15, a12, d8, #0
A00113E0  F602FE01		addsc.a a15, a15, d14, #2
A00113E4  0000FF59		st.w [a15], d15

#41		
#42				(* FOR counter increment *)
#43				LD		i	{L:1}
(*) UNDEF
A00113E8  8000C0BB		mov.u d8, #0xC
A00113EC  F600C801		addsc.a a15, a12, d8, #0
A00113F0  0800FF09		ld.b d15, [a15]

#44				ADD		1	{L:1}
(*) SINT
A00113F4  F0001F8B		add d15, d15, #1

#45				ST		i	{L:1}
(*) SINT
A00113F8  8000C0BB		mov.u d8, #0xC
A00113FC  F600C801		addsc.a a15, a12, d8, #0
A0011400  0800FF89		st.b [a15], d15

#46				JMP		$label3
(-) SINT
A0011404  FFD2FF1D		j #0xFFFFD2 ; JUMP 0xA00113A8

#47		
#48		$label4:
#49		
#50				(* END_FOR *)
#51		
#52				(* Q[0]:=1.0; *)
#53				LD		1.0	{L:11}
(*) UNDEF
A0011408  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A001140C  F3F80F9B		addih d15, d15, #0x3F80

#54				ST		Q[0]	{L:11}
(*) REAL
A0011410  800280BB		mov.u d8, #0x28
A0011414  F600C801		addsc.a a15, a12, d8, #0
A0011418  0000FF59		st.w [a15], d15

#55		
#56				(* Q[3]:=1.0; *)
#57				LD		1.0	{L:12}
(*) UNDEF
A001141C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A0011420  F3F80F9B		addih d15, d15, #0x3F80

#58				ST		Q[3]	{L:12}
(*) REAL
A0011424  800340BB		mov.u d8, #0x34
A0011428  F600C801		addsc.a a15, a12, d8, #0
A001142C  0000FF59		st.w [a15], d15

#59		
#60				(* FOR i:=0 TO 3 *)
#61				LD		0	{L:15}
(*) UNDEF
A0011430  F000003B		mov d15, #0

#62				ST		i	{L:15}
(*) USINT
A0011434  8000C0BB		mov.u d8, #0xC
A0011438  F600C801		addsc.a a15, a12, d8, #0
A001143C  0800FF89		st.b [a15], d15

#63		
#64		$label5:
#65				LD		i	{L:15}
(*) UNDEF
A0011440  8000C0BB		mov.u d8, #0xC
A0011444  F600C801		addsc.a a15, a12, d8, #0
A0011448  0800FF09		ld.b d15, [a15]

#66				GT		3	{L:15}
(*) SINT
A001144C  8000303B		mov d8, #3
A0011450  F120F80B		lt d15, d8, d15

#67				JMPC	$label6	{L:15}
(-) BOOL
A0011454  80320FDF		jne d15, #0, #0x0032 ; JUMP 0xA00114B8

#68		
#69					(* DO *)
#70		
#71					(* Q_old[i]:=Q[i]; *)
#72					LD		Q[i]	{L:16}
(*) UNDEF
A0011458  8000C0BB		mov.u d8, #0xC
A001145C  F600C801		addsc.a a15, a12, d8, #0
A0011460  0800FE09		ld.b d14, [a15]
A0011464  800280BB		mov.u d8, #0x28
A0011468  8000089B		addih d8, d8, #0x0
A001146C  F600C801		addsc.a a15, a12, d8, #0
A0011470  F602FE01		addsc.a a15, a15, d14, #2
A0011474  0000FF19		ld.w d15, [a15]

#73					ST		Q_old[i]	{L:16}
(*) REAL
A0011478  8000C0BB		mov.u d8, #0xC
A001147C  F600C801		addsc.a a15, a12, d8, #0
A0011480  0800FE09		ld.b d14, [a15]
A0011484  800180BB		mov.u d8, #0x18
A0011488  8000089B		addih d8, d8, #0x0
A001148C  F600C801		addsc.a a15, a12, d8, #0
A0011490  F602FE01		addsc.a a15, a15, d14, #2
A0011494  0000FF59		st.w [a15], d15

#74		
#75				(* FOR counter increment *)
#76				LD		i	{L:1}
(*) UNDEF
A0011498  8000C0BB		mov.u d8, #0xC
A001149C  F600C801		addsc.a a15, a12, d8, #0
A00114A0  0800FF09		ld.b d15, [a15]

#77				ADD		1	{L:1}
(*) SINT
A00114A4  F0001F8B		add d15, d15, #1

#78				ST		i	{L:1}
(*) SINT
A00114A8  8000C0BB		mov.u d8, #0xC
A00114AC  F600C801		addsc.a a15, a12, d8, #0
A00114B0  0800FF89		st.b [a15], d15

#79				JMP		$label5
(-) SINT
A00114B4  FFC6FF1D		j #0xFFFFC6 ; JUMP 0xA0011440

#80		
#81		$label6:
#82		
#83				(* END_FOR *)
#84		
#85				(* FOR i:=0 TO 1 *)
#86				LD		0	{L:23}
(*) UNDEF
A00114B8  F000003B		mov d15, #0

#87				ST		i	{L:23}
(*) USINT
A00114BC  8000C0BB		mov.u d8, #0xC
A00114C0  F600C801		addsc.a a15, a12, d8, #0
A00114C4  0800FF89		st.b [a15], d15

#88		
#89		$label7:
#90				LD		i	{L:23}
(*) UNDEF
A00114C8  8000C0BB		mov.u d8, #0xC
A00114CC  F600C801		addsc.a a15, a12, d8, #0
A00114D0  0800FF09		ld.b d15, [a15]

#91				GT		1	{L:23}
(*) SINT
A00114D4  8000103B		mov d8, #1
A00114D8  F120F80B		lt d15, d8, d15

#92				JMPC	$label8	{L:23}
(-) BOOL
A00114DC  80260FDF		jne d15, #0, #0x0026 ; JUMP 0xA0011528

#93		
#94					(* DO *)
#95		
#96					(* PARAM[i]:=0.0; *)
#97					LD		0.0	{L:24}
(*) UNDEF
A00114E0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00114E4  F0000F9B		addih d15, d15, #0x0000

#98					ST		PARAM[i]	{L:24}
(*) REAL
A00114E8  8000C0BB		mov.u d8, #0xC
A00114EC  F600C801		addsc.a a15, a12, d8, #0
A00114F0  0800FE09		ld.b d14, [a15]
A00114F4  800380BB		mov.u d8, #0x38
A00114F8  8000089B		addih d8, d8, #0x0
A00114FC  F600C801		addsc.a a15, a12, d8, #0
A0011500  F602FE01		addsc.a a15, a15, d14, #2
A0011504  0000FF59		st.w [a15], d15

#99		
#100				(* FOR counter increment *)
#101				LD		i	{L:1}
(*) UNDEF
A0011508  8000C0BB		mov.u d8, #0xC
A001150C  F600C801		addsc.a a15, a12, d8, #0
A0011510  0800FF09		ld.b d15, [a15]

#102				ADD		1	{L:1}
(*) SINT
A0011514  F0001F8B		add d15, d15, #1

#103				ST		i	{L:1}
(*) SINT
A0011518  8000C0BB		mov.u d8, #0xC
A001151C  F600C801		addsc.a a15, a12, d8, #0
A0011520  0800FF89		st.b [a15], d15

#104				JMP		$label7
(-) SINT
A0011524  FFD2FF1D		j #0xFFFFD2 ; JUMP 0xA00114C8

#105		
#106		$label8:
#107		
#108				(* END_FOR *)
#109		
#110				(* acc:=0.0; *)
#111				LD		0.0	{L:31}
(*) UNDEF
A0011528  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A001152C  F0000F9B		addih d15, d15, #0x0000

#112				ST		acc	{L:31}
(*) REAL
A0011530  800100BB		mov.u d8, #0x10
A0011534  F600C801		addsc.a a15, a12, d8, #0
A0011538  0000FF59		st.w [a15], d15

#113		
#114				(* vel_prec:=0.0; *)
#115				LD		0.0	{L:32}
(*) UNDEF
A001153C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0011540  F0000F9B		addih d15, d15, #0x0000

#116				ST		vel_prec	{L:32}
(*) REAL
A0011544  800040BB		mov.u d8, #0x4
A0011548  F600C801		addsc.a a15, a12, d8, #0
A001154C  0000FF59		st.w [a15], d15

#117				JMP		$label0
(-) REAL
A0011550  0320001D		j #0x000320 ; JUMP 0xA0011B90

#118		
#119		$label2:
#120				(* Time:=Time+Ts; *)
#121				LD		Time	{L:35}
(*) UNDEF
A0011554  800140BB		mov.u d8, #0x14
A0011558  F600C801		addsc.a a15, a12, d8, #0
A001155C  0000FF19		ld.w d15, [a15]

#122				ADD		Ts	{L:35}
(*) REAL
A0011560  800780BB		mov.u d8, #0x78
A0011564  F600C801		addsc.a a15, a12, d8, #0
A0011568  0000F819		ld.w d8, [a15]
A001156C  FF21086B		add.f d15, d15, d8

#123				ST		Time	{L:35}
(*) REAL
A0011570  800140BB		mov.u d8, #0x14
A0011574  F600C801		addsc.a a15, a12, d8, #0
A0011578  0000FF59		st.w [a15], d15

#124		
#125		
#126				(* IF S=0.0 *)
#127				LD		S	{L:37}
(*) UNDEF
A001157C  8006C0BB		mov.u d8, #0x6C
A0011580  F600C801		addsc.a a15, a12, d8, #0
A0011584  0000FF19		ld.w d15, [a15]

#128				EQ		0.0	{L:37}
(*) REAL
A0011588  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A001158C  5000059B		addih d5, d5, #0x0000
A0011590  F0015F4B		cmp.f d15, d15, d5
A0011594  F2002F8B		eq d15, d15, #2

#129				JMPCN	$label9	{L:37}
(-) BOOL
A0011598  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA00115B0

#130		
#131				(* THEN *)
#132		
#133					(* S:=30.0; *)
#134					LD		30.0	{L:38}
(*) UNDEF
A001159C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 30.000000
A00115A0  F41F0F9B		addih d15, d15, #0x41F0

#135					ST		S	{L:38}
(*) REAL
A00115A4  8006C0BB		mov.u d8, #0x6C
A00115A8  F600C801		addsc.a a15, a12, d8, #0
A00115AC  0000FF59		st.w [a15], d15

#136		
#137		$label9:
#138				(* END_IF *)
#139		
#140		
#141				(* IF vel>0.0 *)
#142				LD		vel	{L:42}
(*) UNDEF
A00115B0  800740BB		mov.u d8, #0x74
A00115B4  F600C801		addsc.a a15, a12, d8, #0
A00115B8  0000FF19		ld.w d15, [a15]

#143				GT		0.0	{L:42}
(*) REAL
A00115BC  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A00115C0  5000059B		addih d5, d5, #0x0000
A00115C4  F0015F4B		cmp.f d15, d15, d5
A00115C8  F2004F8B		eq d15, d15, #4

#144				JMPCN	$label10	{L:42}
(-) BOOL
A00115CC  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA00115E4

#145		
#146				(* THEN *)
#147		
#148					(* vel_sign:=1.0; *)
#149					LD		1.0	{L:43}
(*) UNDEF
A00115D0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A00115D4  F3F80F9B		addih d15, d15, #0x3F80

#150					ST		vel_sign	{L:43}
(*) REAL
A00115D8  F000C001		mov.aa a15, a12
A00115DC  0000FF59		st.w [a15], d15

#151					JMP		$label11
(-) REAL
A00115E0  000A001D		j #0x00000A ; JUMP 0xA00115F4

#152		$label10:
#153		
#154				(* ELSE *)
#155		
#156					(* vel_sign:=-1.0; *)
#157					LD		-1.0	{L:45}
(*) UNDEF
A00115E4  F00000BB		mov.u d15, #0x0000 ; COSTREAL -1.000000
A00115E8  FBF80F9B		addih d15, d15, #0xBF80

#158					ST		vel_sign	{L:45}
(*) REAL
A00115EC  F000C001		mov.aa a15, a12
A00115F0  0000FF59		st.w [a15], d15

#159		
#160		$label11:
#161				(* END_IF *)
#162		
#163				(* acc:= (vel-vel_prec)/Ts; *)
#164				LD		vel	{L:48}
(*) UNDEF
A00115F4  800740BB		mov.u d8, #0x74
A00115F8  F600C801		addsc.a a15, a12, d8, #0
A00115FC  0000FF19		ld.w d15, [a15]

#165				SUB		vel_prec	{L:48}
(*) REAL
A0011600  800040BB		mov.u d8, #0x4
A0011604  F600C801		addsc.a a15, a12, d8, #0
A0011608  0000F819		ld.w d8, [a15]
A001160C  FF31086B		sub.f d15, d15, d8

#166				DIV		Ts	{L:48}
(*) REAL
A0011610  800780BB		mov.u d8, #0x78
A0011614  F600C801		addsc.a a15, a12, d8, #0
A0011618  0000F819		ld.w d8, [a15]
A001161C  F0518F4B		div.f d15, d15, d8

#167				ST		acc	{L:48}
(*) REAL
A0011620  800100BB		mov.u d8, #0x10
A0011624  F600C801		addsc.a a15, a12, d8, #0
A0011628  0000FF59		st.w [a15], d15

#168		
#169				(* Q[0] := S*POW(acc,2.0) + Q_old[0]; *)
#170				LD		acc	{L:51}
(*) UNDEF
A001162C  800100BB		mov.u d8, #0x10
A0011630  F600C801		addsc.a a15, a12, d8, #0
A0011634  0000FF19		ld.w d15, [a15]

#171				POW		2.0	{L:51}
(*) REAL
A0011638  41F0F00B		mov d4, d15
A001163C  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011640  5400059B		addih d5, d5, #0x4000
A0011644  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011648  01F8FFD9		lea a15,[a15]0x1C38
A001164C  0000000D		nop
A0011650  00000F2D		calli a15
A0011654  F1F0200B		mov d15, d2

#172				MUL		S	{L:51}
(*) REAL
A0011658  8006C0BB		mov.u d8, #0x6C
A001165C  F600C801		addsc.a a15, a12, d8, #0
A0011660  0000F819		ld.w d8, [a15]
A0011664  F0418F4B		mul.f d15, d15, d8

#173				ADD		Q_old[0]	{L:51}
(*) REAL
A0011668  800180BB		mov.u d8, #0x18
A001166C  F600C801		addsc.a a15, a12, d8, #0
A0011670  0000F819		ld.w d8, [a15]
A0011674  FF21086B		add.f d15, d15, d8

#174				ST		Q[0]	{L:51}
(*) REAL
A0011678  800280BB		mov.u d8, #0x28
A001167C  F600C801		addsc.a a15, a12, d8, #0
A0011680  0000FF59		st.w [a15], d15

#175		
#176				(* Q[1] := Q_old[1] + S*acc*vel; *)
#177				LD		S	{L:52}
(*) UNDEF
A0011684  8006C0BB		mov.u d8, #0x6C
A0011688  F600C801		addsc.a a15, a12, d8, #0
A001168C  0000FF19		ld.w d15, [a15]

#178				MUL		acc	{L:52}
(*) REAL
A0011690  800100BB		mov.u d8, #0x10
A0011694  F600C801		addsc.a a15, a12, d8, #0
A0011698  0000F819		ld.w d8, [a15]
A001169C  F0418F4B		mul.f d15, d15, d8

#179				MUL		vel	{L:52}
(*) REAL
A00116A0  800740BB		mov.u d8, #0x74
A00116A4  F600C801		addsc.a a15, a12, d8, #0
A00116A8  0000F819		ld.w d8, [a15]
A00116AC  F0418F4B		mul.f d15, d15, d8

#180				ADD		Q_old[1]	{L:52}
(*) REAL
A00116B0  8001C0BB		mov.u d8, #0x1C
A00116B4  F600C801		addsc.a a15, a12, d8, #0
A00116B8  0000F819		ld.w d8, [a15]
A00116BC  FF21086B		add.f d15, d15, d8

#181				ST		Q[1]	{L:52}
(*) REAL
A00116C0  8002C0BB		mov.u d8, #0x2C
A00116C4  F600C801		addsc.a a15, a12, d8, #0
A00116C8  0000FF59		st.w [a15], d15

#182		
#183				(* Q[2] := Q_old[2] + S*acc*vel; *)
#184				LD		S	{L:53}
(*) UNDEF
A00116CC  8006C0BB		mov.u d8, #0x6C
A00116D0  F600C801		addsc.a a15, a12, d8, #0
A00116D4  0000FF19		ld.w d15, [a15]

#185				MUL		acc	{L:53}
(*) REAL
A00116D8  800100BB		mov.u d8, #0x10
A00116DC  F600C801		addsc.a a15, a12, d8, #0
A00116E0  0000F819		ld.w d8, [a15]
A00116E4  F0418F4B		mul.f d15, d15, d8

#186				MUL		vel	{L:53}
(*) REAL
A00116E8  800740BB		mov.u d8, #0x74
A00116EC  F600C801		addsc.a a15, a12, d8, #0
A00116F0  0000F819		ld.w d8, [a15]
A00116F4  F0418F4B		mul.f d15, d15, d8

#187				ADD		Q_old[2]	{L:53}
(*) REAL
A00116F8  800200BB		mov.u d8, #0x20
A00116FC  F600C801		addsc.a a15, a12, d8, #0
A0011700  0000F819		ld.w d8, [a15]
A0011704  FF21086B		add.f d15, d15, d8

#188				ST		Q[2]	{L:53}
(*) REAL
A0011708  800300BB		mov.u d8, #0x30
A001170C  F600C801		addsc.a a15, a12, d8, #0
A0011710  0000FF59		st.w [a15], d15

#189		
#190				(* Q[3] := S*POW(vel,2.0) + 	Q_old[3]; *)
#191				LD		vel	{L:54}
(*) UNDEF
A0011714  800740BB		mov.u d8, #0x74
A0011718  F600C801		addsc.a a15, a12, d8, #0
A001171C  0000FF19		ld.w d15, [a15]

#192				POW		2.0	{L:54}
(*) REAL
A0011720  41F0F00B		mov d4, d15
A0011724  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011728  5400059B		addih d5, d5, #0x4000
A001172C  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011730  01F8FFD9		lea a15,[a15]0x1C38
A0011734  0000000D		nop
A0011738  00000F2D		calli a15
A001173C  F1F0200B		mov d15, d2

#193				MUL		S	{L:54}
(*) REAL
A0011740  8006C0BB		mov.u d8, #0x6C
A0011744  F600C801		addsc.a a15, a12, d8, #0
A0011748  0000F819		ld.w d8, [a15]
A001174C  F0418F4B		mul.f d15, d15, d8

#194				ADD		Q_old[3]	{L:54}
(*) REAL
A0011750  800240BB		mov.u d8, #0x24
A0011754  F600C801		addsc.a a15, a12, d8, #0
A0011758  0000F819		ld.w d8, [a15]
A001175C  FF21086B		add.f d15, d15, d8

#195				ST		Q[3]	{L:54}
(*) REAL
A0011760  800340BB		mov.u d8, #0x34
A0011764  F600C801		addsc.a a15, a12, d8, #0
A0011768  0000FF59		st.w [a15], d15

#196		
#197				(* innovation := y- (PARAM[0]* acc + PARAM[1]* vel ); *)
#198				LD		y	{L:60}
(*) UNDEF
A001176C  800700BB		mov.u d8, #0x70
A0011770  F600C801		addsc.a a15, a12, d8, #0
A0011774  0000FF19		ld.w d15, [a15]

#199				SUB(		PARAM[1]	{L:60}
(*) REAL
A0011778  F53CAF89		st.w [-sp]4, d15 
A001177C  8003C0BB		mov.u d8, #0x3C
A0011780  F600C801		addsc.a a15, a12, d8, #0
A0011784  0000FF19		ld.w d15, [a15]

#200				MUL		vel	{L:60}
(*) REAL
A0011788  800740BB		mov.u d8, #0x74
A001178C  F600C801		addsc.a a15, a12, d8, #0
A0011790  0000F819		ld.w d8, [a15]
A0011794  F0418F4B		mul.f d15, d15, d8

#201				ADD(		PARAM[0]	{L:60}
(*) REAL
A0011798  F53CAF89		st.w [-sp]4, d15 
A001179C  800380BB		mov.u d8, #0x38
A00117A0  F600C801		addsc.a a15, a12, d8, #0
A00117A4  0000FF19		ld.w d15, [a15]

#202				MUL		acc	{L:60}
(*) REAL
A00117A8  800100BB		mov.u d8, #0x10
A00117AC  F600C801		addsc.a a15, a12, d8, #0
A00117B0  0000F819		ld.w d8, [a15]
A00117B4  F0418F4B		mul.f d15, d15, d8

#203				)	{L:60}
(*) REAL
A00117B8  01F0F00B		mov d0, d15
A00117BC  0104AF09		ld.w d15, [sp+]4
A00117C0  FF21006B		add.f d15, d15, d0

#204				)	{L:60}
(*) REAL
A00117C4  01F0F00B		mov d0, d15
A00117C8  0104AF09		ld.w d15, [sp+]4
A00117CC  FF31006B		sub.f d15, d15, d0

#205				ST		innovation	{L:60}
(*) REAL
A00117D0  800080BB		mov.u d8, #0x8
A00117D4  F600C801		addsc.a a15, a12, d8, #0
A00117D8  0000FF59		st.w [a15], d15

#206		
#207				(* PARAM[0]:= PARAM[0] + (S*(acc*Q[3] - Q[1]*vel))/(- POW(Q[1],2.0) + Q[0]*Q[3])  * innovation; *)
#208				LD		acc	{L:63}
(*) UNDEF
A00117DC  800100BB		mov.u d8, #0x10
A00117E0  F600C801		addsc.a a15, a12, d8, #0
A00117E4  0000FF19		ld.w d15, [a15]

#209				MUL		Q[3]	{L:63}
(*) REAL
A00117E8  800340BB		mov.u d8, #0x34
A00117EC  F600C801		addsc.a a15, a12, d8, #0
A00117F0  0000F819		ld.w d8, [a15]
A00117F4  F0418F4B		mul.f d15, d15, d8

#210				ST		$$TMP2	{L:63}
(*) REAL
A00117F8  800400BB		mov.u d8, #0x40
A00117FC  F600C801		addsc.a a15, a12, d8, #0
A0011800  0000FF59		st.w [a15], d15

#211				LD		Q[1]	{L:63}
(*) UNDEF
A0011804  8002C0BB		mov.u d8, #0x2C
A0011808  F600C801		addsc.a a15, a12, d8, #0
A001180C  0000FF19		ld.w d15, [a15]

#212				MUL		vel	{L:63}
(*) REAL
A0011810  800740BB		mov.u d8, #0x74
A0011814  F600C801		addsc.a a15, a12, d8, #0
A0011818  0000F819		ld.w d8, [a15]
A001181C  F0418F4B		mul.f d15, d15, d8

#213				ST		$$TMP3	{L:63}
(*) REAL
A0011820  800440BB		mov.u d8, #0x44
A0011824  F600C801		addsc.a a15, a12, d8, #0
A0011828  0000FF59		st.w [a15], d15

#214				LD		$$TMP2	{L:63}
(*) UNDEF
A001182C  800400BB		mov.u d8, #0x40
A0011830  F600C801		addsc.a a15, a12, d8, #0
A0011834  0000FF19		ld.w d15, [a15]

#215				SUB		$$TMP3	{L:63}
(*) REAL
A0011838  800440BB		mov.u d8, #0x44
A001183C  F600C801		addsc.a a15, a12, d8, #0
A0011840  0000F819		ld.w d8, [a15]
A0011844  FF31086B		sub.f d15, d15, d8

#216				MUL		S	{L:63}
(*) REAL
A0011848  8006C0BB		mov.u d8, #0x6C
A001184C  F600C801		addsc.a a15, a12, d8, #0
A0011850  0000F819		ld.w d8, [a15]
A0011854  F0418F4B		mul.f d15, d15, d8

#217				ST		$$TMP4	{L:63}
(*) REAL
A0011858  800480BB		mov.u d8, #0x48
A001185C  F600C801		addsc.a a15, a12, d8, #0
A0011860  0000FF59		st.w [a15], d15

#218				LD		Q[1]	{L:63}
(*) UNDEF
A0011864  8002C0BB		mov.u d8, #0x2C
A0011868  F600C801		addsc.a a15, a12, d8, #0
A001186C  0000FF19		ld.w d15, [a15]

#219				POW		2.0	{L:63}
(*) REAL
A0011870  41F0F00B		mov d4, d15
A0011874  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011878  5400059B		addih d5, d5, #0x4000
A001187C  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011880  01F8FFD9		lea a15,[a15]0x1C38
A0011884  0000000D		nop
A0011888  00000F2D		calli a15
A001188C  F1F0200B		mov d15, d2

#220				MUL		-1	{L:63}
(*) REAL
A0011890  8FFFF03B		mov d8, #-1
A0011894  8141084B		itof d8, d8
A0011898  F0418F4B		mul.f d15, d15, d8

#221				ST		$$TMP5	{L:63}
(*) REAL
A001189C  8004C0BB		mov.u d8, #0x4C
A00118A0  F600C801		addsc.a a15, a12, d8, #0
A00118A4  0000FF59		st.w [a15], d15

#222				LD		Q[0]	{L:63}
(*) UNDEF
A00118A8  800280BB		mov.u d8, #0x28
A00118AC  F600C801		addsc.a a15, a12, d8, #0
A00118B0  0000FF19		ld.w d15, [a15]

#223				MUL		Q[3]	{L:63}
(*) REAL
A00118B4  800340BB		mov.u d8, #0x34
A00118B8  F600C801		addsc.a a15, a12, d8, #0
A00118BC  0000F819		ld.w d8, [a15]
A00118C0  F0418F4B		mul.f d15, d15, d8

#224				ADD		$$TMP5	{L:63}
(*) REAL
A00118C4  8004C0BB		mov.u d8, #0x4C
A00118C8  F600C801		addsc.a a15, a12, d8, #0
A00118CC  0000F819		ld.w d8, [a15]
A00118D0  FF21086B		add.f d15, d15, d8

#225				ST		$$TMP6	{L:63}
(*) REAL
A00118D4  800500BB		mov.u d8, #0x50
A00118D8  F600C801		addsc.a a15, a12, d8, #0
A00118DC  0000FF59		st.w [a15], d15

#226				LD		$$TMP4	{L:63}
(*) UNDEF
A00118E0  800480BB		mov.u d8, #0x48
A00118E4  F600C801		addsc.a a15, a12, d8, #0
A00118E8  0000FF19		ld.w d15, [a15]

#227				DIV		$$TMP6	{L:63}
(*) REAL
A00118EC  800500BB		mov.u d8, #0x50
A00118F0  F600C801		addsc.a a15, a12, d8, #0
A00118F4  0000F819		ld.w d8, [a15]
A00118F8  F0518F4B		div.f d15, d15, d8

#228				MUL		innovation	{L:63}
(*) REAL
A00118FC  800080BB		mov.u d8, #0x8
A0011900  F600C801		addsc.a a15, a12, d8, #0
A0011904  0000F819		ld.w d8, [a15]
A0011908  F0418F4B		mul.f d15, d15, d8

#229				ADD		PARAM[0]	{L:63}
(*) REAL
A001190C  800380BB		mov.u d8, #0x38
A0011910  F600C801		addsc.a a15, a12, d8, #0
A0011914  0000F819		ld.w d8, [a15]
A0011918  FF21086B		add.f d15, d15, d8

#230				ST		PARAM[0]	{L:63}
(*) REAL
A001191C  800380BB		mov.u d8, #0x38
A0011920  F600C801		addsc.a a15, a12, d8, #0
A0011924  0000FF59		st.w [a15], d15

#231		
#232				(* PARAM[1]:= PARAM[1] - (S*(acc*Q[1] - Q[0]*vel))/(- POW(Q[1],2.0) + Q[0]*Q[3])  * innovation; *)
#233				LD		acc	{L:65}
(*) UNDEF
A0011928  800100BB		mov.u d8, #0x10
A001192C  F600C801		addsc.a a15, a12, d8, #0
A0011930  0000FF19		ld.w d15, [a15]

#234				MUL		Q[1]	{L:65}
(*) REAL
A0011934  8002C0BB		mov.u d8, #0x2C
A0011938  F600C801		addsc.a a15, a12, d8, #0
A001193C  0000F819		ld.w d8, [a15]
A0011940  F0418F4B		mul.f d15, d15, d8

#235				ST		$$TMP7	{L:65}
(*) REAL
A0011944  800540BB		mov.u d8, #0x54
A0011948  F600C801		addsc.a a15, a12, d8, #0
A001194C  0000FF59		st.w [a15], d15

#236				LD		Q[0]	{L:65}
(*) UNDEF
A0011950  800280BB		mov.u d8, #0x28
A0011954  F600C801		addsc.a a15, a12, d8, #0
A0011958  0000FF19		ld.w d15, [a15]

#237				MUL		vel	{L:65}
(*) REAL
A001195C  800740BB		mov.u d8, #0x74
A0011960  F600C801		addsc.a a15, a12, d8, #0
A0011964  0000F819		ld.w d8, [a15]
A0011968  F0418F4B		mul.f d15, d15, d8

#238				ST		$$TMP8	{L:65}
(*) REAL
A001196C  800580BB		mov.u d8, #0x58
A0011970  F600C801		addsc.a a15, a12, d8, #0
A0011974  0000FF59		st.w [a15], d15

#239				LD		$$TMP7	{L:65}
(*) UNDEF
A0011978  800540BB		mov.u d8, #0x54
A001197C  F600C801		addsc.a a15, a12, d8, #0
A0011980  0000FF19		ld.w d15, [a15]

#240				SUB		$$TMP8	{L:65}
(*) REAL
A0011984  800580BB		mov.u d8, #0x58
A0011988  F600C801		addsc.a a15, a12, d8, #0
A001198C  0000F819		ld.w d8, [a15]
A0011990  FF31086B		sub.f d15, d15, d8

#241				MUL		S	{L:65}
(*) REAL
A0011994  8006C0BB		mov.u d8, #0x6C
A0011998  F600C801		addsc.a a15, a12, d8, #0
A001199C  0000F819		ld.w d8, [a15]
A00119A0  F0418F4B		mul.f d15, d15, d8

#242				ST		$$TMP9	{L:65}
(*) REAL
A00119A4  8005C0BB		mov.u d8, #0x5C
A00119A8  F600C801		addsc.a a15, a12, d8, #0
A00119AC  0000FF59		st.w [a15], d15

#243				LD		Q[1]	{L:65}
(*) UNDEF
A00119B0  8002C0BB		mov.u d8, #0x2C
A00119B4  F600C801		addsc.a a15, a12, d8, #0
A00119B8  0000FF19		ld.w d15, [a15]

#244				POW		2.0	{L:65}
(*) REAL
A00119BC  41F0F00B		mov d4, d15
A00119C0  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A00119C4  5400059B		addih d5, d5, #0x4000
A00119C8  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A00119CC  01F8FFD9		lea a15,[a15]0x1C38
A00119D0  0000000D		nop
A00119D4  00000F2D		calli a15
A00119D8  F1F0200B		mov d15, d2

#245				MUL		-1	{L:65}
(*) REAL
A00119DC  8FFFF03B		mov d8, #-1
A00119E0  8141084B		itof d8, d8
A00119E4  F0418F4B		mul.f d15, d15, d8

#246				ST		$$TMP10	{L:65}
(*) REAL
A00119E8  800600BB		mov.u d8, #0x60
A00119EC  F600C801		addsc.a a15, a12, d8, #0
A00119F0  0000FF59		st.w [a15], d15

#247				LD		Q[0]	{L:65}
(*) UNDEF
A00119F4  800280BB		mov.u d8, #0x28
A00119F8  F600C801		addsc.a a15, a12, d8, #0
A00119FC  0000FF19		ld.w d15, [a15]

#248				MUL		Q[3]	{L:65}
(*) REAL
A0011A00  800340BB		mov.u d8, #0x34
A0011A04  F600C801		addsc.a a15, a12, d8, #0
A0011A08  0000F819		ld.w d8, [a15]
A0011A0C  F0418F4B		mul.f d15, d15, d8

#249				ADD		$$TMP10	{L:65}
(*) REAL
A0011A10  800600BB		mov.u d8, #0x60
A0011A14  F600C801		addsc.a a15, a12, d8, #0
A0011A18  0000F819		ld.w d8, [a15]
A0011A1C  FF21086B		add.f d15, d15, d8

#250				ST		$$TMP11	{L:65}
(*) REAL
A0011A20  800640BB		mov.u d8, #0x64
A0011A24  F600C801		addsc.a a15, a12, d8, #0
A0011A28  0000FF59		st.w [a15], d15

#251				LD		$$TMP9	{L:65}
(*) UNDEF
A0011A2C  8005C0BB		mov.u d8, #0x5C
A0011A30  F600C801		addsc.a a15, a12, d8, #0
A0011A34  0000FF19		ld.w d15, [a15]

#252				DIV		$$TMP11	{L:65}
(*) REAL
A0011A38  800640BB		mov.u d8, #0x64
A0011A3C  F600C801		addsc.a a15, a12, d8, #0
A0011A40  0000F819		ld.w d8, [a15]
A0011A44  F0518F4B		div.f d15, d15, d8

#253				MUL		innovation	{L:65}
(*) REAL
A0011A48  800080BB		mov.u d8, #0x8
A0011A4C  F600C801		addsc.a a15, a12, d8, #0
A0011A50  0000F819		ld.w d8, [a15]
A0011A54  F0418F4B		mul.f d15, d15, d8

#254				ST		$$TMP12	{L:65}
(*) REAL
A0011A58  800680BB		mov.u d8, #0x68
A0011A5C  F600C801		addsc.a a15, a12, d8, #0
A0011A60  0000FF59		st.w [a15], d15

#255				LD		PARAM[1]	{L:65}
(*) UNDEF
A0011A64  8003C0BB		mov.u d8, #0x3C
A0011A68  F600C801		addsc.a a15, a12, d8, #0
A0011A6C  0000FF19		ld.w d15, [a15]

#256				SUB		$$TMP12	{L:65}
(*) REAL
A0011A70  800680BB		mov.u d8, #0x68
A0011A74  F600C801		addsc.a a15, a12, d8, #0
A0011A78  0000F819		ld.w d8, [a15]
A0011A7C  FF31086B		sub.f d15, d15, d8

#257				ST		PARAM[1]	{L:65}
(*) REAL
A0011A80  8003C0BB		mov.u d8, #0x3C
A0011A84  F600C801		addsc.a a15, a12, d8, #0
A0011A88  0000FF59		st.w [a15], d15

#258		
#259				(* FOR i:=0 TO 3 *)
#260				LD		0	{L:69}
(*) UNDEF
A0011A8C  F000003B		mov d15, #0

#261				ST		i	{L:69}
(*) USINT
A0011A90  8000C0BB		mov.u d8, #0xC
A0011A94  F600C801		addsc.a a15, a12, d8, #0
A0011A98  0800FF89		st.b [a15], d15

#262		
#263		$label12:
#264				LD		i	{L:69}
(*) UNDEF
A0011A9C  8000C0BB		mov.u d8, #0xC
A0011AA0  F600C801		addsc.a a15, a12, d8, #0
A0011AA4  0800FF09		ld.b d15, [a15]

#265				GT		3	{L:69}
(*) SINT
A0011AA8  8000303B		mov d8, #3
A0011AAC  F120F80B		lt d15, d8, d15

#266				JMPC	$label13	{L:69}
(-) BOOL
A0011AB0  80320FDF		jne d15, #0, #0x0032 ; JUMP 0xA0011B14

#267		
#268					(* DO *)
#269		
#270					(* Q_old[i]:=Q[i]; *)
#271					LD		Q[i]	{L:70}
(*) UNDEF
A0011AB4  8000C0BB		mov.u d8, #0xC
A0011AB8  F600C801		addsc.a a15, a12, d8, #0
A0011ABC  0800FE09		ld.b d14, [a15]
A0011AC0  800280BB		mov.u d8, #0x28
A0011AC4  8000089B		addih d8, d8, #0x0
A0011AC8  F600C801		addsc.a a15, a12, d8, #0
A0011ACC  F602FE01		addsc.a a15, a15, d14, #2
A0011AD0  0000FF19		ld.w d15, [a15]

#272					ST		Q_old[i]	{L:70}
(*) REAL
A0011AD4  8000C0BB		mov.u d8, #0xC
A0011AD8  F600C801		addsc.a a15, a12, d8, #0
A0011ADC  0800FE09		ld.b d14, [a15]
A0011AE0  800180BB		mov.u d8, #0x18
A0011AE4  8000089B		addih d8, d8, #0x0
A0011AE8  F600C801		addsc.a a15, a12, d8, #0
A0011AEC  F602FE01		addsc.a a15, a15, d14, #2
A0011AF0  0000FF59		st.w [a15], d15

#273		
#274				(* FOR counter increment *)
#275				LD		i	{L:1}
(*) UNDEF
A0011AF4  8000C0BB		mov.u d8, #0xC
A0011AF8  F600C801		addsc.a a15, a12, d8, #0
A0011AFC  0800FF09		ld.b d15, [a15]

#276				ADD		1	{L:1}
(*) SINT
A0011B00  F0001F8B		add d15, d15, #1

#277				ST		i	{L:1}
(*) SINT
A0011B04  8000C0BB		mov.u d8, #0xC
A0011B08  F600C801		addsc.a a15, a12, d8, #0
A0011B0C  0800FF89		st.b [a15], d15

#278				JMP		$label12
(-) SINT
A0011B10  FFC6FF1D		j #0xFFFFC6 ; JUMP 0xA0011A9C

#279		
#280		$label13:
#281		
#282				(* END_FOR *)
#283		
#284				(* vel_prec:=vel; *)
#285				LD		vel	{L:73}
(*) UNDEF
A0011B14  800740BB		mov.u d8, #0x74
A0011B18  F600C801		addsc.a a15, a12, d8, #0
A0011B1C  0000FF19		ld.w d15, [a15]

#286				ST		vel_prec	{L:73}
(*) REAL
A0011B20  800040BB		mov.u d8, #0x4
A0011B24  F600C801		addsc.a a15, a12, d8, #0
A0011B28  0000FF59		st.w [a15], d15

#287		
#288				(* Jm:=PARAM[0]; *)
#289				LD		PARAM[0]	{L:75}
(*) UNDEF
A0011B2C  800380BB		mov.u d8, #0x38
A0011B30  F600C801		addsc.a a15, a12, d8, #0
A0011B34  0000FF19		ld.w d15, [a15]

#290				ST		Jm	{L:75}
(*) REAL
A0011B38  800840BB		mov.u d8, #0x84
A0011B3C  F600C801		addsc.a a15, a12, d8, #0
A0011B40  0000FF59		st.w [a15], d15

#291		
#292				(* Bm:=PARAM[1]; *)
#293				LD		PARAM[1]	{L:76}
(*) UNDEF
A0011B44  8003C0BB		mov.u d8, #0x3C
A0011B48  F600C801		addsc.a a15, a12, d8, #0
A0011B4C  0000FF19		ld.w d15, [a15]

#294				ST		Bm	{L:76}
(*) REAL
A0011B50  800880BB		mov.u d8, #0x88
A0011B54  F600C801		addsc.a a15, a12, d8, #0
A0011B58  0000FF59		st.w [a15], d15

#295		
#296		
#297				(* IF Time>Time_max *)
#298				LD		Time	{L:78}
(*) UNDEF
A0011B5C  800140BB		mov.u d8, #0x14
A0011B60  F600C801		addsc.a a15, a12, d8, #0
A0011B64  0000FF19		ld.w d15, [a15]

#299				GT		Time_max	{L:78}
(*) REAL
A0011B68  8007C0BB		mov.u d8, #0x7C
A0011B6C  F600C801		addsc.a a15, a12, d8, #0
A0011B70  0000F519		ld.w d5, [a15]
A0011B74  F0015F4B		cmp.f d15, d15, d5
A0011B78  F2004F8B		eq d15, d15, #4

#300				JMPCN	$label14	{L:78}
(-) BOOL
A0011B7C  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA0011B90

#301		
#302				(* THEN *)
#303		
#304					(* END:=TRUE; *)
#305					LD		TRUE	{L:79}
(*) UNDEF
A0011B80  F000103B		mov d15, #1

#306					ST		END	{L:79}
(*) BOOL
A0011B84  8008C0BB		mov.u d8, #0x8C
A0011B88  F600C801		addsc.a a15, a12, d8, #0
A0011B8C  0000FF59		st.w [a15], d15

A0011B90  0180000D		ret


Frame allocation:

	006C       : VAR S
	0070       : VAR y
	0074       : VAR vel
	0078       : VAR Ts
	007C       : VAR Time_max
	0080       : VAR ssMethodType
	0084       : VAR Jm
	0088       : VAR Bm
	008C bit  0: VAR END
	0000       : VAR vel_sign
	0004       : VAR vel_prec
	0008       : VAR innovation
	000C       : VAR i
	0010       : VAR acc
	0014       : VAR Time
	0018       : VAR Q_old
	0028       : VAR Q
	0038       : VAR PARAM
	0040       : VAR $$TMP2
	0044       : VAR $$TMP3
	0048       : VAR $$TMP4
	004C       : VAR $$TMP5
	0050       : VAR $$TMP6
	0054       : VAR $$TMP7
	0058       : VAR $$TMP8
	005C       : VAR $$TMP9
	0060       : VAR $$TMP10
	0064       : VAR $$TMP11
	0068       : VAR $$TMP12

END_FUNCTION_BLOCK
**************************************************
	List function block: Tune_PID
**************************************************

FUNCTION_BLOCK Tune_PID

	VAR_INPUT
	phi_m_v : REAL; 
	phi_m_p : REAL; 
	Wc_pos : REAL; 
	Wc_vel : REAL; { DE:"Omega c velocità" } 
	Jm : REAL; { DE:"Inerzia" } 
	Bm : REAL; { DE:"Attrito statico" } 
	TUNE : SINT; 
	END_VAR

	VAR_OUTPUT
	ti_v : REAL; 
	kp_v : REAL; 
	ti_p : REAL; 
	kp_p : REAL; 
	td_p : REAL; 
	td_v : REAL; 
	END_VAR

	VAR
	ssMethodType : SINT; 
	kk : REAL; 
	beta : REAL; 
	K : REAL; 
	P : REAL; 
	A : REAL; 
	B : REAL; 
	ONLY_kpv : BOOL; 
	END_VAR

A0011B94  C0004001		mov.aa a12, a4

#0		{SRC:Tune_PID}
#1		
#2		
#3			(* IF Wc_pos<0.01 *)
#4			LD		Wc_pos	{L:2}
(*) UNDEF
A0011B98  800780BB		mov.u d8, #0x78
A0011B9C  F600C801		addsc.a a15, a12, d8, #0
A0011BA0  0000FF19		ld.w d15, [a15]

#5			LT		0.01	{L:2}
(*) REAL
A0011BA4  5D70A0BB		mov.u d5, #0xD70A ; COSTREAL 0.010000
A0011BA8  53C2359B		addih d5, d5, #0x3C23
A0011BAC  F0015F4B		cmp.f d15, d15, d5
A0011BB0  F2001F8B		eq d15, d15, #1

#6			JMPCN	$label0	{L:2}
(-) BOOL
A0011BB4  00140FDF		jeq d15, #0, #0x0014 ; JUMP 0xA0011BDC

#7		
#8			(* THEN *)
#9		
#10				(* Wc_pos:=Wc_vel/5.0; *)
#11				LD		Wc_vel	{L:3}
(*) UNDEF
A0011BB8  8007C0BB		mov.u d8, #0x7C
A0011BBC  F600C801		addsc.a a15, a12, d8, #0
A0011BC0  0000FF19		ld.w d15, [a15]

#12				DIV		5.0	{L:3}
(*) REAL
A0011BC4  800000BB		mov.u d8, #0x0000 ; COSTREAL 5.000000
A0011BC8  840A089B		addih d8, d8, #0x40A0
A0011BCC  F0518F4B		div.f d15, d15, d8

#13				ST		Wc_pos	{L:3}
(*) REAL
A0011BD0  800780BB		mov.u d8, #0x78
A0011BD4  F600C801		addsc.a a15, a12, d8, #0
A0011BD8  0000FF59		st.w [a15], d15

#14		
#15		$label0:
#16			(* END_IF *)
#17		
#18		
#19			(* IF TUNE=0 *)
#20			LD		TUNE	{L:6}
(*) UNDEF
A0011BDC  800880BB		mov.u d8, #0x88
A0011BE0  F600C801		addsc.a a15, a12, d8, #0
A0011BE4  0800FF09		ld.b d15, [a15]

#21			EQ		0	{L:6}
(*) SINT
A0011BE8  8000003B		mov d8, #0
A0011BEC  F1008F0B		eq d15, d15, d8

#22			JMPCN	$label1	{L:6}
(-) BOOL
A0011BF0  02780FDF		jeq d15, #0, #0x0278 ; JUMP 0xA00120E0

#23		
#24			(* THEN *)
#25		
#26		
#27				(* IF TRUE *)
#28				LD		TRUE	{L:7}
(*) UNDEF
A0011BF4  F000103B		mov d15, #1

#29				JMPCN	$label3	{L:7}
(-) BOOL
A0011BF8  01E60FDF		jeq d15, #0, #0x01E6 ; JUMP 0xA0011FC4

#30		
#31				(* THEN *)
#32		
#33					(* ti_v:=-1.0/(Wc_vel*TAN(phi_m_v + ATAN2(Jm*Wc_vel,Bm))); *)
#34					LD		Jm	{L:9}
(*) UNDEF
A0011BFC  800800BB		mov.u d8, #0x80
A0011C00  F600C801		addsc.a a15, a12, d8, #0
A0011C04  0000FF19		ld.w d15, [a15]

#35					MUL		Wc_vel	{L:9}
(*) REAL
A0011C08  8007C0BB		mov.u d8, #0x7C
A0011C0C  F600C801		addsc.a a15, a12, d8, #0
A0011C10  0000F819		ld.w d8, [a15]
A0011C14  F0418F4B		mul.f d15, d15, d8

#36					ST		$$TMP0	{L:9}
(*) REAL
A0011C18  800200BB		mov.u d8, #0x20
A0011C1C  F600C801		addsc.a a15, a12, d8, #0
A0011C20  0000FF59		st.w [a15], d15

#37					LD		$$TMP0	{L:9}
(*) UNDEF
A0011C24  800200BB		mov.u d8, #0x20
A0011C28  F600C801		addsc.a a15, a12, d8, #0
A0011C2C  0000FF19		ld.w d15, [a15]

#38					ATAN2		Bm	{L:9}
(*) REAL
A0011C30  41F0F00B		mov d4, d15
A0011C34  800840BB		mov.u d8, #0x84
A0011C38  F600C801		addsc.a a15, a12, d8, #0
A0011C3C  0000F519		ld.w d5, [a15]
A0011C40  F8009091		movh.a a15, #0x8009 ; _do_atan2 AT 0x800919E8
A0011C44  71A8FFD9		lea a15,[a15]0x19E8
A0011C48  0000000D		nop
A0011C4C  00000F2D		calli a15
A0011C50  F1F0200B		mov d15, d2

#39					ADD		phi_m_v	{L:9}
(*) REAL
A0011C54  800700BB		mov.u d8, #0x70
A0011C58  F600C801		addsc.a a15, a12, d8, #0
A0011C5C  0000F819		ld.w d8, [a15]
A0011C60  FF21086B		add.f d15, d15, d8

#40					TAN	{L:9}
(*) REAL
A0011C64  41F0F00B		mov d4, d15
A0011C68  F8009091		movh.a a15, #0x8009 ; _do_tan AT 0x800918B8
A0011C6C  21B8FFD9		lea a15,[a15]0x18B8
A0011C70  0000000D		nop
A0011C74  00000F2D		calli a15
A0011C78  F1F0200B		mov d15, d2

#41					MUL		Wc_vel	{L:9}
(*) REAL
A0011C7C  8007C0BB		mov.u d8, #0x7C
A0011C80  F600C801		addsc.a a15, a12, d8, #0
A0011C84  0000F819		ld.w d8, [a15]
A0011C88  F0418F4B		mul.f d15, d15, d8

#42					ST		$$TMP1	{L:9}
(*) REAL
A0011C8C  800240BB		mov.u d8, #0x24
A0011C90  F600C801		addsc.a a15, a12, d8, #0
A0011C94  0000FF59		st.w [a15], d15

#43					LD		-1.0	{L:9}
(*) UNDEF
A0011C98  F00000BB		mov.u d15, #0x0000 ; COSTREAL -1.000000
A0011C9C  FBF80F9B		addih d15, d15, #0xBF80

#44					DIV		$$TMP1	{L:9}
(*) REAL
A0011CA0  800240BB		mov.u d8, #0x24
A0011CA4  F600C801		addsc.a a15, a12, d8, #0
A0011CA8  0000F819		ld.w d8, [a15]
A0011CAC  F0518F4B		div.f d15, d15, d8

#45					ST		ti_v	{L:9}
(*) REAL
A0011CB0  8008C0BB		mov.u d8, #0x8C
A0011CB4  F600C801		addsc.a a15, a12, d8, #0
A0011CB8  0000FF59		st.w [a15], d15

#46		
#47					(* kp_v:=(ti_v*Wc_vel*SQRT(POW(Bm,2.0) + POW(Jm,2.0)*POW(Wc_vel,2.0)))/SQRT(POW(ti_v,2.0)*POW(Wc_vel,2.0) + 1.0); *)
#48					LD		ti_v	{L:10}
(*) UNDEF
A0011CBC  8008C0BB		mov.u d8, #0x8C
A0011CC0  F600C801		addsc.a a15, a12, d8, #0
A0011CC4  0000FF19		ld.w d15, [a15]

#49					MUL		Wc_vel	{L:10}
(*) REAL
A0011CC8  8007C0BB		mov.u d8, #0x7C
A0011CCC  F600C801		addsc.a a15, a12, d8, #0
A0011CD0  0000F819		ld.w d8, [a15]
A0011CD4  F0418F4B		mul.f d15, d15, d8

#50					ST		$$TMP2	{L:10}
(*) REAL
A0011CD8  800280BB		mov.u d8, #0x28
A0011CDC  F600C801		addsc.a a15, a12, d8, #0
A0011CE0  0000FF59		st.w [a15], d15

#51					LD		Bm	{L:10}
(*) UNDEF
A0011CE4  800840BB		mov.u d8, #0x84
A0011CE8  F600C801		addsc.a a15, a12, d8, #0
A0011CEC  0000FF19		ld.w d15, [a15]

#52					POW		2.0	{L:10}
(*) REAL
A0011CF0  41F0F00B		mov d4, d15
A0011CF4  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011CF8  5400059B		addih d5, d5, #0x4000
A0011CFC  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011D00  01F8FFD9		lea a15,[a15]0x1C38
A0011D04  0000000D		nop
A0011D08  00000F2D		calli a15
A0011D0C  F1F0200B		mov d15, d2

#53					ST		$$TMP3	{L:10}
(*) REAL
A0011D10  8002C0BB		mov.u d8, #0x2C
A0011D14  F600C801		addsc.a a15, a12, d8, #0
A0011D18  0000FF59		st.w [a15], d15

#54					LD		Jm	{L:10}
(*) UNDEF
A0011D1C  800800BB		mov.u d8, #0x80
A0011D20  F600C801		addsc.a a15, a12, d8, #0
A0011D24  0000FF19		ld.w d15, [a15]

#55					POW		2.0	{L:10}
(*) REAL
A0011D28  41F0F00B		mov d4, d15
A0011D2C  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011D30  5400059B		addih d5, d5, #0x4000
A0011D34  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011D38  01F8FFD9		lea a15,[a15]0x1C38
A0011D3C  0000000D		nop
A0011D40  00000F2D		calli a15
A0011D44  F1F0200B		mov d15, d2

#56					ST		$$TMP4	{L:10}
(*) REAL
A0011D48  800300BB		mov.u d8, #0x30
A0011D4C  F600C801		addsc.a a15, a12, d8, #0
A0011D50  0000FF59		st.w [a15], d15

#57					LD		Wc_vel	{L:10}
(*) UNDEF
A0011D54  8007C0BB		mov.u d8, #0x7C
A0011D58  F600C801		addsc.a a15, a12, d8, #0
A0011D5C  0000FF19		ld.w d15, [a15]

#58					POW		2.0	{L:10}
(*) REAL
A0011D60  41F0F00B		mov d4, d15
A0011D64  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011D68  5400059B		addih d5, d5, #0x4000
A0011D6C  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011D70  01F8FFD9		lea a15,[a15]0x1C38
A0011D74  0000000D		nop
A0011D78  00000F2D		calli a15
A0011D7C  F1F0200B		mov d15, d2

#59					MUL		$$TMP4	{L:10}
(*) REAL
A0011D80  800300BB		mov.u d8, #0x30
A0011D84  F600C801		addsc.a a15, a12, d8, #0
A0011D88  0000F819		ld.w d8, [a15]
A0011D8C  F0418F4B		mul.f d15, d15, d8

#60					ADD		$$TMP3	{L:10}
(*) REAL
A0011D90  8002C0BB		mov.u d8, #0x2C
A0011D94  F600C801		addsc.a a15, a12, d8, #0
A0011D98  0000F819		ld.w d8, [a15]
A0011D9C  FF21086B		add.f d15, d15, d8

#61					SQRT	{L:10}
(*) REAL
A0011DA0  41F0F00B		mov d4, d15
A0011DA4  F8009091		movh.a a15, #0x8009 ; _do_sqrt AT 0x80090598
A0011DA8  6058FFD9		lea a15,[a15]0x0598
A0011DAC  0000000D		nop
A0011DB0  00000F2D		calli a15
A0011DB4  F1F0200B		mov d15, d2

#62					MUL		$$TMP2	{L:10}
(*) REAL
A0011DB8  800280BB		mov.u d8, #0x28
A0011DBC  F600C801		addsc.a a15, a12, d8, #0
A0011DC0  0000F819		ld.w d8, [a15]
A0011DC4  F0418F4B		mul.f d15, d15, d8

#63					ST		$$TMP5	{L:10}
(*) REAL
A0011DC8  800340BB		mov.u d8, #0x34
A0011DCC  F600C801		addsc.a a15, a12, d8, #0
A0011DD0  0000FF59		st.w [a15], d15

#64					LD		ti_v	{L:10}
(*) UNDEF
A0011DD4  8008C0BB		mov.u d8, #0x8C
A0011DD8  F600C801		addsc.a a15, a12, d8, #0
A0011DDC  0000FF19		ld.w d15, [a15]

#65					POW		2.0	{L:10}
(*) REAL
A0011DE0  41F0F00B		mov d4, d15
A0011DE4  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011DE8  5400059B		addih d5, d5, #0x4000
A0011DEC  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011DF0  01F8FFD9		lea a15,[a15]0x1C38
A0011DF4  0000000D		nop
A0011DF8  00000F2D		calli a15
A0011DFC  F1F0200B		mov d15, d2

#66					ST		$$TMP6	{L:10}
(*) REAL
A0011E00  800380BB		mov.u d8, #0x38
A0011E04  F600C801		addsc.a a15, a12, d8, #0
A0011E08  0000FF59		st.w [a15], d15

#67					LD		Wc_vel	{L:10}
(*) UNDEF
A0011E0C  8007C0BB		mov.u d8, #0x7C
A0011E10  F600C801		addsc.a a15, a12, d8, #0
A0011E14  0000FF19		ld.w d15, [a15]

#68					POW		2.0	{L:10}
(*) REAL
A0011E18  41F0F00B		mov d4, d15
A0011E1C  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011E20  5400059B		addih d5, d5, #0x4000
A0011E24  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011E28  01F8FFD9		lea a15,[a15]0x1C38
A0011E2C  0000000D		nop
A0011E30  00000F2D		calli a15
A0011E34  F1F0200B		mov d15, d2

#69					MUL		$$TMP6	{L:10}
(*) REAL
A0011E38  800380BB		mov.u d8, #0x38
A0011E3C  F600C801		addsc.a a15, a12, d8, #0
A0011E40  0000F819		ld.w d8, [a15]
A0011E44  F0418F4B		mul.f d15, d15, d8

#70					ADD		1.0	{L:10}
(*) REAL
A0011E48  800000BB		mov.u d8, #0x0000 ; COSTREAL 1.000000
A0011E4C  83F8089B		addih d8, d8, #0x3F80
A0011E50  FF21086B		add.f d15, d15, d8

#71					SQRT	{L:10}
(*) REAL
A0011E54  41F0F00B		mov d4, d15
A0011E58  F8009091		movh.a a15, #0x8009 ; _do_sqrt AT 0x80090598
A0011E5C  6058FFD9		lea a15,[a15]0x0598
A0011E60  0000000D		nop
A0011E64  00000F2D		calli a15
A0011E68  F1F0200B		mov d15, d2

#72					ST		$$TMP7	{L:10}
(*) REAL
A0011E6C  8003C0BB		mov.u d8, #0x3C
A0011E70  F600C801		addsc.a a15, a12, d8, #0
A0011E74  0000FF59		st.w [a15], d15

#73					LD		$$TMP5	{L:10}
(*) UNDEF
A0011E78  800340BB		mov.u d8, #0x34
A0011E7C  F600C801		addsc.a a15, a12, d8, #0
A0011E80  0000FF19		ld.w d15, [a15]

#74					DIV		$$TMP7	{L:10}
(*) REAL
A0011E84  8003C0BB		mov.u d8, #0x3C
A0011E88  F600C801		addsc.a a15, a12, d8, #0
A0011E8C  0000F819		ld.w d8, [a15]
A0011E90  F0518F4B		div.f d15, d15, d8

#75					ST		kp_v	{L:10}
(*) REAL
A0011E94  800900BB		mov.u d8, #0x90
A0011E98  F600C801		addsc.a a15, a12, d8, #0
A0011E9C  0000FF59		st.w [a15], d15

#76		
#77					(* ONLY_kpv:=FALSE; *)
#78					LD		FALSE	{L:11}
(*) UNDEF
A0011EA0  F000003B		mov d15, #0

#79					ST		ONLY_kpv	{L:11}
(*) BOOL
A0011EA4  8001C0BB		mov.u d8, #0x1C
A0011EA8  F600C801		addsc.a a15, a12, d8, #0
A0011EAC  0000FF59		st.w [a15], d15

#80		
#81		
#82					(* IF ti_v<0.01 *)
#83					LD		ti_v	{L:12}
(*) UNDEF
A0011EB0  8008C0BB		mov.u d8, #0x8C
A0011EB4  F600C801		addsc.a a15, a12, d8, #0
A0011EB8  0000FF19		ld.w d15, [a15]

#84					LT		0.01	{L:12}
(*) REAL
A0011EBC  5D70A0BB		mov.u d5, #0xD70A ; COSTREAL 0.010000
A0011EC0  53C2359B		addih d5, d5, #0x3C23
A0011EC4  F0015F4B		cmp.f d15, d15, d5
A0011EC8  F2001F8B		eq d15, d15, #1

#85					JMPCN	$label5	{L:12}
(-) BOOL
A0011ECC  007A0FDF		jeq d15, #0, #0x007A ; JUMP 0xA0011FC0

#86		
#87					(* THEN *)
#88		
#89						(* kp_v:=SQRT(POW(Jm,2.0)*POW(Wc_vel,2.0)+POW(Bm,2.0)); *)
#90						LD		Jm	{L:13}
(*) UNDEF
A0011ED0  800800BB		mov.u d8, #0x80
A0011ED4  F600C801		addsc.a a15, a12, d8, #0
A0011ED8  0000FF19		ld.w d15, [a15]

#91						POW		2.0	{L:13}
(*) REAL
A0011EDC  41F0F00B		mov d4, d15
A0011EE0  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011EE4  5400059B		addih d5, d5, #0x4000
A0011EE8  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011EEC  01F8FFD9		lea a15,[a15]0x1C38
A0011EF0  0000000D		nop
A0011EF4  00000F2D		calli a15
A0011EF8  F1F0200B		mov d15, d2

#92						ST		$$TMP8	{L:13}
(*) REAL
A0011EFC  800400BB		mov.u d8, #0x40
A0011F00  F600C801		addsc.a a15, a12, d8, #0
A0011F04  0000FF59		st.w [a15], d15

#93						LD		Wc_vel	{L:13}
(*) UNDEF
A0011F08  8007C0BB		mov.u d8, #0x7C
A0011F0C  F600C801		addsc.a a15, a12, d8, #0
A0011F10  0000FF19		ld.w d15, [a15]

#94						POW		2.0	{L:13}
(*) REAL
A0011F14  41F0F00B		mov d4, d15
A0011F18  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011F1C  5400059B		addih d5, d5, #0x4000
A0011F20  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011F24  01F8FFD9		lea a15,[a15]0x1C38
A0011F28  0000000D		nop
A0011F2C  00000F2D		calli a15
A0011F30  F1F0200B		mov d15, d2

#95						MUL		$$TMP8	{L:13}
(*) REAL
A0011F34  800400BB		mov.u d8, #0x40
A0011F38  F600C801		addsc.a a15, a12, d8, #0
A0011F3C  0000F819		ld.w d8, [a15]
A0011F40  F0418F4B		mul.f d15, d15, d8

#96						ST		$$TMP9	{L:13}
(*) REAL
A0011F44  800440BB		mov.u d8, #0x44
A0011F48  F600C801		addsc.a a15, a12, d8, #0
A0011F4C  0000FF59		st.w [a15], d15

#97						LD		Bm	{L:13}
(*) UNDEF
A0011F50  800840BB		mov.u d8, #0x84
A0011F54  F600C801		addsc.a a15, a12, d8, #0
A0011F58  0000FF19		ld.w d15, [a15]

#98						POW		2.0	{L:13}
(*) REAL
A0011F5C  41F0F00B		mov d4, d15
A0011F60  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011F64  5400059B		addih d5, d5, #0x4000
A0011F68  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011F6C  01F8FFD9		lea a15,[a15]0x1C38
A0011F70  0000000D		nop
A0011F74  00000F2D		calli a15
A0011F78  F1F0200B		mov d15, d2

#99						ADD		$$TMP9	{L:13}
(*) REAL
A0011F7C  800440BB		mov.u d8, #0x44
A0011F80  F600C801		addsc.a a15, a12, d8, #0
A0011F84  0000F819		ld.w d8, [a15]
A0011F88  FF21086B		add.f d15, d15, d8

#100						SQRT	{L:13}
(*) REAL
A0011F8C  41F0F00B		mov d4, d15
A0011F90  F8009091		movh.a a15, #0x8009 ; _do_sqrt AT 0x80090598
A0011F94  6058FFD9		lea a15,[a15]0x0598
A0011F98  0000000D		nop
A0011F9C  00000F2D		calli a15
A0011FA0  F1F0200B		mov d15, d2

#101						ST		kp_v	{L:13}
(*) REAL
A0011FA4  800900BB		mov.u d8, #0x90
A0011FA8  F600C801		addsc.a a15, a12, d8, #0
A0011FAC  0000FF59		st.w [a15], d15

#102		
#103						(* ONLY_kpv:=TRUE; *)
#104						LD		TRUE	{L:14}
(*) UNDEF
A0011FB0  F000103B		mov d15, #1

#105						ST		ONLY_kpv	{L:14}
(*) BOOL
A0011FB4  8001C0BB		mov.u d8, #0x1C
A0011FB8  F600C801		addsc.a a15, a12, d8, #0
A0011FBC  0000FF59		st.w [a15], d15

#106		
#107		$label5:
#108					(* END_IF *)
#109					JMP		$label4
(-) BOOL
A0011FC0  0084001D		j #0x000084 ; JUMP 0xA00120C8

#110		$label3:
#111		
#112				(* ELSE *)
#113		
#114					(* ti_v:=0.0; *)
#115					LD		0.0	{L:19}
(*) UNDEF
A0011FC4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0011FC8  F0000F9B		addih d15, d15, #0x0000

#116					ST		ti_v	{L:19}
(*) REAL
A0011FCC  8008C0BB		mov.u d8, #0x8C
A0011FD0  F600C801		addsc.a a15, a12, d8, #0
A0011FD4  0000FF59		st.w [a15], d15

#117		
#118					(* kp_v:=SQRT(POW(Jm,2.0)*POW(Wc_vel,2.0)+POW(Bm,2.0)); *)
#119					LD		Jm	{L:20}
(*) UNDEF
A0011FD8  800800BB		mov.u d8, #0x80
A0011FDC  F600C801		addsc.a a15, a12, d8, #0
A0011FE0  0000FF19		ld.w d15, [a15]

#120					POW		2.0	{L:20}
(*) REAL
A0011FE4  41F0F00B		mov d4, d15
A0011FE8  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0011FEC  5400059B		addih d5, d5, #0x4000
A0011FF0  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0011FF4  01F8FFD9		lea a15,[a15]0x1C38
A0011FF8  0000000D		nop
A0011FFC  00000F2D		calli a15
A0012000  F1F0200B		mov d15, d2

#121					ST		$$TMP10	{L:20}
(*) REAL
A0012004  800480BB		mov.u d8, #0x48
A0012008  F600C801		addsc.a a15, a12, d8, #0
A001200C  0000FF59		st.w [a15], d15

#122					LD		Wc_vel	{L:20}
(*) UNDEF
A0012010  8007C0BB		mov.u d8, #0x7C
A0012014  F600C801		addsc.a a15, a12, d8, #0
A0012018  0000FF19		ld.w d15, [a15]

#123					POW		2.0	{L:20}
(*) REAL
A001201C  41F0F00B		mov d4, d15
A0012020  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0012024  5400059B		addih d5, d5, #0x4000
A0012028  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A001202C  01F8FFD9		lea a15,[a15]0x1C38
A0012030  0000000D		nop
A0012034  00000F2D		calli a15
A0012038  F1F0200B		mov d15, d2

#124					MUL		$$TMP10	{L:20}
(*) REAL
A001203C  800480BB		mov.u d8, #0x48
A0012040  F600C801		addsc.a a15, a12, d8, #0
A0012044  0000F819		ld.w d8, [a15]
A0012048  F0418F4B		mul.f d15, d15, d8

#125					ST		$$TMP11	{L:20}
(*) REAL
A001204C  8004C0BB		mov.u d8, #0x4C
A0012050  F600C801		addsc.a a15, a12, d8, #0
A0012054  0000FF59		st.w [a15], d15

#126					LD		Bm	{L:20}
(*) UNDEF
A0012058  800840BB		mov.u d8, #0x84
A001205C  F600C801		addsc.a a15, a12, d8, #0
A0012060  0000FF19		ld.w d15, [a15]

#127					POW		2.0	{L:20}
(*) REAL
A0012064  41F0F00B		mov d4, d15
A0012068  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A001206C  5400059B		addih d5, d5, #0x4000
A0012070  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0012074  01F8FFD9		lea a15,[a15]0x1C38
A0012078  0000000D		nop
A001207C  00000F2D		calli a15
A0012080  F1F0200B		mov d15, d2

#128					ADD		$$TMP11	{L:20}
(*) REAL
A0012084  8004C0BB		mov.u d8, #0x4C
A0012088  F600C801		addsc.a a15, a12, d8, #0
A001208C  0000F819		ld.w d8, [a15]
A0012090  FF21086B		add.f d15, d15, d8

#129					SQRT	{L:20}
(*) REAL
A0012094  41F0F00B		mov d4, d15
A0012098  F8009091		movh.a a15, #0x8009 ; _do_sqrt AT 0x80090598
A001209C  6058FFD9		lea a15,[a15]0x0598
A00120A0  0000000D		nop
A00120A4  00000F2D		calli a15
A00120A8  F1F0200B		mov d15, d2

#130					ST		kp_v	{L:20}
(*) REAL
A00120AC  800900BB		mov.u d8, #0x90
A00120B0  F600C801		addsc.a a15, a12, d8, #0
A00120B4  0000FF59		st.w [a15], d15

#131		
#132					(* ONLY_kpv:=TRUE; *)
#133					LD		TRUE	{L:21}
(*) UNDEF
A00120B8  F000103B		mov d15, #1

#134					ST		ONLY_kpv	{L:21}
(*) BOOL
A00120BC  8001C0BB		mov.u d8, #0x1C
A00120C0  F600C801		addsc.a a15, a12, d8, #0
A00120C4  0000FF59		st.w [a15], d15

#135		
#136		$label4:
#137				(* END_IF *)
#138		
#139				(* td_v:=0.0; *)
#140				LD		0.0	{L:23}
(*) UNDEF
A00120C8  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00120CC  F0000F9B		addih d15, d15, #0x0000

#141				ST		td_v	{L:23}
(*) REAL
A00120D0  800A00BB		mov.u d8, #0xA0
A00120D4  F600C801		addsc.a a15, a12, d8, #0
A00120D8  0000FF59		st.w [a15], d15

#142				JMP		$label2
(-) REAL
A00120DC  01C0001D		j #0x0001C0 ; JUMP 0xA001245C

#143		$label1:
#144		
#145			(* ELSE *)
#146		
#147				(* A:=kp_v/(kp_v+Bm); *)
#148				LD		kp_v	{L:29}
(*) UNDEF
A00120E0  800900BB		mov.u d8, #0x90
A00120E4  F600C801		addsc.a a15, a12, d8, #0
A00120E8  0000FF19		ld.w d15, [a15]

#149				DIV(		kp_v	{L:29}
(*) REAL
A00120EC  F53CAF89		st.w [-sp]4, d15 
A00120F0  800900BB		mov.u d8, #0x90
A00120F4  F600C801		addsc.a a15, a12, d8, #0
A00120F8  0000FF19		ld.w d15, [a15]

#150				ADD		Bm	{L:29}
(*) REAL
A00120FC  800840BB		mov.u d8, #0x84
A0012100  F600C801		addsc.a a15, a12, d8, #0
A0012104  0000F819		ld.w d8, [a15]
A0012108  FF21086B		add.f d15, d15, d8

#151				)	{L:29}
(*) REAL
A001210C  01F0F00B		mov d0, d15
A0012110  0104AF09		ld.w d15, [sp+]4
A0012114  81F0000B		mov d8, d0
A0012118  F0518F4B		div.f d15, d15, d8

#152				ST		A	{L:29}
(*) REAL
A001211C  800140BB		mov.u d8, #0x14
A0012120  F600C801		addsc.a a15, a12, d8, #0
A0012124  0000FF59		st.w [a15], d15

#153		
#154				(* B:=Jm/(kp_v+Bm); *)
#155				LD		Jm	{L:30}
(*) UNDEF
A0012128  800800BB		mov.u d8, #0x80
A001212C  F600C801		addsc.a a15, a12, d8, #0
A0012130  0000FF19		ld.w d15, [a15]

#156				DIV(		kp_v	{L:30}
(*) REAL
A0012134  F53CAF89		st.w [-sp]4, d15 
A0012138  800900BB		mov.u d8, #0x90
A001213C  F600C801		addsc.a a15, a12, d8, #0
A0012140  0000FF19		ld.w d15, [a15]

#157				ADD		Bm	{L:30}
(*) REAL
A0012144  800840BB		mov.u d8, #0x84
A0012148  F600C801		addsc.a a15, a12, d8, #0
A001214C  0000F819		ld.w d8, [a15]
A0012150  FF21086B		add.f d15, d15, d8

#158				)	{L:30}
(*) REAL
A0012154  01F0F00B		mov d0, d15
A0012158  0104AF09		ld.w d15, [sp+]4
A001215C  81F0000B		mov d8, d0
A0012160  F0518F4B		div.f d15, d15, d8

#159				ST		B	{L:30}
(*) REAL
A0012164  800180BB		mov.u d8, #0x18
A0012168  F600C801		addsc.a a15, a12, d8, #0
A001216C  0000FF59		st.w [a15], d15

#160		
#161				(* ti_p:=0.0; *)
#162				LD		0.0	{L:41}
(*) UNDEF
A0012170  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0012174  F0000F9B		addih d15, d15, #0x0000

#163				ST		ti_p	{L:41}
(*) REAL
A0012178  800940BB		mov.u d8, #0x94
A001217C  F600C801		addsc.a a15, a12, d8, #0
A0012180  0000FF59		st.w [a15], d15

#164		
#165				(* kp_p:=(Wc_pos*SQRT(POW(B,2.0)*POW(Wc_pos,2.0) + 1.0))/(A*SQRT(   POW(1.0/TAN(phi_m_p + ATAN2(B*Wc_pos,1.0)),2.0) + 1.0)); *)
#166				LD		B	{L:42}
(*) UNDEF
A0012184  800180BB		mov.u d8, #0x18
A0012188  F600C801		addsc.a a15, a12, d8, #0
A001218C  0000FF19		ld.w d15, [a15]

#167				POW		2.0	{L:42}
(*) REAL
A0012190  41F0F00B		mov d4, d15
A0012194  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0012198  5400059B		addih d5, d5, #0x4000
A001219C  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A00121A0  01F8FFD9		lea a15,[a15]0x1C38
A00121A4  0000000D		nop
A00121A8  00000F2D		calli a15
A00121AC  F1F0200B		mov d15, d2

#168				ST		$$TMP14	{L:42}
(*) REAL
A00121B0  800500BB		mov.u d8, #0x50
A00121B4  F600C801		addsc.a a15, a12, d8, #0
A00121B8  0000FF59		st.w [a15], d15

#169				LD		Wc_pos	{L:42}
(*) UNDEF
A00121BC  800780BB		mov.u d8, #0x78
A00121C0  F600C801		addsc.a a15, a12, d8, #0
A00121C4  0000FF19		ld.w d15, [a15]

#170				POW		2.0	{L:42}
(*) REAL
A00121C8  41F0F00B		mov d4, d15
A00121CC  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A00121D0  5400059B		addih d5, d5, #0x4000
A00121D4  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A00121D8  01F8FFD9		lea a15,[a15]0x1C38
A00121DC  0000000D		nop
A00121E0  00000F2D		calli a15
A00121E4  F1F0200B		mov d15, d2

#171				MUL		$$TMP14	{L:42}
(*) REAL
A00121E8  800500BB		mov.u d8, #0x50
A00121EC  F600C801		addsc.a a15, a12, d8, #0
A00121F0  0000F819		ld.w d8, [a15]
A00121F4  F0418F4B		mul.f d15, d15, d8

#172				ADD		1.0	{L:42}
(*) REAL
A00121F8  800000BB		mov.u d8, #0x0000 ; COSTREAL 1.000000
A00121FC  83F8089B		addih d8, d8, #0x3F80
A0012200  FF21086B		add.f d15, d15, d8

#173				SQRT	{L:42}
(*) REAL
A0012204  41F0F00B		mov d4, d15
A0012208  F8009091		movh.a a15, #0x8009 ; _do_sqrt AT 0x80090598
A001220C  6058FFD9		lea a15,[a15]0x0598
A0012210  0000000D		nop
A0012214  00000F2D		calli a15
A0012218  F1F0200B		mov d15, d2

#174				MUL		Wc_pos	{L:42}
(*) REAL
A001221C  800780BB		mov.u d8, #0x78
A0012220  F600C801		addsc.a a15, a12, d8, #0
A0012224  0000F819		ld.w d8, [a15]
A0012228  F0418F4B		mul.f d15, d15, d8

#175				ST		$$TMP15	{L:42}
(*) REAL
A001222C  800540BB		mov.u d8, #0x54
A0012230  F600C801		addsc.a a15, a12, d8, #0
A0012234  0000FF59		st.w [a15], d15

#176				LD		B	{L:42}
(*) UNDEF
A0012238  800180BB		mov.u d8, #0x18
A001223C  F600C801		addsc.a a15, a12, d8, #0
A0012240  0000FF19		ld.w d15, [a15]

#177				MUL		Wc_pos	{L:42}
(*) REAL
A0012244  800780BB		mov.u d8, #0x78
A0012248  F600C801		addsc.a a15, a12, d8, #0
A001224C  0000F819		ld.w d8, [a15]
A0012250  F0418F4B		mul.f d15, d15, d8

#178				ST		$$TMP16	{L:42}
(*) REAL
A0012254  800580BB		mov.u d8, #0x58
A0012258  F600C801		addsc.a a15, a12, d8, #0
A001225C  0000FF59		st.w [a15], d15

#179				LD		$$TMP16	{L:42}
(*) UNDEF
A0012260  800580BB		mov.u d8, #0x58
A0012264  F600C801		addsc.a a15, a12, d8, #0
A0012268  0000FF19		ld.w d15, [a15]

#180				ATAN2		1.0	{L:42}
(*) REAL
A001226C  41F0F00B		mov d4, d15
A0012270  500000BB		mov.u d5, #0x0000 ; COSTREAL 1.000000
A0012274  53F8059B		addih d5, d5, #0x3F80
A0012278  F8009091		movh.a a15, #0x8009 ; _do_atan2 AT 0x800919E8
A001227C  71A8FFD9		lea a15,[a15]0x19E8
A0012280  0000000D		nop
A0012284  00000F2D		calli a15
A0012288  F1F0200B		mov d15, d2

#181				ADD		phi_m_p	{L:42}
(*) REAL
A001228C  800740BB		mov.u d8, #0x74
A0012290  F600C801		addsc.a a15, a12, d8, #0
A0012294  0000F819		ld.w d8, [a15]
A0012298  FF21086B		add.f d15, d15, d8

#182				TAN	{L:42}
(*) REAL
A001229C  41F0F00B		mov d4, d15
A00122A0  F8009091		movh.a a15, #0x8009 ; _do_tan AT 0x800918B8
A00122A4  21B8FFD9		lea a15,[a15]0x18B8
A00122A8  0000000D		nop
A00122AC  00000F2D		calli a15
A00122B0  F1F0200B		mov d15, d2

#183				ST		$$TMP17	{L:42}
(*) REAL
A00122B4  8005C0BB		mov.u d8, #0x5C
A00122B8  F600C801		addsc.a a15, a12, d8, #0
A00122BC  0000FF59		st.w [a15], d15

#184				LD		1.0	{L:42}
(*) UNDEF
A00122C0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A00122C4  F3F80F9B		addih d15, d15, #0x3F80

#185				DIV		$$TMP17	{L:42}
(*) REAL
A00122C8  8005C0BB		mov.u d8, #0x5C
A00122CC  F600C801		addsc.a a15, a12, d8, #0
A00122D0  0000F819		ld.w d8, [a15]
A00122D4  F0518F4B		div.f d15, d15, d8

#186				ST		$$TMP18	{L:42}
(*) REAL
A00122D8  800600BB		mov.u d8, #0x60
A00122DC  F600C801		addsc.a a15, a12, d8, #0
A00122E0  0000FF59		st.w [a15], d15

#187				LD		$$TMP18	{L:42}
(*) UNDEF
A00122E4  800600BB		mov.u d8, #0x60
A00122E8  F600C801		addsc.a a15, a12, d8, #0
A00122EC  0000FF19		ld.w d15, [a15]

#188				POW		2.0	{L:42}
(*) REAL
A00122F0  41F0F00B		mov d4, d15
A00122F4  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A00122F8  5400059B		addih d5, d5, #0x4000
A00122FC  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0012300  01F8FFD9		lea a15,[a15]0x1C38
A0012304  0000000D		nop
A0012308  00000F2D		calli a15
A001230C  F1F0200B		mov d15, d2

#189				ADD		1.0	{L:42}
(*) REAL
A0012310  800000BB		mov.u d8, #0x0000 ; COSTREAL 1.000000
A0012314  83F8089B		addih d8, d8, #0x3F80
A0012318  FF21086B		add.f d15, d15, d8

#190				SQRT	{L:42}
(*) REAL
A001231C  41F0F00B		mov d4, d15
A0012320  F8009091		movh.a a15, #0x8009 ; _do_sqrt AT 0x80090598
A0012324  6058FFD9		lea a15,[a15]0x0598
A0012328  0000000D		nop
A001232C  00000F2D		calli a15
A0012330  F1F0200B		mov d15, d2

#191				MUL		A	{L:42}
(*) REAL
A0012334  800140BB		mov.u d8, #0x14
A0012338  F600C801		addsc.a a15, a12, d8, #0
A001233C  0000F819		ld.w d8, [a15]
A0012340  F0418F4B		mul.f d15, d15, d8

#192				ST		$$TMP19	{L:42}
(*) REAL
A0012344  800640BB		mov.u d8, #0x64
A0012348  F600C801		addsc.a a15, a12, d8, #0
A001234C  0000FF59		st.w [a15], d15

#193				LD		$$TMP15	{L:42}
(*) UNDEF
A0012350  800540BB		mov.u d8, #0x54
A0012354  F600C801		addsc.a a15, a12, d8, #0
A0012358  0000FF19		ld.w d15, [a15]

#194				DIV		$$TMP19	{L:42}
(*) REAL
A001235C  800640BB		mov.u d8, #0x64
A0012360  F600C801		addsc.a a15, a12, d8, #0
A0012364  0000F819		ld.w d8, [a15]
A0012368  F0518F4B		div.f d15, d15, d8

#195				ST		kp_p	{L:42}
(*) REAL
A001236C  800980BB		mov.u d8, #0x98
A0012370  F600C801		addsc.a a15, a12, d8, #0
A0012374  0000FF59		st.w [a15], d15

#196		
#197				(* td_p:= TAN(phi_m_p - ATAN2(1.0,(B*Wc_pos)))/Wc_pos; *)
#198				LD		B	{L:43}
(*) UNDEF
A0012378  800180BB		mov.u d8, #0x18
A001237C  F600C801		addsc.a a15, a12, d8, #0
A0012380  0000FF19		ld.w d15, [a15]

#199				MUL		Wc_pos	{L:43}
(*) REAL
A0012384  800780BB		mov.u d8, #0x78
A0012388  F600C801		addsc.a a15, a12, d8, #0
A001238C  0000F819		ld.w d8, [a15]
A0012390  F0418F4B		mul.f d15, d15, d8

#200				ST		$$TMP20	{L:43}
(*) REAL
A0012394  800680BB		mov.u d8, #0x68
A0012398  F600C801		addsc.a a15, a12, d8, #0
A001239C  0000FF59		st.w [a15], d15

#201				LD		1.0	{L:43}
(*) UNDEF
A00123A0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A00123A4  F3F80F9B		addih d15, d15, #0x3F80

#202				ATAN2		$$TMP20	{L:43}
(*) REAL
A00123A8  41F0F00B		mov d4, d15
A00123AC  800680BB		mov.u d8, #0x68
A00123B0  F600C801		addsc.a a15, a12, d8, #0
A00123B4  0000F519		ld.w d5, [a15]
A00123B8  F8009091		movh.a a15, #0x8009 ; _do_atan2 AT 0x800919E8
A00123BC  71A8FFD9		lea a15,[a15]0x19E8
A00123C0  0000000D		nop
A00123C4  00000F2D		calli a15
A00123C8  F1F0200B		mov d15, d2

#203				ST		$$TMP21	{L:43}
(*) REAL
A00123CC  8006C0BB		mov.u d8, #0x6C
A00123D0  F600C801		addsc.a a15, a12, d8, #0
A00123D4  0000FF59		st.w [a15], d15

#204				LD		phi_m_p	{L:43}
(*) UNDEF
A00123D8  800740BB		mov.u d8, #0x74
A00123DC  F600C801		addsc.a a15, a12, d8, #0
A00123E0  0000FF19		ld.w d15, [a15]

#205				SUB		$$TMP21	{L:43}
(*) REAL
A00123E4  8006C0BB		mov.u d8, #0x6C
A00123E8  F600C801		addsc.a a15, a12, d8, #0
A00123EC  0000F819		ld.w d8, [a15]
A00123F0  FF31086B		sub.f d15, d15, d8

#206				TAN	{L:43}
(*) REAL
A00123F4  41F0F00B		mov d4, d15
A00123F8  F8009091		movh.a a15, #0x8009 ; _do_tan AT 0x800918B8
A00123FC  21B8FFD9		lea a15,[a15]0x18B8
A0012400  0000000D		nop
A0012404  00000F2D		calli a15
A0012408  F1F0200B		mov d15, d2

#207				DIV		Wc_pos	{L:43}
(*) REAL
A001240C  800780BB		mov.u d8, #0x78
A0012410  F600C801		addsc.a a15, a12, d8, #0
A0012414  0000F819		ld.w d8, [a15]
A0012418  F0518F4B		div.f d15, d15, d8

#208				ST		td_p	{L:43}
(*) REAL
A001241C  8009C0BB		mov.u d8, #0x9C
A0012420  F600C801		addsc.a a15, a12, d8, #0
A0012424  0000FF59		st.w [a15], d15

#209		
#210		
#211				(* IF td_p<=0.0 *)
#212				LD		td_p	{L:44}
(*) UNDEF
A0012428  8009C0BB		mov.u d8, #0x9C
A001242C  F600C801		addsc.a a15, a12, d8, #0
A0012430  0000FF19		ld.w d15, [a15]

#213				LE		0.0	{L:44}
(*) REAL
A0012434  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0012438  5000059B		addih d5, d5, #0x0000
A001243C  F0015F4B		cmp.f d15, d15, d5
A0012440  F2204F8B		ne d15, d15, #4

#214				JMPCN	$label6	{L:44}
(-) BOOL
A0012444  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA001245C

#215		
#216				(* THEN *)
#217		
#218					(* td_p:=0.0; *)
#219					LD		0.0	{L:45}
(*) UNDEF
A0012448  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A001244C  F0000F9B		addih d15, d15, #0x0000

#220					ST		td_p	{L:45}
(*) REAL
A0012450  8009C0BB		mov.u d8, #0x9C
A0012454  F600C801		addsc.a a15, a12, d8, #0
A0012458  0000FF59		st.w [a15], d15

A001245C  0180000D		ret


Frame allocation:

	0070       : VAR phi_m_v
	0074       : VAR phi_m_p
	0078       : VAR Wc_pos
	007C       : VAR Wc_vel
	0080       : VAR Jm
	0084       : VAR Bm
	0088       : VAR TUNE
	008C       : VAR ti_v
	0090       : VAR kp_v
	0094       : VAR ti_p
	0098       : VAR kp_p
	009C       : VAR td_p
	00A0       : VAR td_v
	0000       : VAR ssMethodType
	0004       : VAR kk
	0008       : VAR beta
	000C       : VAR K
	0010       : VAR P
	0014       : VAR A
	0018       : VAR B
	001C bit  0: VAR ONLY_kpv
	0020       : VAR $$TMP0
	0024       : VAR $$TMP1
	0028       : VAR $$TMP2
	002C       : VAR $$TMP3
	0030       : VAR $$TMP4
	0034       : VAR $$TMP5
	0038       : VAR $$TMP6
	003C       : VAR $$TMP7
	0040       : VAR $$TMP8
	0044       : VAR $$TMP9
	0048       : VAR $$TMP10
	004C       : VAR $$TMP11
	0050       : VAR $$TMP14
	0054       : VAR $$TMP15
	0058       : VAR $$TMP16
	005C       : VAR $$TMP17
	0060       : VAR $$TMP18
	0064       : VAR $$TMP19
	0068       : VAR $$TMP20
	006C       : VAR $$TMP21

END_FUNCTION_BLOCK
**************************************************
	List function block: VARIANCE
**************************************************

FUNCTION_BLOCK VARIANCE

	VAR_INPUT
	INPUT : REAL; 
	ssMethodType : SINT; 
	END_VAR

	VAR_OUTPUT
	SIGMA : REAL; 
	END_VAR

	VAR
	SUM_X : REAL; 
	SUM_X_sqr : REAL; 
	N : REAL; 
	SIGMA_SQRD : REAL; 
	END_VAR

A0012460  C0004001		mov.aa a12, a4

#0		{SRC:VARIANCE}
#1		
#2		
#3			(* CASE ssMethodType OF *)
#4		
#5			(* 0: *)
#6			LD		ssMethodType	{L:2}
(*) UNDEF
A0012464  800200BB		mov.u d8, #0x20
A0012468  F600C801		addsc.a a15, a12, d8, #0
A001246C  0800FF09		ld.b d15, [a15]

#7			EQ		0	{L:2}
(*) SINT
A0012470  8000003B		mov d8, #0
A0012474  F1008F0B		eq d15, d15, d8

#8			JMPC	$label1
(-) BOOL
A0012478  80100FDF		jne d15, #0, #0x0010 ; JUMP 0xA0012498

#9		
#10			(* 1: *)
#11			LD		ssMethodType	{L:9}
(*) UNDEF
A001247C  800200BB		mov.u d8, #0x20
A0012480  F600C801		addsc.a a15, a12, d8, #0
A0012484  0800FF09		ld.b d15, [a15]

#12			EQ		1	{L:9}
(*) SINT
A0012488  8000103B		mov d8, #1
A001248C  F1008F0B		eq d15, d15, d8

#13			JMPC	$label2
(-) BOOL
A0012490  802C0FDF		jne d15, #0, #0x002C ; JUMP 0xA00124E8

#14			JMP		$label0
(-) BOOL
A0012494  0110001D		j #0x000110 ; JUMP 0xA00126B4

#15		
#16			(* Istruzioni di ciascun CASE: *)
#17		
#18		$label1:
#19				(* N			:=0.0; *)
#20				LD		0.0	{L:3}
(*) UNDEF
A0012498  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A001249C  F0000F9B		addih d15, d15, #0x0000

#21				ST		N	{L:3}
(*) REAL
A00124A0  800080BB		mov.u d8, #0x8
A00124A4  F600C801		addsc.a a15, a12, d8, #0
A00124A8  0000FF59		st.w [a15], d15

#22		
#23				(* SUM_X		:=0.0; *)
#24				LD		0.0	{L:4}
(*) UNDEF
A00124AC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00124B0  F0000F9B		addih d15, d15, #0x0000

#25				ST		SUM_X	{L:4}
(*) REAL
A00124B4  F000C001		mov.aa a15, a12
A00124B8  0000FF59		st.w [a15], d15

#26		
#27				(* SUM_X_sqr	:=0.0; *)
#28				LD		0.0	{L:5}
(*) UNDEF
A00124BC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00124C0  F0000F9B		addih d15, d15, #0x0000

#29				ST		SUM_X_sqr	{L:5}
(*) REAL
A00124C4  800040BB		mov.u d8, #0x4
A00124C8  F600C801		addsc.a a15, a12, d8, #0
A00124CC  0000FF59		st.w [a15], d15

#30		
#31				(* SIGMA_SQRD	:=0.0; *)
#32				LD		0.0	{L:6}
(*) UNDEF
A00124D0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00124D4  F0000F9B		addih d15, d15, #0x0000

#33				ST		SIGMA_SQRD	{L:6}
(*) REAL
A00124D8  8000C0BB		mov.u d8, #0xC
A00124DC  F600C801		addsc.a a15, a12, d8, #0
A00124E0  0000FF59		st.w [a15], d15

#34				JMP		$label0
(-) REAL
A00124E4  00E8001D		j #0x0000E8 ; JUMP 0xA00126B4

#35		
#36		$label2:
#37				(* N:=N+1.0; *)
#38				LD		N	{L:10}
(*) UNDEF
A00124E8  800080BB		mov.u d8, #0x8
A00124EC  F600C801		addsc.a a15, a12, d8, #0
A00124F0  0000FF19		ld.w d15, [a15]

#39				ADD		1.0	{L:10}
(*) REAL
A00124F4  800000BB		mov.u d8, #0x0000 ; COSTREAL 1.000000
A00124F8  83F8089B		addih d8, d8, #0x3F80
A00124FC  FF21086B		add.f d15, d15, d8

#40				ST		N	{L:10}
(*) REAL
A0012500  800080BB		mov.u d8, #0x8
A0012504  F600C801		addsc.a a15, a12, d8, #0
A0012508  0000FF59		st.w [a15], d15

#41		
#42				(* SUM_X  		:= SUM_X+INPUT; *)
#43				LD		SUM_X	{L:12}
(*) UNDEF
A001250C  F000C001		mov.aa a15, a12
A0012510  0000FF19		ld.w d15, [a15]

#44				ADD		INPUT	{L:12}
(*) REAL
A0012514  8001C0BB		mov.u d8, #0x1C
A0012518  F600C801		addsc.a a15, a12, d8, #0
A001251C  0000F819		ld.w d8, [a15]
A0012520  FF21086B		add.f d15, d15, d8

#45				ST		SUM_X	{L:12}
(*) REAL
A0012524  F000C001		mov.aa a15, a12
A0012528  0000FF59		st.w [a15], d15

#46		
#47				(* SUM_X_sqr 	:= SUM_X_sqr+ POW(INPUT,2.0); *)
#48				LD		INPUT	{L:13}
(*) UNDEF
A001252C  8001C0BB		mov.u d8, #0x1C
A0012530  F600C801		addsc.a a15, a12, d8, #0
A0012534  0000FF19		ld.w d15, [a15]

#49				POW		2.0	{L:13}
(*) REAL
A0012538  41F0F00B		mov d4, d15
A001253C  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0012540  5400059B		addih d5, d5, #0x4000
A0012544  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A0012548  01F8FFD9		lea a15,[a15]0x1C38
A001254C  0000000D		nop
A0012550  00000F2D		calli a15
A0012554  F1F0200B		mov d15, d2

#50				ADD		SUM_X_sqr	{L:13}
(*) REAL
A0012558  800040BB		mov.u d8, #0x4
A001255C  F600C801		addsc.a a15, a12, d8, #0
A0012560  0000F819		ld.w d8, [a15]
A0012564  FF21086B		add.f d15, d15, d8

#51				ST		SUM_X_sqr	{L:13}
(*) REAL
A0012568  800040BB		mov.u d8, #0x4
A001256C  F600C801		addsc.a a15, a12, d8, #0
A0012570  0000FF59		st.w [a15], d15

#52		
#53		
#54				(* IF N>20.0 *)
#55				LD		N	{L:15}
(*) UNDEF
A0012574  800080BB		mov.u d8, #0x8
A0012578  F600C801		addsc.a a15, a12, d8, #0
A001257C  0000FF19		ld.w d15, [a15]

#56				GT		20.0	{L:15}
(*) REAL
A0012580  500000BB		mov.u d5, #0x0000 ; COSTREAL 20.000000
A0012584  541A059B		addih d5, d5, #0x41A0
A0012588  F0015F4B		cmp.f d15, d15, d5
A001258C  F2004F8B		eq d15, d15, #4

#57				JMPCN	$label3	{L:15}
(-) BOOL
A0012590  005E0FDF		jeq d15, #0, #0x005E ; JUMP 0xA001264C

#58		
#59				(* THEN *)
#60		
#61					(* SIGMA_SQRD	:= (SUM_X_sqr-POW(SUM_X,2.0)/N)/(N-1.0); *)
#62					LD		SUM_X	{L:16}
(*) UNDEF
A0012594  F000C001		mov.aa a15, a12
A0012598  0000FF19		ld.w d15, [a15]

#63					POW		2.0	{L:16}
(*) REAL
A001259C  41F0F00B		mov d4, d15
A00125A0  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A00125A4  5400059B		addih d5, d5, #0x4000
A00125A8  F8009091		movh.a a15, #0x8009 ; _do_pow AT 0x80091C38
A00125AC  01F8FFD9		lea a15,[a15]0x1C38
A00125B0  0000000D		nop
A00125B4  00000F2D		calli a15
A00125B8  F1F0200B		mov d15, d2

#64					DIV		N	{L:16}
(*) REAL
A00125BC  800080BB		mov.u d8, #0x8
A00125C0  F600C801		addsc.a a15, a12, d8, #0
A00125C4  0000F819		ld.w d8, [a15]
A00125C8  F0518F4B		div.f d15, d15, d8

#65					ST		$$TMP0	{L:16}
(*) REAL
A00125CC  800100BB		mov.u d8, #0x10
A00125D0  F600C801		addsc.a a15, a12, d8, #0
A00125D4  0000FF59		st.w [a15], d15

#66					LD		SUM_X_sqr	{L:16}
(*) UNDEF
A00125D8  800040BB		mov.u d8, #0x4
A00125DC  F600C801		addsc.a a15, a12, d8, #0
A00125E0  0000FF19		ld.w d15, [a15]

#67					SUB		$$TMP0	{L:16}
(*) REAL
A00125E4  800100BB		mov.u d8, #0x10
A00125E8  F600C801		addsc.a a15, a12, d8, #0
A00125EC  0000F819		ld.w d8, [a15]
A00125F0  FF31086B		sub.f d15, d15, d8

#68					ST		$$TMP1	{L:16}
(*) REAL
A00125F4  800140BB		mov.u d8, #0x14
A00125F8  F600C801		addsc.a a15, a12, d8, #0
A00125FC  0000FF59		st.w [a15], d15

#69					LD		N	{L:16}
(*) UNDEF
A0012600  800080BB		mov.u d8, #0x8
A0012604  F600C801		addsc.a a15, a12, d8, #0
A0012608  0000FF19		ld.w d15, [a15]

#70					SUB		1.0	{L:16}
(*) REAL
A001260C  800000BB		mov.u d8, #0x0000 ; COSTREAL 1.000000
A0012610  83F8089B		addih d8, d8, #0x3F80
A0012614  FF31086B		sub.f d15, d15, d8

#71					ST		$$TMP2	{L:16}
(*) REAL
A0012618  800180BB		mov.u d8, #0x18
A001261C  F600C801		addsc.a a15, a12, d8, #0
A0012620  0000FF59		st.w [a15], d15

#72					LD		$$TMP1	{L:16}
(*) UNDEF
A0012624  800140BB		mov.u d8, #0x14
A0012628  F600C801		addsc.a a15, a12, d8, #0
A001262C  0000FF19		ld.w d15, [a15]

#73					DIV		$$TMP2	{L:16}
(*) REAL
A0012630  800180BB		mov.u d8, #0x18
A0012634  F600C801		addsc.a a15, a12, d8, #0
A0012638  0000F819		ld.w d8, [a15]
A001263C  F0518F4B		div.f d15, d15, d8

#74					ST		SIGMA_SQRD	{L:16}
(*) REAL
A0012640  8000C0BB		mov.u d8, #0xC
A0012644  F600C801		addsc.a a15, a12, d8, #0
A0012648  0000FF59		st.w [a15], d15

#75		
#76		$label3:
#77				(* END_IF *)
#78		
#79		
#80				(* IF SIGMA_SQRD>0.0 *)
#81				LD		SIGMA_SQRD	{L:18}
(*) UNDEF
A001264C  8000C0BB		mov.u d8, #0xC
A0012650  F600C801		addsc.a a15, a12, d8, #0
A0012654  0000FF19		ld.w d15, [a15]

#82				GT		0.0	{L:18}
(*) REAL
A0012658  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A001265C  5000059B		addih d5, d5, #0x0000
A0012660  F0015F4B		cmp.f d15, d15, d5
A0012664  F2004F8B		eq d15, d15, #4

#83				JMPCN	$label4	{L:18}
(-) BOOL
A0012668  001C0FDF		jeq d15, #0, #0x001C ; JUMP 0xA00126A0

#84		
#85				(* THEN *)
#86		
#87					(* SIGMA:=SQRT(SIGMA_SQRD); *)
#88					LD		SIGMA_SQRD	{L:21}
(*) UNDEF
A001266C  8000C0BB		mov.u d8, #0xC
A0012670  F600C801		addsc.a a15, a12, d8, #0
A0012674  0000FF19		ld.w d15, [a15]

#89					SQRT	{L:21}
(*) REAL
A0012678  41F0F00B		mov d4, d15
A001267C  F8009091		movh.a a15, #0x8009 ; _do_sqrt AT 0x80090598
A0012680  6058FFD9		lea a15,[a15]0x0598
A0012684  0000000D		nop
A0012688  00000F2D		calli a15
A001268C  F1F0200B		mov d15, d2

#90					ST		SIGMA	{L:21}
(*) REAL
A0012690  800240BB		mov.u d8, #0x24
A0012694  F600C801		addsc.a a15, a12, d8, #0
A0012698  0000FF59		st.w [a15], d15

#91					JMP		$label5
(-) REAL
A001269C  000C001D		j #0x00000C ; JUMP 0xA00126B4

#92		$label4:
#93		
#94				(* ELSE *)
#95		
#96					(* SIGMA:=0.0; *)
#97					LD		0.0	{L:23}
(*) UNDEF
A00126A0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00126A4  F0000F9B		addih d15, d15, #0x0000

#98					ST		SIGMA	{L:23}
(*) REAL
A00126A8  800240BB		mov.u d8, #0x24
A00126AC  F600C801		addsc.a a15, a12, d8, #0
A00126B0  0000FF59		st.w [a15], d15

A00126B4  0180000D		ret


Frame allocation:

	001C       : VAR INPUT
	0020       : VAR ssMethodType
	0024       : VAR SIGMA
	0000       : VAR SUM_X
	0004       : VAR SUM_X_sqr
	0008       : VAR N
	000C       : VAR SIGMA_SQRD
	0010       : VAR $$TMP0
	0014       : VAR $$TMP1
	0018       : VAR $$TMP2

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_InertiaEstim_trj
**************************************************

FUNCTION_BLOCK fb_InertiaEstim_trj

	VAR_INPUT
	vel : REAL; 
	pos : REAL; 
	fbInit : BOOL; 
	maxTRQ : REAL; 
	maxVEL : REAL; 
	maxPOS : REAL; 
	minPOS : REAL; 
	minVEL : REAL; 
	STOP : BOOL; 
	staticFriction : REAL; 
	END_VAR

	VAR_OUTPUT
	torque : REAL; 
	STOPPED : BOOL; 
	END_VAR

	VAR
	torque_internal : REAL; 
	state : SINT; 
	rand : fb_Random; 
	STOPPING : BOOL; 
	pos_threshold : REAL; 
	neg_threshold : REAL; 
	vel_percentage : REAL; 
	pos_mean : REAL; 
	hysteresis : REAL; 
	END_VAR

A00126B8  C0004001		mov.aa a12, a4

#0		{SRC:fb_InertiaEstim_trj}
#1		
#2		
#3			(* IF fbInit *)
#4			LD		fbInit	{L:1}
(*) UNDEF
A00126BC  800400BB		mov.u d8, #0x40
A00126C0  F600C801		addsc.a a15, a12, d8, #0
A00126C4  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A00126C8  00B60FDF		jeq d15, #0, #0x00B6 ; JUMP 0xA0012834

#6		
#7			(* THEN *)
#8		
#9				(* rand.fb_Init:=TRUE; *)
#10				LD		TRUE	{L:4}
(*) UNDEF
A00126CC  F000103B		mov d15, #1

#11				ST		rand.fb_Init	{L:4}
(*) BOOL
A00126D0  800180BB		mov.u d8, #0x18
A00126D4  F600C801		addsc.a a15, a12, d8, #0
A00126D8  0000FF59		st.w [a15], d15

#12		
#13				(* rand() *)
#14				CAL		rand	{L:5}
(*) BOOL
A00126DC  F53CAF89		st.w [-sp]4, d15 
A00126E0  4000C001		mov.aa a4, a12
A00126E4  800080BB		mov.u d8, #0x8 ; FB FRAME BASE 0x8
A00126E8  8000089B		addih d8, d8, #0x0
A00126EC  46004801		addsc.a a4, a4, d8, #0
A00126F0  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011244
A00126F4  9104FFD9		lea a15,[a15]0x1244
A00126F8  0000000D		nop
A00126FC  00000F2D		calli a15
A0012700  0104AF09		ld.w d15, [sp+]4

#15		
#16				(* rand.fb_Init:=FALSE; *)
#17				LD		FALSE	{L:6}
(*) UNDEF
A0012704  F000003B		mov d15, #0

#18				ST		rand.fb_Init	{L:6}
(*) BOOL
A0012708  800180BB		mov.u d8, #0x18
A001270C  F600C801		addsc.a a15, a12, d8, #0
A0012710  0000FF59		st.w [a15], d15

#19		
#20				(* STOP:=FALSE; *)
#21				LD		FALSE	{L:7}
(*) UNDEF
A0012714  F000003B		mov d15, #0

#22				ST		STOP	{L:7}
(*) BOOL
A0012718  800580BB		mov.u d8, #0x58
A001271C  F600C801		addsc.a a15, a12, d8, #0
A0012720  0000FF59		st.w [a15], d15

#23		
#24				(* STOPPED:=FALSE; *)
#25				LD		FALSE	{L:8}
(*) UNDEF
A0012724  F000003B		mov d15, #0

#26				ST		STOPPED	{L:8}
(*) BOOL
A0012728  800640BB		mov.u d8, #0x64
A001272C  F600C801		addsc.a a15, a12, d8, #0
A0012730  0000FF59		st.w [a15], d15

#27		
#28				(* STOPPING:=FALSE; *)
#29				LD		FALSE	{L:9}
(*) UNDEF
A0012734  F000003B		mov d15, #0

#30				ST		STOPPING	{L:9}
(*) BOOL
A0012738  800200BB		mov.u d8, #0x20
A001273C  F600C801		addsc.a a15, a12, d8, #0
A0012740  0000FF59		st.w [a15], d15

#31		
#32				(* torque_internal:=0.0; *)
#33				LD		0.0	{L:11}
(*) UNDEF
A0012744  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0012748  F0000F9B		addih d15, d15, #0x0000

#34				ST		torque_internal	{L:11}
(*) REAL
A001274C  F000C001		mov.aa a15, a12
A0012750  0000FF59		st.w [a15], d15

#35		
#36				(* pos_mean:=0.5*(maxPOS+minPOS); *)
#37				LD		maxPOS	{L:12}
(*) UNDEF
A0012754  8004C0BB		mov.u d8, #0x4C
A0012758  F600C801		addsc.a a15, a12, d8, #0
A001275C  0000FF19		ld.w d15, [a15]

#38				ADD		minPOS	{L:12}
(*) REAL
A0012760  800500BB		mov.u d8, #0x50
A0012764  F600C801		addsc.a a15, a12, d8, #0
A0012768  0000F819		ld.w d8, [a15]
A001276C  FF21086B		add.f d15, d15, d8

#39				MUL		0.5	{L:12}
(*) REAL
A0012770  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A0012774  83F0089B		addih d8, d8, #0x3F00
A0012778  F0418F4B		mul.f d15, d15, d8

#40				ST		pos_mean	{L:12}
(*) REAL
A001277C  800300BB		mov.u d8, #0x30
A0012780  F600C801		addsc.a a15, a12, d8, #0
A0012784  0000FF59		st.w [a15], d15

#41		
#42				(* hysteresis:=(maxPOS-pos_mean)*0.1; *)
#43				LD		maxPOS	{L:13}
(*) UNDEF
A0012788  8004C0BB		mov.u d8, #0x4C
A001278C  F600C801		addsc.a a15, a12, d8, #0
A0012790  0000FF19		ld.w d15, [a15]

#44				SUB		pos_mean	{L:13}
(*) REAL
A0012794  800300BB		mov.u d8, #0x30
A0012798  F600C801		addsc.a a15, a12, d8, #0
A001279C  0000F819		ld.w d8, [a15]
A00127A0  FF31086B		sub.f d15, d15, d8

#45				MUL		0.1	{L:13}
(*) REAL
A00127A4  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.100000
A00127A8  83DCC89B		addih d8, d8, #0x3DCC
A00127AC  F0418F4B		mul.f d15, d15, d8

#46				ST		hysteresis	{L:13}
(*) REAL
A00127B0  800340BB		mov.u d8, #0x34
A00127B4  F600C801		addsc.a a15, a12, d8, #0
A00127B8  0000FF59		st.w [a15], d15

#47		
#48				(* pos_threshold:=pos_mean+hysteresis; *)
#49				LD		pos_mean	{L:14}
(*) UNDEF
A00127BC  800300BB		mov.u d8, #0x30
A00127C0  F600C801		addsc.a a15, a12, d8, #0
A00127C4  0000FF19		ld.w d15, [a15]

#50				ADD		hysteresis	{L:14}
(*) REAL
A00127C8  800340BB		mov.u d8, #0x34
A00127CC  F600C801		addsc.a a15, a12, d8, #0
A00127D0  0000F819		ld.w d8, [a15]
A00127D4  FF21086B		add.f d15, d15, d8

#51				ST		pos_threshold	{L:14}
(*) REAL
A00127D8  800240BB		mov.u d8, #0x24
A00127DC  F600C801		addsc.a a15, a12, d8, #0
A00127E0  0000FF59		st.w [a15], d15

#52		
#53				(* neg_threshold:=pos_mean-hysteresis; *)
#54				LD		pos_mean	{L:15}
(*) UNDEF
A00127E4  800300BB		mov.u d8, #0x30
A00127E8  F600C801		addsc.a a15, a12, d8, #0
A00127EC  0000FF19		ld.w d15, [a15]

#55				SUB		hysteresis	{L:15}
(*) REAL
A00127F0  800340BB		mov.u d8, #0x34
A00127F4  F600C801		addsc.a a15, a12, d8, #0
A00127F8  0000F819		ld.w d8, [a15]
A00127FC  FF31086B		sub.f d15, d15, d8

#56				ST		neg_threshold	{L:15}
(*) REAL
A0012800  800280BB		mov.u d8, #0x28
A0012804  F600C801		addsc.a a15, a12, d8, #0
A0012808  0000FF59		st.w [a15], d15

#57		
#58				(* vel_percentage:=0.5; *)
#59				LD		0.5	{L:16}
(*) UNDEF
A001280C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.500000
A0012810  F3F00F9B		addih d15, d15, #0x3F00

#60				ST		vel_percentage	{L:16}
(*) REAL
A0012814  8002C0BB		mov.u d8, #0x2C
A0012818  F600C801		addsc.a a15, a12, d8, #0
A001281C  0000FF59		st.w [a15], d15

#61		
#62				(* state:=-1; *)
#63				LD		-1	{L:17}
(*) UNDEF
A0012820  FFFFF03B		mov d15, #-1

#64				ST		state	{L:17}
(*) SINT
A0012824  800040BB		mov.u d8, #0x4
A0012828  F600C801		addsc.a a15, a12, d8, #0
A001282C  0800FF89		st.b [a15], d15

#65				JMP		$label1
(-) SINT
A0012830  0362001D		j #0x000362 ; JUMP 0xA0012EF4

#66		$label0:
#67		
#68			(* ELSE *)
#69		
#70				(* rand() *)
#71				CAL		rand	{L:20}
(*) SINT
A0012834  F53CAF89		st.w [-sp]4, d15 
A0012838  4000C001		mov.aa a4, a12
A001283C  800080BB		mov.u d8, #0x8 ; FB FRAME BASE 0x8
A0012840  8000089B		addih d8, d8, #0x0
A0012844  46004801		addsc.a a4, a4, d8, #0
A0012848  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011244
A001284C  9104FFD9		lea a15,[a15]0x1244
A0012850  0000000D		nop
A0012854  00000F2D		calli a15
A0012858  0104AF09		ld.w d15, [sp+]4

#72		
#73		
#74				(* IF STOP AND NOT(STOPPING) *)
#75				LD		STOPPING	{L:35}
(*) UNDEF
A001285C  800200BB		mov.u d8, #0x20
A0012860  F600C801		addsc.a a15, a12, d8, #0
A0012864  0000FF19		ld.w d15, [a15]

#76				NOT	{L:35}
(*) BOOL
A0012868  8000103B		mov d8, #1
A001286C  9000003B		mov d9, #0
A0012870  FF40892B		sel d15, d15, d9, d8

#77				AND		STOP	{L:35}
(*) BOOL
A0012874  800580BB		mov.u d8, #0x58
A0012878  F600C801		addsc.a a15, a12, d8, #0
A001287C  0000F819		ld.w d8, [a15]
A0012880  F0808F0F		and d15, d15, d8

#78				JMPCN	$label2	{L:35}
(-) BOOL
A0012884  00480FDF		jeq d15, #0, #0x0048 ; JUMP 0xA0012914

#79		
#80				(* THEN *)
#81		
#82					(* STOPPING:=TRUE; *)
#83					LD		TRUE	{L:36}
(*) UNDEF
A0012888  F000103B		mov d15, #1

#84					ST		STOPPING	{L:36}
(*) BOOL
A001288C  800200BB		mov.u d8, #0x20
A0012890  F600C801		addsc.a a15, a12, d8, #0
A0012894  0000FF59		st.w [a15], d15

#85		
#86		
#87					(* IF vel>0.0 *)
#88					LD		vel	{L:37}
(*) UNDEF
A0012898  800380BB		mov.u d8, #0x38
A001289C  F600C801		addsc.a a15, a12, d8, #0
A00128A0  0000FF19		ld.w d15, [a15]

#89					GT		0.0	{L:37}
(*) REAL
A00128A4  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A00128A8  5000059B		addih d5, d5, #0x0000
A00128AC  F0015F4B		cmp.f d15, d15, d5
A00128B0  F2004F8B		eq d15, d15, #4

#90					JMPCN	$label12	{L:37}
(-) BOOL
A00128B4  001C0FDF		jeq d15, #0, #0x001C ; JUMP 0xA00128EC

#91		
#92					(* THEN *)
#93		
#94						(* state:=7; *)
#95						LD		7	{L:38}
(*) UNDEF
A00128B8  F000703B		mov d15, #7

#96						ST		state	{L:38}
(*) USINT
A00128BC  800040BB		mov.u d8, #0x4
A00128C0  F600C801		addsc.a a15, a12, d8, #0
A00128C4  0800FF89		st.b [a15], d15

#97		
#98						(* torque_internal:=-maxTRQ; *)
#99						LD		maxTRQ	{L:39}
(*) UNDEF
A00128C8  800440BB		mov.u d8, #0x44
A00128CC  F600C801		addsc.a a15, a12, d8, #0
A00128D0  0000FF19		ld.w d15, [a15]

#100						MUL		-1	{L:39}
(*) REAL
A00128D4  8FFFF03B		mov d8, #-1
A00128D8  8141084B		itof d8, d8
A00128DC  F0418F4B		mul.f d15, d15, d8

#101						ST		torque_internal	{L:39}
(*) REAL
A00128E0  F000C001		mov.aa a15, a12
A00128E4  0000FF59		st.w [a15], d15

#102						JMP		$label13
(-) REAL
A00128E8  0014001D		j #0x000014 ; JUMP 0xA0012910

#103		$label12:
#104		
#105					(* ELSE *)
#106		
#107						(* state:=6; *)
#108						LD		6	{L:41}
(*) UNDEF
A00128EC  F000603B		mov d15, #6

#109						ST		state	{L:41}
(*) USINT
A00128F0  800040BB		mov.u d8, #0x4
A00128F4  F600C801		addsc.a a15, a12, d8, #0
A00128F8  0800FF89		st.b [a15], d15

#110		
#111						(* torque_internal:=maxTRQ; *)
#112						LD		maxTRQ	{L:42}
(*) UNDEF
A00128FC  800440BB		mov.u d8, #0x44
A0012900  F600C801		addsc.a a15, a12, d8, #0
A0012904  0000FF19		ld.w d15, [a15]

#113						ST		torque_internal	{L:42}
(*) REAL
A0012908  F000C001		mov.aa a15, a12
A001290C  0000FF59		st.w [a15], d15

#114		
#115		$label13:
#116					(* END_IF *)
#117					JMP		$label11
(-) REAL
A0012910  02CA001D		j #0x0002CA ; JUMP 0xA0012EA4

#118		$label2:
#119		
#120				(* ELSIF state=-1 *)
#121				LD		state	{L:44}
(*) UNDEF
A0012914  800040BB		mov.u d8, #0x4
A0012918  F600C801		addsc.a a15, a12, d8, #0
A001291C  0800FF09		ld.b d15, [a15]

#122				EQ		-1	{L:44}
(*) SINT
A0012920  8FFFF03B		mov d8, #-1
A0012924  F1008F0B		eq d15, d15, d8

#123				JMPCN	$label3	{L:44}
(-) BOOL
A0012928  006E0FDF		jeq d15, #0, #0x006E ; JUMP 0xA0012A04

#124		
#125				(* THEN *)
#126		
#127		
#128					(* IF pos>pos_mean *)
#129					LD		pos	{L:45}
(*) UNDEF
A001292C  8003C0BB		mov.u d8, #0x3C
A0012930  F600C801		addsc.a a15, a12, d8, #0
A0012934  0000FF19		ld.w d15, [a15]

#130					GT		pos_mean	{L:45}
(*) REAL
A0012938  800300BB		mov.u d8, #0x30
A001293C  F600C801		addsc.a a15, a12, d8, #0
A0012940  0000F519		ld.w d5, [a15]
A0012944  F0015F4B		cmp.f d15, d15, d5
A0012948  F2004F8B		eq d15, d15, #4

#131					JMPCN	$label14	{L:45}
(-) BOOL
A001294C  00320FDF		jeq d15, #0, #0x0032 ; JUMP 0xA00129B0

#132		
#133					(* THEN *)
#134		
#135						(* state:=0; *)
#136						LD		0	{L:46}
(*) UNDEF
A0012950  F000003B		mov d15, #0

#137						ST		state	{L:46}
(*) USINT
A0012954  800040BB		mov.u d8, #0x4
A0012958  F600C801		addsc.a a15, a12, d8, #0
A001295C  0800FF89		st.b [a15], d15

#138		
#139						(* torque_internal:= -(staticFriction+(maxTRQ-staticFriction)*0.2); *)
#140						LD		maxTRQ	{L:47}
(*) UNDEF
A0012960  800440BB		mov.u d8, #0x44
A0012964  F600C801		addsc.a a15, a12, d8, #0
A0012968  0000FF19		ld.w d15, [a15]

#141						SUB		staticFriction	{L:47}
(*) REAL
A001296C  8005C0BB		mov.u d8, #0x5C
A0012970  F600C801		addsc.a a15, a12, d8, #0
A0012974  0000F819		ld.w d8, [a15]
A0012978  FF31086B		sub.f d15, d15, d8

#142						MUL		0.2	{L:47}
(*) REAL
A001297C  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.200000
A0012980  83E4C89B		addih d8, d8, #0x3E4C
A0012984  F0418F4B		mul.f d15, d15, d8

#143						ADD		staticFriction	{L:47}
(*) REAL
A0012988  8005C0BB		mov.u d8, #0x5C
A001298C  F600C801		addsc.a a15, a12, d8, #0
A0012990  0000F819		ld.w d8, [a15]
A0012994  FF21086B		add.f d15, d15, d8

#144						MUL		-1	{L:47}
(*) REAL
A0012998  8FFFF03B		mov d8, #-1
A001299C  8141084B		itof d8, d8
A00129A0  F0418F4B		mul.f d15, d15, d8

#145						ST		torque_internal	{L:47}
(*) REAL
A00129A4  F000C001		mov.aa a15, a12
A00129A8  0000FF59		st.w [a15], d15

#146						JMP		$label15
(-) REAL
A00129AC  002A001D		j #0x00002A ; JUMP 0xA0012A00

#147		$label14:
#148		
#149					(* ELSE *)
#150		
#151						(* state:=1; *)
#152						LD		1	{L:49}
(*) UNDEF
A00129B0  F000103B		mov d15, #1

#153						ST		state	{L:49}
(*) USINT
A00129B4  800040BB		mov.u d8, #0x4
A00129B8  F600C801		addsc.a a15, a12, d8, #0
A00129BC  0800FF89		st.b [a15], d15

#154		
#155						(* torque_internal:=  (staticFriction+(maxTRQ-staticFriction)*0.2); *)
#156						LD		maxTRQ	{L:50}
(*) UNDEF
A00129C0  800440BB		mov.u d8, #0x44
A00129C4  F600C801		addsc.a a15, a12, d8, #0
A00129C8  0000FF19		ld.w d15, [a15]

#157						SUB		staticFriction	{L:50}
(*) REAL
A00129CC  8005C0BB		mov.u d8, #0x5C
A00129D0  F600C801		addsc.a a15, a12, d8, #0
A00129D4  0000F819		ld.w d8, [a15]
A00129D8  FF31086B		sub.f d15, d15, d8

#158						MUL		0.2	{L:50}
(*) REAL
A00129DC  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.200000
A00129E0  83E4C89B		addih d8, d8, #0x3E4C
A00129E4  F0418F4B		mul.f d15, d15, d8

#159						ADD		staticFriction	{L:50}
(*) REAL
A00129E8  8005C0BB		mov.u d8, #0x5C
A00129EC  F600C801		addsc.a a15, a12, d8, #0
A00129F0  0000F819		ld.w d8, [a15]
A00129F4  FF21086B		add.f d15, d15, d8

#160						ST		torque_internal	{L:50}
(*) REAL
A00129F8  F000C001		mov.aa a15, a12
A00129FC  0000FF59		st.w [a15], d15

#161		
#162		$label15:
#163					(* END_IF *)
#164					JMP		$label11
(-) REAL
A0012A00  0252001D		j #0x000252 ; JUMP 0xA0012EA4

#165		$label3:
#166		
#167				(* ELSIF state=7) AND (vel<0.0 *)
#168				LD		vel	{L:52}
(*) UNDEF
A0012A04  800380BB		mov.u d8, #0x38
A0012A08  F600C801		addsc.a a15, a12, d8, #0
A0012A0C  0000FF19		ld.w d15, [a15]

#169				LT		0.0	{L:52}
(*) REAL
A0012A10  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0012A14  5000059B		addih d5, d5, #0x0000
A0012A18  F0015F4B		cmp.f d15, d15, d5
A0012A1C  F2001F8B		eq d15, d15, #1

#170				AND(		state	{L:52}
(*) BOOL
A0012A20  F53CAF89		st.w [-sp]4, d15 
A0012A24  800040BB		mov.u d8, #0x4
A0012A28  F600C801		addsc.a a15, a12, d8, #0
A0012A2C  0800FF09		ld.b d15, [a15]

#171				EQ		7	{L:52}
(*) SINT
A0012A30  8000703B		mov d8, #7
A0012A34  F1008F0B		eq d15, d15, d8

#172				)	{L:52}
(*) BOOL
A0012A38  01F0F00B		mov d0, d15
A0012A3C  0104AF09		ld.w d15, [sp+]4
A0012A40  F0800F0F		and d15, d15, d0

#173				JMPCN	$label4	{L:52}
(-) BOOL
A0012A44  00140FDF		jeq d15, #0, #0x0014 ; JUMP 0xA0012A6C

#174		
#175				(* THEN *)
#176		
#177					(* torque_internal:=0.0; *)
#178					LD		0.0	{L:53}
(*) UNDEF
A0012A48  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0012A4C  F0000F9B		addih d15, d15, #0x0000

#179					ST		torque_internal	{L:53}
(*) REAL
A0012A50  F000C001		mov.aa a15, a12
A0012A54  0000FF59		st.w [a15], d15

#180		
#181					(* state:=8; *)
#182					LD		8	{L:54}
(*) UNDEF
A0012A58  F000803B		mov d15, #8

#183					ST		state	{L:54}
(*) USINT
A0012A5C  800040BB		mov.u d8, #0x4
A0012A60  F600C801		addsc.a a15, a12, d8, #0
A0012A64  0800FF89		st.b [a15], d15

#184					JMP		$label11
(-) SINT
A0012A68  021E001D		j #0x00021E ; JUMP 0xA0012EA4

#185		$label4:
#186		
#187				(* ELSIF state=6) AND (vel>0.0 *)
#188				LD		vel	{L:55}
(*) UNDEF
A0012A6C  800380BB		mov.u d8, #0x38
A0012A70  F600C801		addsc.a a15, a12, d8, #0
A0012A74  0000FF19		ld.w d15, [a15]

#189				GT		0.0	{L:55}
(*) REAL
A0012A78  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0012A7C  5000059B		addih d5, d5, #0x0000
A0012A80  F0015F4B		cmp.f d15, d15, d5
A0012A84  F2004F8B		eq d15, d15, #4

#190				AND(		state	{L:55}
(*) BOOL
A0012A88  F53CAF89		st.w [-sp]4, d15 
A0012A8C  800040BB		mov.u d8, #0x4
A0012A90  F600C801		addsc.a a15, a12, d8, #0
A0012A94  0800FF09		ld.b d15, [a15]

#191				EQ		6	{L:55}
(*) SINT
A0012A98  8000603B		mov d8, #6
A0012A9C  F1008F0B		eq d15, d15, d8

#192				)	{L:55}
(*) BOOL
A0012AA0  01F0F00B		mov d0, d15
A0012AA4  0104AF09		ld.w d15, [sp+]4
A0012AA8  F0800F0F		and d15, d15, d0

#193				JMPCN	$label5	{L:55}
(-) BOOL
A0012AAC  00140FDF		jeq d15, #0, #0x0014 ; JUMP 0xA0012AD4

#194		
#195				(* THEN *)
#196		
#197					(* torque_internal:=0.0; *)
#198					LD		0.0	{L:56}
(*) UNDEF
A0012AB0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0012AB4  F0000F9B		addih d15, d15, #0x0000

#199					ST		torque_internal	{L:56}
(*) REAL
A0012AB8  F000C001		mov.aa a15, a12
A0012ABC  0000FF59		st.w [a15], d15

#200		
#201					(* state:=8; *)
#202					LD		8	{L:57}
(*) UNDEF
A0012AC0  F000803B		mov d15, #8

#203					ST		state	{L:57}
(*) USINT
A0012AC4  800040BB		mov.u d8, #0x4
A0012AC8  F600C801		addsc.a a15, a12, d8, #0
A0012ACC  0800FF89		st.b [a15], d15

#204					JMP		$label11
(-) SINT
A0012AD0  01EA001D		j #0x0001EA ; JUMP 0xA0012EA4

#205		$label5:
#206		
#207				(* ELSIF state=0) AND (pos<pos_mean *)
#208				LD		pos	{L:58}
(*) UNDEF
A0012AD4  8003C0BB		mov.u d8, #0x3C
A0012AD8  F600C801		addsc.a a15, a12, d8, #0
A0012ADC  0000FF19		ld.w d15, [a15]

#209				LT		pos_mean	{L:58}
(*) REAL
A0012AE0  800300BB		mov.u d8, #0x30
A0012AE4  F600C801		addsc.a a15, a12, d8, #0
A0012AE8  0000F519		ld.w d5, [a15]
A0012AEC  F0015F4B		cmp.f d15, d15, d5
A0012AF0  F2001F8B		eq d15, d15, #1

#210				AND(		state	{L:58}
(*) BOOL
A0012AF4  F53CAF89		st.w [-sp]4, d15 
A0012AF8  800040BB		mov.u d8, #0x4
A0012AFC  F600C801		addsc.a a15, a12, d8, #0
A0012B00  0800FF09		ld.b d15, [a15]

#211				EQ		0	{L:58}
(*) SINT
A0012B04  8000003B		mov d8, #0
A0012B08  F1008F0B		eq d15, d15, d8

#212				)	{L:58}
(*) BOOL
A0012B0C  01F0F00B		mov d0, d15
A0012B10  0104AF09		ld.w d15, [sp+]4
A0012B14  F0800F0F		and d15, d15, d0

#213				JMPCN	$label6	{L:58}
(-) BOOL
A0012B18  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0012B30

#214		
#215				(* THEN *)
#216		
#217					(* state:=3; *)
#218					LD		3	{L:59}
(*) UNDEF
A0012B1C  F000303B		mov d15, #3

#219					ST		state	{L:59}
(*) USINT
A0012B20  800040BB		mov.u d8, #0x4
A0012B24  F600C801		addsc.a a15, a12, d8, #0
A0012B28  0800FF89		st.b [a15], d15

#220					JMP		$label11
(-) SINT
A0012B2C  01BC001D		j #0x0001BC ; JUMP 0xA0012EA4

#221		$label6:
#222		
#223				(* ELSIF state=1) AND (pos>pos_mean *)
#224				LD		pos	{L:60}
(*) UNDEF
A0012B30  8003C0BB		mov.u d8, #0x3C
A0012B34  F600C801		addsc.a a15, a12, d8, #0
A0012B38  0000FF19		ld.w d15, [a15]

#225				GT		pos_mean	{L:60}
(*) REAL
A0012B3C  800300BB		mov.u d8, #0x30
A0012B40  F600C801		addsc.a a15, a12, d8, #0
A0012B44  0000F519		ld.w d5, [a15]
A0012B48  F0015F4B		cmp.f d15, d15, d5
A0012B4C  F2004F8B		eq d15, d15, #4

#226				AND(		state	{L:60}
(*) BOOL
A0012B50  F53CAF89		st.w [-sp]4, d15 
A0012B54  800040BB		mov.u d8, #0x4
A0012B58  F600C801		addsc.a a15, a12, d8, #0
A0012B5C  0800FF09		ld.b d15, [a15]

#227				EQ		1	{L:60}
(*) SINT
A0012B60  8000103B		mov d8, #1
A0012B64  F1008F0B		eq d15, d15, d8

#228				)	{L:60}
(*) BOOL
A0012B68  01F0F00B		mov d0, d15
A0012B6C  0104AF09		ld.w d15, [sp+]4
A0012B70  F0800F0F		and d15, d15, d0

#229				JMPCN	$label7	{L:60}
(-) BOOL
A0012B74  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0012B8C

#230		
#231				(* THEN *)
#232		
#233					(* state:=2; *)
#234					LD		2	{L:61}
(*) UNDEF
A0012B78  F000203B		mov d15, #2

#235					ST		state	{L:61}
(*) USINT
A0012B7C  800040BB		mov.u d8, #0x4
A0012B80  F600C801		addsc.a a15, a12, d8, #0
A0012B84  0800FF89		st.b [a15], d15

#236					JMP		$label11
(-) SINT
A0012B88  018E001D		j #0x00018E ; JUMP 0xA0012EA4

#237		$label7:
#238		
#239				(* ELSIF state=2) AND (pos>pos_threshold)) OR (vel>maxVEL*vel_percentage *)
#240				LD		vel	{L:62}
(*) UNDEF
A0012B8C  800380BB		mov.u d8, #0x38
A0012B90  F600C801		addsc.a a15, a12, d8, #0
A0012B94  0000FF19		ld.w d15, [a15]

#241				GT(		maxVEL	{L:62}
(*) REAL
A0012B98  F53CAF89		st.w [-sp]4, d15 
A0012B9C  800480BB		mov.u d8, #0x48
A0012BA0  F600C801		addsc.a a15, a12, d8, #0
A0012BA4  0000FF19		ld.w d15, [a15]

#242				MUL		vel_percentage	{L:62}
(*) REAL
A0012BA8  8002C0BB		mov.u d8, #0x2C
A0012BAC  F600C801		addsc.a a15, a12, d8, #0
A0012BB0  0000F819		ld.w d8, [a15]
A0012BB4  F0418F4B		mul.f d15, d15, d8

#243				)	{L:62}
(*) REAL
A0012BB8  01F0F00B		mov d0, d15
A0012BBC  0104AF09		ld.w d15, [sp+]4
A0012BC0  51F0000B		mov d5, d0
A0012BC4  F0015F4B		cmp.f d15, d15, d5
A0012BC8  F2004F8B		eq d15, d15, #4

#244				OR(		pos	{L:62}
(*) BOOL
A0012BCC  F53CAF89		st.w [-sp]4, d15 
A0012BD0  8003C0BB		mov.u d8, #0x3C
A0012BD4  F600C801		addsc.a a15, a12, d8, #0
A0012BD8  0000FF19		ld.w d15, [a15]

#245				GT		pos_threshold	{L:62}
(*) REAL
A0012BDC  800240BB		mov.u d8, #0x24
A0012BE0  F600C801		addsc.a a15, a12, d8, #0
A0012BE4  0000F519		ld.w d5, [a15]
A0012BE8  F0015F4B		cmp.f d15, d15, d5
A0012BEC  F2004F8B		eq d15, d15, #4

#246				AND(		state	{L:62}
(*) BOOL
A0012BF0  F53CAF89		st.w [-sp]4, d15 
A0012BF4  800040BB		mov.u d8, #0x4
A0012BF8  F600C801		addsc.a a15, a12, d8, #0
A0012BFC  0800FF09		ld.b d15, [a15]

#247				EQ		2	{L:62}
(*) SINT
A0012C00  8000203B		mov d8, #2
A0012C04  F1008F0B		eq d15, d15, d8

#248				)	{L:62}
(*) BOOL
A0012C08  01F0F00B		mov d0, d15
A0012C0C  0104AF09		ld.w d15, [sp+]4
A0012C10  F0800F0F		and d15, d15, d0

#249				)	{L:62}
(*) BOOL
A0012C14  01F0F00B		mov d0, d15
A0012C18  0104AF09		ld.w d15, [sp+]4
A0012C1C  F0A00F0F		or d15, d15, d0

#250				JMPCN	$label8	{L:62}
(-) BOOL
A0012C20  001C0FDF		jeq d15, #0, #0x001C ; JUMP 0xA0012C58

#251		
#252				(* THEN *)
#253		
#254					(* state:=4; *)
#255					LD		4	{L:63}
(*) UNDEF
A0012C24  F000403B		mov d15, #4

#256					ST		state	{L:63}
(*) USINT
A0012C28  800040BB		mov.u d8, #0x4
A0012C2C  F600C801		addsc.a a15, a12, d8, #0
A0012C30  0800FF89		st.b [a15], d15

#257		
#258					(* torque_internal:=-maxTRQ; *)
#259					LD		maxTRQ	{L:64}
(*) UNDEF
A0012C34  800440BB		mov.u d8, #0x44
A0012C38  F600C801		addsc.a a15, a12, d8, #0
A0012C3C  0000FF19		ld.w d15, [a15]

#260					MUL		-1	{L:64}
(*) REAL
A0012C40  8FFFF03B		mov d8, #-1
A0012C44  8141084B		itof d8, d8
A0012C48  F0418F4B		mul.f d15, d15, d8

#261					ST		torque_internal	{L:64}
(*) REAL
A0012C4C  F000C001		mov.aa a15, a12
A0012C50  0000FF59		st.w [a15], d15

#262					JMP		$label11
(-) REAL
A0012C54  0128001D		j #0x000128 ; JUMP 0xA0012EA4

#263		$label8:
#264		
#265				(* ELSIF state=3) AND (pos<neg_threshold)) OR (vel<minVEL*vel_percentage *)
#266				LD		vel	{L:65}
(*) UNDEF
A0012C58  800380BB		mov.u d8, #0x38
A0012C5C  F600C801		addsc.a a15, a12, d8, #0
A0012C60  0000FF19		ld.w d15, [a15]

#267				LT(		minVEL	{L:65}
(*) REAL
A0012C64  F53CAF89		st.w [-sp]4, d15 
A0012C68  800540BB		mov.u d8, #0x54
A0012C6C  F600C801		addsc.a a15, a12, d8, #0
A0012C70  0000FF19		ld.w d15, [a15]

#268				MUL		vel_percentage	{L:65}
(*) REAL
A0012C74  8002C0BB		mov.u d8, #0x2C
A0012C78  F600C801		addsc.a a15, a12, d8, #0
A0012C7C  0000F819		ld.w d8, [a15]
A0012C80  F0418F4B		mul.f d15, d15, d8

#269				)	{L:65}
(*) REAL
A0012C84  01F0F00B		mov d0, d15
A0012C88  0104AF09		ld.w d15, [sp+]4
A0012C8C  51F0000B		mov d5, d0
A0012C90  F0015F4B		cmp.f d15, d15, d5
A0012C94  F2001F8B		eq d15, d15, #1

#270				OR(		pos	{L:65}
(*) BOOL
A0012C98  F53CAF89		st.w [-sp]4, d15 
A0012C9C  8003C0BB		mov.u d8, #0x3C
A0012CA0  F600C801		addsc.a a15, a12, d8, #0
A0012CA4  0000FF19		ld.w d15, [a15]

#271				LT		neg_threshold	{L:65}
(*) REAL
A0012CA8  800280BB		mov.u d8, #0x28
A0012CAC  F600C801		addsc.a a15, a12, d8, #0
A0012CB0  0000F519		ld.w d5, [a15]
A0012CB4  F0015F4B		cmp.f d15, d15, d5
A0012CB8  F2001F8B		eq d15, d15, #1

#272				AND(		state	{L:65}
(*) BOOL
A0012CBC  F53CAF89		st.w [-sp]4, d15 
A0012CC0  800040BB		mov.u d8, #0x4
A0012CC4  F600C801		addsc.a a15, a12, d8, #0
A0012CC8  0800FF09		ld.b d15, [a15]

#273				EQ		3	{L:65}
(*) SINT
A0012CCC  8000303B		mov d8, #3
A0012CD0  F1008F0B		eq d15, d15, d8

#274				)	{L:65}
(*) BOOL
A0012CD4  01F0F00B		mov d0, d15
A0012CD8  0104AF09		ld.w d15, [sp+]4
A0012CDC  F0800F0F		and d15, d15, d0

#275				)	{L:65}
(*) BOOL
A0012CE0  01F0F00B		mov d0, d15
A0012CE4  0104AF09		ld.w d15, [sp+]4
A0012CE8  F0A00F0F		or d15, d15, d0

#276				JMPCN	$label9	{L:65}
(-) BOOL
A0012CEC  00160FDF		jeq d15, #0, #0x0016 ; JUMP 0xA0012D18

#277		
#278				(* THEN *)
#279		
#280					(* state:=5; *)
#281					LD		5	{L:66}
(*) UNDEF
A0012CF0  F000503B		mov d15, #5

#282					ST		state	{L:66}
(*) USINT
A0012CF4  800040BB		mov.u d8, #0x4
A0012CF8  F600C801		addsc.a a15, a12, d8, #0
A0012CFC  0800FF89		st.b [a15], d15

#283		
#284					(* torque_internal:=maxTRQ; *)
#285					LD		maxTRQ	{L:67}
(*) UNDEF
A0012D00  800440BB		mov.u d8, #0x44
A0012D04  F600C801		addsc.a a15, a12, d8, #0
A0012D08  0000FF19		ld.w d15, [a15]

#286					ST		torque_internal	{L:67}
(*) REAL
A0012D0C  F000C001		mov.aa a15, a12
A0012D10  0000FF59		st.w [a15], d15

#287					JMP		$label11
(-) REAL
A0012D14  00C8001D		j #0x0000C8 ; JUMP 0xA0012EA4

#288		$label9:
#289		
#290				(* ELSIF state=4) AND (vel<0.0 *)
#291				LD		vel	{L:68}
(*) UNDEF
A0012D18  800380BB		mov.u d8, #0x38
A0012D1C  F600C801		addsc.a a15, a12, d8, #0
A0012D20  0000FF19		ld.w d15, [a15]

#292				LT		0.0	{L:68}
(*) REAL
A0012D24  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0012D28  5000059B		addih d5, d5, #0x0000
A0012D2C  F0015F4B		cmp.f d15, d15, d5
A0012D30  F2001F8B		eq d15, d15, #1

#293				AND(		state	{L:68}
(*) BOOL
A0012D34  F53CAF89		st.w [-sp]4, d15 
A0012D38  800040BB		mov.u d8, #0x4
A0012D3C  F600C801		addsc.a a15, a12, d8, #0
A0012D40  0800FF09		ld.b d15, [a15]

#294				EQ		4	{L:68}
(*) SINT
A0012D44  8000403B		mov d8, #4
A0012D48  F1008F0B		eq d15, d15, d8

#295				)	{L:68}
(*) BOOL
A0012D4C  01F0F00B		mov d0, d15
A0012D50  0104AF09		ld.w d15, [sp+]4
A0012D54  F0800F0F		and d15, d15, d0

#296				JMPCN	$label10	{L:68}
(-) BOOL
A0012D58  00480FDF		jeq d15, #0, #0x0048 ; JUMP 0xA0012DE8

#297		
#298				(* THEN *)
#299		
#300					(* state:=3; *)
#301					LD		3	{L:69}
(*) UNDEF
A0012D5C  F000303B		mov d15, #3

#302					ST		state	{L:69}
(*) USINT
A0012D60  800040BB		mov.u d8, #0x4
A0012D64  F600C801		addsc.a a15, a12, d8, #0
A0012D68  0800FF89		st.b [a15], d15

#303		
#304					(* torque:= -(staticFriction+(maxTRQ-staticFriction)*(0.2+0.5*rand.rnd)); *)
#305					LD		0.5	{L:70}
(*) UNDEF
A0012D6C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.500000
A0012D70  F3F00F9B		addih d15, d15, #0x3F00

#306					MUL		rand.rnd	{L:70}
(*) REAL
A0012D74  8001C0BB		mov.u d8, #0x1C
A0012D78  F600C801		addsc.a a15, a12, d8, #0
A0012D7C  0000F819		ld.w d8, [a15]
A0012D80  F0418F4B		mul.f d15, d15, d8

#307					ADD		0.2	{L:70}
(*) REAL
A0012D84  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.200000
A0012D88  83E4C89B		addih d8, d8, #0x3E4C
A0012D8C  FF21086B		add.f d15, d15, d8

#308					MUL(		maxTRQ	{L:70}
(*) REAL
A0012D90  F53CAF89		st.w [-sp]4, d15 
A0012D94  800440BB		mov.u d8, #0x44
A0012D98  F600C801		addsc.a a15, a12, d8, #0
A0012D9C  0000FF19		ld.w d15, [a15]

#309					SUB		staticFriction	{L:70}
(*) REAL
A0012DA0  8005C0BB		mov.u d8, #0x5C
A0012DA4  F600C801		addsc.a a15, a12, d8, #0
A0012DA8  0000F819		ld.w d8, [a15]
A0012DAC  FF31086B		sub.f d15, d15, d8

#310					)	{L:70}
(*) REAL
A0012DB0  01F0F00B		mov d0, d15
A0012DB4  0104AF09		ld.w d15, [sp+]4
A0012DB8  F0410F4B		mul.f d15, d15, d0

#311					ADD		staticFriction	{L:70}
(*) REAL
A0012DBC  8005C0BB		mov.u d8, #0x5C
A0012DC0  F600C801		addsc.a a15, a12, d8, #0
A0012DC4  0000F819		ld.w d8, [a15]
A0012DC8  FF21086B		add.f d15, d15, d8

#312					MUL		-1	{L:70}
(*) REAL
A0012DCC  8FFFF03B		mov d8, #-1
A0012DD0  8141084B		itof d8, d8
A0012DD4  F0418F4B		mul.f d15, d15, d8

#313					ST		torque	{L:70}
(*) REAL
A0012DD8  800600BB		mov.u d8, #0x60
A0012DDC  F600C801		addsc.a a15, a12, d8, #0
A0012DE0  0000FF59		st.w [a15], d15

#314					JMP		$label11
(-) REAL
A0012DE4  0060001D		j #0x000060 ; JUMP 0xA0012EA4

#315		$label10:
#316		
#317				(* ELSIF state=5) AND (vel>0.0 *)
#318				LD		vel	{L:71}
(*) UNDEF
A0012DE8  800380BB		mov.u d8, #0x38
A0012DEC  F600C801		addsc.a a15, a12, d8, #0
A0012DF0  0000FF19		ld.w d15, [a15]

#319				GT		0.0	{L:71}
(*) REAL
A0012DF4  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0012DF8  5000059B		addih d5, d5, #0x0000
A0012DFC  F0015F4B		cmp.f d15, d15, d5
A0012E00  F2004F8B		eq d15, d15, #4

#320				AND(		state	{L:71}
(*) BOOL
A0012E04  F53CAF89		st.w [-sp]4, d15 
A0012E08  800040BB		mov.u d8, #0x4
A0012E0C  F600C801		addsc.a a15, a12, d8, #0
A0012E10  0800FF09		ld.b d15, [a15]

#321				EQ		5	{L:71}
(*) SINT
A0012E14  8000503B		mov d8, #5
A0012E18  F1008F0B		eq d15, d15, d8

#322				)	{L:71}
(*) BOOL
A0012E1C  01F0F00B		mov d0, d15
A0012E20  0104AF09		ld.w d15, [sp+]4
A0012E24  F0800F0F		and d15, d15, d0

#323				JMPCN	$label11	{L:71}
(-) BOOL
A0012E28  003E0FDF		jeq d15, #0, #0x003E ; JUMP 0xA0012EA4

#324		
#325				(* THEN *)
#326		
#327					(* state:=2; *)
#328					LD		2	{L:72}
(*) UNDEF
A0012E2C  F000203B		mov d15, #2

#329					ST		state	{L:72}
(*) USINT
A0012E30  800040BB		mov.u d8, #0x4
A0012E34  F600C801		addsc.a a15, a12, d8, #0
A0012E38  0800FF89		st.b [a15], d15

#330		
#331					(* torque_internal:=  (staticFriction+(maxTRQ-staticFriction)*(0.2+0.5*rand.rnd)); *)
#332					LD		0.5	{L:73}
(*) UNDEF
A0012E3C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.500000
A0012E40  F3F00F9B		addih d15, d15, #0x3F00

#333					MUL		rand.rnd	{L:73}
(*) REAL
A0012E44  8001C0BB		mov.u d8, #0x1C
A0012E48  F600C801		addsc.a a15, a12, d8, #0
A0012E4C  0000F819		ld.w d8, [a15]
A0012E50  F0418F4B		mul.f d15, d15, d8

#334					ADD		0.2	{L:73}
(*) REAL
A0012E54  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.200000
A0012E58  83E4C89B		addih d8, d8, #0x3E4C
A0012E5C  FF21086B		add.f d15, d15, d8

#335					MUL(		maxTRQ	{L:73}
(*) REAL
A0012E60  F53CAF89		st.w [-sp]4, d15 
A0012E64  800440BB		mov.u d8, #0x44
A0012E68  F600C801		addsc.a a15, a12, d8, #0
A0012E6C  0000FF19		ld.w d15, [a15]

#336					SUB		staticFriction	{L:73}
(*) REAL
A0012E70  8005C0BB		mov.u d8, #0x5C
A0012E74  F600C801		addsc.a a15, a12, d8, #0
A0012E78  0000F819		ld.w d8, [a15]
A0012E7C  FF31086B		sub.f d15, d15, d8

#337					)	{L:73}
(*) REAL
A0012E80  01F0F00B		mov d0, d15
A0012E84  0104AF09		ld.w d15, [sp+]4
A0012E88  F0410F4B		mul.f d15, d15, d0

#338					ADD		staticFriction	{L:73}
(*) REAL
A0012E8C  8005C0BB		mov.u d8, #0x5C
A0012E90  F600C801		addsc.a a15, a12, d8, #0
A0012E94  0000F819		ld.w d8, [a15]
A0012E98  FF21086B		add.f d15, d15, d8

#339					ST		torque_internal	{L:73}
(*) REAL
A0012E9C  F000C001		mov.aa a15, a12
A0012EA0  0000FF59		st.w [a15], d15

#340		
#341		$label11:
#342				(* END_IF *)
#343		
#344		
#345				(* IF state=8 *)
#346				LD		state	{L:76}
(*) UNDEF
A0012EA4  800040BB		mov.u d8, #0x4
A0012EA8  F600C801		addsc.a a15, a12, d8, #0
A0012EAC  0800FF09		ld.b d15, [a15]

#347				EQ		8	{L:76}
(*) SINT
A0012EB0  8000803B		mov d8, #8
A0012EB4  F1008F0B		eq d15, d15, d8

#348				JMPCN	$label16	{L:76}
(-) BOOL
A0012EB8  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0012ED0

#349		
#350				(* THEN *)
#351		
#352					(* STOPPED:=TRUE; *)
#353					LD		TRUE	{L:77}
(*) UNDEF
A0012EBC  F000103B		mov d15, #1

#354					ST		STOPPED	{L:77}
(*) BOOL
A0012EC0  800640BB		mov.u d8, #0x64
A0012EC4  F600C801		addsc.a a15, a12, d8, #0
A0012EC8  0000FF59		st.w [a15], d15

#355					JMP		$label17
(-) BOOL
A0012ECC  000A001D		j #0x00000A ; JUMP 0xA0012EE0

#356		$label16:
#357		
#358				(* ELSE *)
#359		
#360					(* STOPPED:=FALSE; *)
#361					LD		FALSE	{L:79}
(*) UNDEF
A0012ED0  F000003B		mov d15, #0

#362					ST		STOPPED	{L:79}
(*) BOOL
A0012ED4  800640BB		mov.u d8, #0x64
A0012ED8  F600C801		addsc.a a15, a12, d8, #0
A0012EDC  0000FF59		st.w [a15], d15

#363		
#364		$label17:
#365				(* END_IF *)
#366		
#367				(* torque:=torque_internal; *)
#368				LD		torque_internal	{L:81}
(*) UNDEF
A0012EE0  F000C001		mov.aa a15, a12
A0012EE4  0000FF19		ld.w d15, [a15]

#369				ST		torque	{L:81}
(*) REAL
A0012EE8  800600BB		mov.u d8, #0x60
A0012EEC  F600C801		addsc.a a15, a12, d8, #0
A0012EF0  0000FF59		st.w [a15], d15

A0012EF4  0180000D		ret


Frame allocation:

	0038       : VAR vel
	003C       : VAR pos
	0040 bit  0: VAR fbInit
	0044       : VAR maxTRQ
	0048       : VAR maxVEL
	004C       : VAR maxPOS
	0050       : VAR minPOS
	0054       : VAR minVEL
	0058 bit  0: VAR STOP
	005C       : VAR staticFriction
	0060       : VAR torque
	0064 bit  0: VAR STOPPED
	0000       : VAR torque_internal
	0004       : VAR state
	0008       : FB  rand
	0020 bit  0: VAR STOPPING
	0024       : VAR pos_threshold
	0028       : VAR neg_threshold
	002C       : VAR vel_percentage
	0030       : VAR pos_mean
	0034       : VAR hysteresis

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_AutotuningManager
**************************************************

FUNCTION_BLOCK fb_AutotuningManager

	VAR_INPUT
	fbInit : BOOL; 
	ENABLE : BOOL; 
	Speed : REAL; 
	Position : REAL; 
	maxTrq : REAL; 
	maxVel : REAL; 
	maxPos : REAL; 
	Ts : REAL; 
	Time_identification : REAL; 
	phi_m_v : REAL; 
	phi_m_p : REAL; 
	PARAMETERS_UPDATED : BOOL; 
	Torque_ref : REAL; 
	minPos : REAL; 
	minVel : REAL; 
	MaxWc : REAL; 
	MinWc : REAL; 
	low_vel_thr : REAL; 
	END_VAR

	VAR_OUTPUT
	END : BOOL; 
	Torque : REAL; 
	staticFriction : REAL; 
	state : USINT; 
	noiseLevel : REAL; 
	Kp_v : REAL; 
	Kp_p : REAL; 
	Ti_v : REAL; 
	Ti_p : REAL; 
	Vel_SP : REAL; 
	UPDATE_PARAMETERS : BOOL; 
	Jm : REAL; 
	TUNE_LOW_VEL : BOOL; 
	Kp_high_vel_perc : INT; 
	Ti_high_vel_perc : INT; 
	END_VAR

	VAR_EXTERNAL
	pOscillationTollerance : REAL; 
	vCalcKpSp : REAL; 
	vCalcTiSp : REAL; 
	vEstBandwidth : REAL; 
	vEstDynFrict : REAL; 
	vEstInertia : REAL; 
	vEstStatFrict : REAL; 
	END_VAR

	VAR
	FLAG_LIMITS : BOOL; 
	TUNED : BOOL; 
	NO_OF_TRIAL : UINT := 10; 
	Wc_counter : UINT; 
	aux : REAL; 
	Bm : REAL; 
	Pos_SP : REAL; 
	PosPreTial : REAL; 
	Time : REAL; 
	rise_time : REAL; 
	Time_HIGH_VEL : REAL; 
	tmpF : REAL; 
	TrialTime : REAL; 
	VARIANCE_THRESHOLD : REAL; 
	Wc_act : REAL; 
	Wc_high : REAL; 
	Wc_low : REAL; 
	Wc_pos : REAL; 
	Wc_Step : REAL; 
	NoiseLevelID : fb_NoiseLevelID; 
	NoiseLevelID_Trj : fb_NoiseLevelID_Trj; 
	RAND : fb_Random; 
	StaticFrictionID : fb_StaticFrictionID_OL; 
	StaticFrictionID_Trj : fb_StaticFrictionID_OL_Trj; 
	OL_trj_generator : fb_InertiaEstim_trj; 
	fb_RLS : RLS_senzaKf; 
	fb_Tune_PID : Tune_PID; 
	fb_VARIANCE : VARIANCE; 
	Wc_low_speed : REAL; 
	Wc_high_speed : REAL; 
	state_before_error : USINT; 
	estimation_trials : INT; 
	friction_trial : REAL; 
	END_VAR

A0012EF8  C0004001		mov.aa a12, a4

#0		{SRC:fb_AutotuningManager}
#1		
#2		
#3			(* IF fbInit *)
#4			LD		fbInit	{L:1}
(*) UNDEF
A0012EFC  802EC0BB		mov.u d8, #0x2EC
A0012F00  F600C801		addsc.a a15, a12, d8, #0
A0012F04  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A0012F08  028E0FDF		jeq d15, #0, #0x028E ; JUMP 0xA0013424

#6		
#7			(* THEN *)
#8		
#9				(* noiseLevel := 0.0; *)
#10				LD		0.0	{L:2}
(*) UNDEF
A0012F0C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0012F10  F0000F9B		addih d15, d15, #0x0000

#11				ST		noiseLevel	{L:2}
(*) REAL
A0012F14  803440BB		mov.u d8, #0x344
A0012F18  F600C801		addsc.a a15, a12, d8, #0
A0012F1C  0000FF59		st.w [a15], d15

#12		
#13				(* END		   := FALSE; *)
#14				LD		FALSE	{L:3}
(*) UNDEF
A0012F20  F000003B		mov d15, #0

#15				ST		END	{L:3}
(*) BOOL
A0012F24  803340BB		mov.u d8, #0x334
A0012F28  F600C801		addsc.a a15, a12, d8, #0
A0012F2C  0000FF59		st.w [a15], d15

#16		
#17				(* Time:=0.0; *)
#18				LD		0.0	{L:5}
(*) UNDEF
A0012F30  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0012F34  F0000F9B		addih d15, d15, #0x0000

#19				ST		Time	{L:5}
(*) REAL
A0012F38  8001C0BB		mov.u d8, #0x1C
A0012F3C  F600C801		addsc.a a15, a12, d8, #0
A0012F40  0000FF59		st.w [a15], d15

#20		
#21				(* state := 0; *)
#22				LD		0	{L:6}
(*) UNDEF
A0012F44  F000003B		mov d15, #0

#23				ST		state	{L:6}
(*) USINT
A0012F48  803400BB		mov.u d8, #0x340
A0012F4C  F600C801		addsc.a a15, a12, d8, #0
A0012F50  0800FF89		st.b [a15], d15

#24		
#25				(* NoiseLevelID_Trj.fbInit := TRUE; *)
#26				LD		TRUE	{L:9}
(*) UNDEF
A0012F54  F000103B		mov d15, #1

#27				ST		NoiseLevelID_Trj.fbInit	{L:9}
(*) BOOL
A0012F58  800680BB		mov.u d8, #0x68
A0012F5C  F600C801		addsc.a a15, a12, d8, #0
A0012F60  0000FF59		st.w [a15], d15

#28		
#29				(* NoiseLevelID_Trj() *)
#30				CAL		NoiseLevelID_Trj	{L:10}
(*) BOOL
A0012F64  F53CAF89		st.w [-sp]4, d15 
A0012F68  4000C001		mov.aa a4, a12
A0012F6C  800680BB		mov.u d8, #0x68 ; FB FRAME BASE 0x68
A0012F70  8000089B		addih d8, d8, #0x0
A0012F74  46004801		addsc.a a4, a4, d8, #0
A0012F78  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010F1C
A0012F7C  C0DCFFD9		lea a15,[a15]0x0F1C
A0012F80  0000000D		nop
A0012F84  00000F2D		calli a15
A0012F88  0104AF09		ld.w d15, [sp+]4

#31		
#32				(* NoiseLevelID_Trj.fbInit := FALSE; *)
#33				LD		FALSE	{L:11}
(*) UNDEF
A0012F8C  F000003B		mov d15, #0

#34				ST		NoiseLevelID_Trj.fbInit	{L:11}
(*) BOOL
A0012F90  800680BB		mov.u d8, #0x68
A0012F94  F600C801		addsc.a a15, a12, d8, #0
A0012F98  0000FF59		st.w [a15], d15

#35		
#36				(* NoiseLevelID_Trj.ENABLE := FALSE; *)
#37				LD		FALSE	{L:12}
(*) UNDEF
A0012F9C  F000003B		mov d15, #0

#38				ST		NoiseLevelID_Trj.ENABLE	{L:12}
(*) BOOL
A0012FA0  8006C0BB		mov.u d8, #0x6C
A0012FA4  F600C801		addsc.a a15, a12, d8, #0
A0012FA8  0000FF59		st.w [a15], d15

#39		
#40				(* NoiseLevelID_Trj.reference := 0.0; *)
#41				LD		0.0	{L:13}
(*) UNDEF
A0012FAC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0012FB0  F0000F9B		addih d15, d15, #0x0000

#42				ST		NoiseLevelID_Trj.reference	{L:13}
(*) REAL
A0012FB4  800700BB		mov.u d8, #0x70
A0012FB8  F600C801		addsc.a a15, a12, d8, #0
A0012FBC  0000FF59		st.w [a15], d15

#43		
#44				(* NoiseLevelID.fbInit := TRUE; *)
#45				LD		TRUE	{L:16}
(*) UNDEF
A0012FC0  F000103B		mov d15, #1

#46				ST		NoiseLevelID.fbInit	{L:16}
(*) BOOL
A0012FC4  8004C0BB		mov.u d8, #0x4C
A0012FC8  F600C801		addsc.a a15, a12, d8, #0
A0012FCC  0000FF59		st.w [a15], d15

#47		
#48				(* NoiseLevelID() *)
#49				CAL		NoiseLevelID	{L:17}
(*) BOOL
A0012FD0  F53CAF89		st.w [-sp]4, d15 
A0012FD4  4000C001		mov.aa a4, a12
A0012FD8  800480BB		mov.u d8, #0x48 ; FB FRAME BASE 0x48
A0012FDC  8000089B		addih d8, d8, #0x0
A0012FE0  46004801		addsc.a a4, a4, d8, #0
A0012FE4  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010DD0
A0012FE8  70D0FFD9		lea a15,[a15]0x0DD0
A0012FEC  0000000D		nop
A0012FF0  00000F2D		calli a15
A0012FF4  0104AF09		ld.w d15, [sp+]4

#50		
#51				(* NoiseLevelID.fbInit := FALSE; *)
#52				LD		FALSE	{L:18}
(*) UNDEF
A0012FF8  F000003B		mov d15, #0

#53				ST		NoiseLevelID.fbInit	{L:18}
(*) BOOL
A0012FFC  8004C0BB		mov.u d8, #0x4C
A0013000  F600C801		addsc.a a15, a12, d8, #0
A0013004  0000FF59		st.w [a15], d15

#54		
#55				(* NoiseLevelID.ENABLE := FALSE; *)
#56				LD		FALSE	{L:19}
(*) UNDEF
A0013008  F000003B		mov d15, #0

#57				ST		NoiseLevelID.ENABLE	{L:19}
(*) BOOL
A001300C  800580BB		mov.u d8, #0x58
A0013010  F600C801		addsc.a a15, a12, d8, #0
A0013014  0000FF59		st.w [a15], d15

#58		
#59				(* NoiseLevelID.timeID := 1.0; *)
#60				LD		1.0	{L:20}
(*) UNDEF
A0013018  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A001301C  F3F80F9B		addih d15, d15, #0x3F80

#61				ST		NoiseLevelID.timeID	{L:20}
(*) REAL
A0013020  800500BB		mov.u d8, #0x50
A0013024  F600C801		addsc.a a15, a12, d8, #0
A0013028  0000FF59		st.w [a15], d15

#62		
#63				(* NoiseLevelID.Ts     := 0.001; *)
#64				LD		0.001	{L:21}
(*) UNDEF
A001302C  F126F0BB		mov.u d15, #0x126F ; COSTREAL 0.001000
A0013030  F3A83F9B		addih d15, d15, #0x3A83

#65				ST		NoiseLevelID.Ts	{L:21}
(*) REAL
A0013034  8005C0BB		mov.u d8, #0x5C
A0013038  F600C801		addsc.a a15, a12, d8, #0
A001303C  0000FF59		st.w [a15], d15

#66		
#67				(* StaticFrictionID_Trj.fbInit := TRUE; *)
#68				LD		TRUE	{L:24}
(*) UNDEF
A0013040  F000103B		mov d15, #1

#69				ST		StaticFrictionID_Trj.fbInit	{L:24}
(*) BOOL
A0013044  800C40BB		mov.u d8, #0xC4
A0013048  F600C801		addsc.a a15, a12, d8, #0
A001304C  0000FF59		st.w [a15], d15

#70		
#71				(* StaticFrictionID_Trj() *)
#72				CAL		StaticFrictionID_Trj	{L:25}
(*) BOOL
A0013050  F53CAF89		st.w [-sp]4, d15 
A0013054  4000C001		mov.aa a4, a12
A0013058  800C00BB		mov.u d8, #0xC0 ; FB FRAME BASE 0xC0
A001305C  8000089B		addih d8, d8, #0x0
A0013060  46004801		addsc.a a4, a4, d8, #0
A0013064  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011108
A0013068  4108FFD9		lea a15,[a15]0x1108
A001306C  0000000D		nop
A0013070  00000F2D		calli a15
A0013074  0104AF09		ld.w d15, [sp+]4

#73		
#74				(* StaticFrictionID_Trj.fbInit := FALSE; *)
#75				LD		FALSE	{L:26}
(*) UNDEF
A0013078  F000003B		mov d15, #0

#76				ST		StaticFrictionID_Trj.fbInit	{L:26}
(*) BOOL
A001307C  800C40BB		mov.u d8, #0xC4
A0013080  F600C801		addsc.a a15, a12, d8, #0
A0013084  0000FF59		st.w [a15], d15

#77		
#78				(* StaticFrictionID_Trj.ENABLE := FALSE; *)
#79				LD		FALSE	{L:27}
(*) UNDEF
A0013088  F000003B		mov d15, #0

#80				ST		StaticFrictionID_Trj.ENABLE	{L:27}
(*) BOOL
A001308C  800D00BB		mov.u d8, #0xD0
A0013090  F600C801		addsc.a a15, a12, d8, #0
A0013094  0000FF59		st.w [a15], d15

#81		
#82				(* StaticFrictionID_Trj.maxTrq := maxTrq; *)
#83				LD		maxTrq	{L:28}
(*) UNDEF
A0013098  802FC0BB		mov.u d8, #0x2FC
A001309C  F600C801		addsc.a a15, a12, d8, #0
A00130A0  0000FF19		ld.w d15, [a15]

#84				ST		StaticFrictionID_Trj.maxTrq	{L:28}
(*) REAL
A00130A4  800C80BB		mov.u d8, #0xC8
A00130A8  F600C801		addsc.a a15, a12, d8, #0
A00130AC  0000FF59		st.w [a15], d15

#85		
#86				(* StaticFrictionID_Trj.TrqResolution := maxTrq/100000.0; *)
#87				LD		maxTrq	{L:29}
(*) UNDEF
A00130B0  802FC0BB		mov.u d8, #0x2FC
A00130B4  F600C801		addsc.a a15, a12, d8, #0
A00130B8  0000FF19		ld.w d15, [a15]

#88				DIV		100000.0	{L:29}
(*) REAL
A00130BC  850000BB		mov.u d8, #0x5000 ; COSTREAL 100000.000000
A00130C0  847C389B		addih d8, d8, #0x47C3
A00130C4  F0518F4B		div.f d15, d15, d8

#89				ST		StaticFrictionID_Trj.TrqResolution	{L:29}
(*) REAL
A00130C8  800CC0BB		mov.u d8, #0xCC
A00130CC  F600C801		addsc.a a15, a12, d8, #0
A00130D0  0000FF59		st.w [a15], d15

#90		
#91				(* StaticFrictionID.fbInit := TRUE; *)
#92				LD		TRUE	{L:32}
(*) UNDEF
A00130D4  F000103B		mov d15, #1

#93				ST		StaticFrictionID.fbInit	{L:32}
(*) BOOL
A00130D8  800A00BB		mov.u d8, #0xA0
A00130DC  F600C801		addsc.a a15, a12, d8, #0
A00130E0  0000FF59		st.w [a15], d15

#94		
#95				(* StaticFrictionID() *)
#96				CAL		StaticFrictionID	{L:33}
(*) BOOL
A00130E4  F53CAF89		st.w [-sp]4, d15 
A00130E8  4000C001		mov.aa a4, a12
A00130EC  800900BB		mov.u d8, #0x90 ; FB FRAME BASE 0x90
A00130F0  8000089B		addih d8, d8, #0x0
A00130F4  46004801		addsc.a a4, a4, d8, #0
A00130F8  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010F88
A00130FC  E0C8FFD9		lea a15,[a15]0x0F88
A0013100  0000000D		nop
A0013104  00000F2D		calli a15
A0013108  0104AF09		ld.w d15, [sp+]4

#97		
#98				(* StaticFrictionID.fbInit := FALSE; *)
#99				LD		FALSE	{L:34}
(*) UNDEF
A001310C  F000003B		mov d15, #0

#100				ST		StaticFrictionID.fbInit	{L:34}
(*) BOOL
A0013110  800A00BB		mov.u d8, #0xA0
A0013114  F600C801		addsc.a a15, a12, d8, #0
A0013118  0000FF59		st.w [a15], d15

#101		
#102				(* StaticFrictionID.ENABLE := FALSE; *)
#103				LD		FALSE	{L:35}
(*) UNDEF
A001311C  F000003B		mov d15, #0

#104				ST		StaticFrictionID.ENABLE	{L:35}
(*) BOOL
A0013120  800AC0BB		mov.u d8, #0xAC
A0013124  F600C801		addsc.a a15, a12, d8, #0
A0013128  0000FF59		st.w [a15], d15

#105		
#106				(* StaticFrictionID.Threshold := 5.0; *)
#107				LD		5.0	{L:36}
(*) UNDEF
A001312C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 5.000000
A0013130  F40A0F9B		addih d15, d15, #0x40A0

#108				ST		StaticFrictionID.Threshold	{L:36}
(*) REAL
A0013134  800B00BB		mov.u d8, #0xB0
A0013138  F600C801		addsc.a a15, a12, d8, #0
A001313C  0000FF59		st.w [a15], d15

#109		
#110				(* Time_identification:=7.0; *)
#111				LD		7.0	{L:38}
(*) UNDEF
A0013140  F00000BB		mov.u d15, #0x0000 ; COSTREAL 7.000000
A0013144  F40E0F9B		addih d15, d15, #0x40E0

#112				ST		Time_identification	{L:38}
(*) REAL
A0013148  8030C0BB		mov.u d8, #0x30C
A001314C  F600C801		addsc.a a15, a12, d8, #0
A0013150  0000FF59		st.w [a15], d15

#113		
#114				(* OL_trj_generator.maxTRQ:= maxTrq; *)
#115				LD		maxTrq	{L:42}
(*) UNDEF
A0013154  802FC0BB		mov.u d8, #0x2FC
A0013158  F600C801		addsc.a a15, a12, d8, #0
A001315C  0000FF19		ld.w d15, [a15]

#116				ST		OL_trj_generator.maxTRQ	{L:42}
(*) REAL
A0013160  801280BB		mov.u d8, #0x128
A0013164  F600C801		addsc.a a15, a12, d8, #0
A0013168  0000FF59		st.w [a15], d15

#117		
#118				(* OL_trj_generator.maxVEL:= maxVel; *)
#119				LD		maxVel	{L:43}
(*) UNDEF
A001316C  803000BB		mov.u d8, #0x300
A0013170  F600C801		addsc.a a15, a12, d8, #0
A0013174  0000FF19		ld.w d15, [a15]

#120				ST		OL_trj_generator.maxVEL	{L:43}
(*) REAL
A0013178  8012C0BB		mov.u d8, #0x12C
A001317C  F600C801		addsc.a a15, a12, d8, #0
A0013180  0000FF59		st.w [a15], d15

#121		
#122				(* OL_trj_generator.maxPOS:= maxPos; *)
#123				LD		maxPos	{L:44}
(*) UNDEF
A0013184  803040BB		mov.u d8, #0x304
A0013188  F600C801		addsc.a a15, a12, d8, #0
A001318C  0000FF19		ld.w d15, [a15]

#124				ST		OL_trj_generator.maxPOS	{L:44}
(*) REAL
A0013190  801300BB		mov.u d8, #0x130
A0013194  F600C801		addsc.a a15, a12, d8, #0
A0013198  0000FF59		st.w [a15], d15

#125		
#126				(* OL_trj_generator.minVEL:= minVel; *)
#127				LD		minVel	{L:45}
(*) UNDEF
A001319C  803240BB		mov.u d8, #0x324
A00131A0  F600C801		addsc.a a15, a12, d8, #0
A00131A4  0000FF19		ld.w d15, [a15]

#128				ST		OL_trj_generator.minVEL	{L:45}
(*) REAL
A00131A8  801380BB		mov.u d8, #0x138
A00131AC  F600C801		addsc.a a15, a12, d8, #0
A00131B0  0000FF59		st.w [a15], d15

#129		
#130				(* OL_trj_generator.minPOS:= minPos; *)
#131				LD		minPos	{L:46}
(*) UNDEF
A00131B4  803200BB		mov.u d8, #0x320
A00131B8  F600C801		addsc.a a15, a12, d8, #0
A00131BC  0000FF19		ld.w d15, [a15]

#132				ST		OL_trj_generator.minPOS	{L:46}
(*) REAL
A00131C0  801340BB		mov.u d8, #0x134
A00131C4  F600C801		addsc.a a15, a12, d8, #0
A00131C8  0000FF59		st.w [a15], d15

#133		
#134				(* OL_trj_generator.fbInit:=TRUE; *)
#135				LD		TRUE	{L:47}
(*) UNDEF
A00131CC  F000103B		mov d15, #1

#136				ST		OL_trj_generator.fbInit	{L:47}
(*) BOOL
A00131D0  801240BB		mov.u d8, #0x124
A00131D4  F600C801		addsc.a a15, a12, d8, #0
A00131D8  0000FF59		st.w [a15], d15

#137		
#138				(* OL_trj_generator() *)
#139				CAL		OL_trj_generator	{L:48}
(*) BOOL
A00131DC  F53CAF89		st.w [-sp]4, d15 
A00131E0  4000C001		mov.aa a4, a12
A00131E4  800E40BB		mov.u d8, #0xE4 ; FB FRAME BASE 0xE4
A00131E8  8000089B		addih d8, d8, #0x0
A00131EC  46004801		addsc.a a4, a4, d8, #0
A00131F0  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA00126B8
A00131F4  A278FFD9		lea a15,[a15]0x26B8
A00131F8  0000000D		nop
A00131FC  00000F2D		calli a15
A0013200  0104AF09		ld.w d15, [sp+]4

#140		
#141				(* OL_trj_generator.fbInit:=FALSE; *)
#142				LD		FALSE	{L:49}
(*) UNDEF
A0013204  F000003B		mov d15, #0

#143				ST		OL_trj_generator.fbInit	{L:49}
(*) BOOL
A0013208  801240BB		mov.u d8, #0x124
A001320C  F600C801		addsc.a a15, a12, d8, #0
A0013210  0000FF59		st.w [a15], d15

#144		
#145				(* fb_RLS.Ts	:=	0.01; *)
#146				LD		0.01	{L:52}
(*) UNDEF
A0013214  FD70A0BB		mov.u d15, #0xD70A ; COSTREAL 0.010000
A0013218  F3C23F9B		addih d15, d15, #0x3C23

#147				ST		fb_RLS.Ts	{L:52}
(*) REAL
A001321C  801C40BB		mov.u d8, #0x1C4
A0013220  F600C801		addsc.a a15, a12, d8, #0
A0013224  0000FF59		st.w [a15], d15

#148		
#149				(* fb_RLS.S 	:= 	3.0; *)
#150				LD		3.0	{L:53}
(*) UNDEF
A0013228  F00000BB		mov.u d15, #0x0000 ; COSTREAL 3.000000
A001322C  F4040F9B		addih d15, d15, #0x4040

#151				ST		fb_RLS.S	{L:53}
(*) REAL
A0013230  801B80BB		mov.u d8, #0x1B8
A0013234  F600C801		addsc.a a15, a12, d8, #0
A0013238  0000FF59		st.w [a15], d15

#152		
#153				(* fb_RLS.Time_max:=10.0; *)
#154				LD		10.0	{L:54}
(*) UNDEF
A001323C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 10.000000
A0013240  F4120F9B		addih d15, d15, #0x4120

#155				ST		fb_RLS.Time_max	{L:54}
(*) REAL
A0013244  801C80BB		mov.u d8, #0x1C8
A0013248  F600C801		addsc.a a15, a12, d8, #0
A001324C  0000FF59		st.w [a15], d15

#156		
#157				(* fb_RLS.ssMethodType:=0; *)
#158				LD		0	{L:55}
(*) UNDEF
A0013250  F000003B		mov d15, #0

#159				ST		fb_RLS.ssMethodType	{L:55}
(*) USINT
A0013254  801CC0BB		mov.u d8, #0x1CC
A0013258  F600C801		addsc.a a15, a12, d8, #0
A001325C  0800FF89		st.b [a15], d15

#160		
#161				(* fb_RLS() *)
#162				CAL		fb_RLS	{L:56}
(*) SINT
A0013260  F53CAF89		st.w [-sp]4, d15 
A0013264  4000C001		mov.aa a4, a12
A0013268  8014C0BB		mov.u d8, #0x14C ; FB FRAME BASE 0x14C
A001326C  8000089B		addih d8, d8, #0x0
A0013270  46004801		addsc.a a4, a4, d8, #0
A0013274  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA001133C
A0013278  C13CFFD9		lea a15,[a15]0x133C
A001327C  0000000D		nop
A0013280  00000F2D		calli a15
A0013284  0104AF09		ld.w d15, [sp+]4

#163		
#164				(* fb_RLS.ssMethodType:=1; *)
#165				LD		1	{L:57}
(*) UNDEF
A0013288  F000103B		mov d15, #1

#166				ST		fb_RLS.ssMethodType	{L:57}
(*) USINT
A001328C  801CC0BB		mov.u d8, #0x1CC
A0013290  F600C801		addsc.a a15, a12, d8, #0
A0013294  0800FF89		st.b [a15], d15

#167		
#168				(* RAND.fb_Init:=TRUE; *)
#169				LD		TRUE	{L:59}
(*) UNDEF
A0013298  F000103B		mov d15, #1

#170				ST		RAND.fb_Init	{L:59}
(*) BOOL
A001329C  800880BB		mov.u d8, #0x88
A00132A0  F600C801		addsc.a a15, a12, d8, #0
A00132A4  0000FF59		st.w [a15], d15

#171		
#172				(* RAND() *)
#173				CAL		RAND	{L:60}
(*) BOOL
A00132A8  F53CAF89		st.w [-sp]4, d15 
A00132AC  4000C001		mov.aa a4, a12
A00132B0  800780BB		mov.u d8, #0x78 ; FB FRAME BASE 0x78
A00132B4  8000089B		addih d8, d8, #0x0
A00132B8  46004801		addsc.a a4, a4, d8, #0
A00132BC  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011244
A00132C0  9104FFD9		lea a15,[a15]0x1244
A00132C4  0000000D		nop
A00132C8  00000F2D		calli a15
A00132CC  0104AF09		ld.w d15, [sp+]4

#174		
#175				(* RAND.fb_Init:=FALSE; *)
#176				LD		FALSE	{L:61}
(*) UNDEF
A00132D0  F000003B		mov d15, #0

#177				ST		RAND.fb_Init	{L:61}
(*) BOOL
A00132D4  800880BB		mov.u d8, #0x88
A00132D8  F600C801		addsc.a a15, a12, d8, #0
A00132DC  0000FF59		st.w [a15], d15

#178		
#179				(* TUNED:=FALSE; *)
#180				LD		FALSE	{L:64}
(*) UNDEF
A00132E0  F000003B		mov d15, #0

#181				ST		TUNED	{L:64}
(*) BOOL
A00132E4  800040BB		mov.u d8, #0x4
A00132E8  F600C801		addsc.a a15, a12, d8, #0
A00132EC  0000FF59		st.w [a15], d15

#182		
#183				(* VARIANCE_THRESHOLD:=maxTrq*pOscillationTollerance; *)
#184				LD		maxTrq	{L:65}
(*) UNDEF
A00132F0  802FC0BB		mov.u d8, #0x2FC
A00132F4  F600C801		addsc.a a15, a12, d8, #0
A00132F8  0000FF19		ld.w d15, [a15]

#185				MUL		pOscillationTollerance	{L:65}
(*) REAL
A00132FC  D190C885		ld.w d8, #0x31B50 ; ADR 0xC0001B50
A0013300  0000000D		nop
A0013304  F0418F4B		mul.f d15, d15, d8

#186				ST		VARIANCE_THRESHOLD	{L:65}
(*) REAL
A0013308  800300BB		mov.u d8, #0x30
A001330C  F600C801		addsc.a a15, a12, d8, #0
A0013310  0000FF59		st.w [a15], d15

#187		
#188				(* Vel_SP:=00.0; *)
#189				LD		00.0	{L:66}
(*) UNDEF
A0013314  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0013318  F0000F9B		addih d15, d15, #0x0000

#190				ST		Vel_SP	{L:66}
(*) REAL
A001331C  803580BB		mov.u d8, #0x358
A0013320  F600C801		addsc.a a15, a12, d8, #0
A0013324  0000FF59		st.w [a15], d15

#191		
#192				(* TrialTime:=4.0; *)
#193				LD		4.0	{L:67}
(*) UNDEF
A0013328  F00000BB		mov.u d15, #0x0000 ; COSTREAL 4.000000
A001332C  F4080F9B		addih d15, d15, #0x4080

#194				ST		TrialTime	{L:67}
(*) REAL
A0013330  8002C0BB		mov.u d8, #0x2C
A0013334  F600C801		addsc.a a15, a12, d8, #0
A0013338  0000FF59		st.w [a15], d15

#195		
#196				(* Wc_high:=MaxWc; *)
#197				LD		MaxWc	{L:68}
(*) UNDEF
A001333C  803280BB		mov.u d8, #0x328
A0013340  F600C801		addsc.a a15, a12, d8, #0
A0013344  0000FF19		ld.w d15, [a15]

#198				ST		Wc_high	{L:68}
(*) REAL
A0013348  800380BB		mov.u d8, #0x38
A001334C  F600C801		addsc.a a15, a12, d8, #0
A0013350  0000FF59		st.w [a15], d15

#199		
#200				(* Wc_low:=MinWc; *)
#201				LD		MinWc	{L:69}
(*) UNDEF
A0013354  8032C0BB		mov.u d8, #0x32C
A0013358  F600C801		addsc.a a15, a12, d8, #0
A001335C  0000FF19		ld.w d15, [a15]

#202				ST		Wc_low	{L:69}
(*) REAL
A0013360  8003C0BB		mov.u d8, #0x3C
A0013364  F600C801		addsc.a a15, a12, d8, #0
A0013368  0000FF59		st.w [a15], d15

#203		
#204				(* Wc_act:= MinWc; *)
#205				LD		MinWc	{L:70}
(*) UNDEF
A001336C  8032C0BB		mov.u d8, #0x32C
A0013370  F600C801		addsc.a a15, a12, d8, #0
A0013374  0000FF19		ld.w d15, [a15]

#206				ST		Wc_act	{L:70}
(*) REAL
A0013378  800340BB		mov.u d8, #0x34
A001337C  F600C801		addsc.a a15, a12, d8, #0
A0013380  0000FF59		st.w [a15], d15

#207		
#208				(* NO_OF_TRIAL := 10; *)
#209				LD		10	{L:71}
(*) UNDEF
A0013384  F000A03B		mov d15, #10

#210				ST		NO_OF_TRIAL	{L:71}
(*) USINT
A0013388  800080BB		mov.u d8, #0x8
A001338C  F600C801		addsc.a a15, a12, d8, #0
A0013390  0880FF89		st.h [a15], d15

#211		
#212				(* Wc_Step := (Wc_high - Wc_low) / (TO_REAL(NO_OF_TRIAL)); *)
#213				LD		Wc_high	{L:72}
(*) UNDEF
A0013394  800380BB		mov.u d8, #0x38
A0013398  F600C801		addsc.a a15, a12, d8, #0
A001339C  0000FF19		ld.w d15, [a15]

#214				SUB		Wc_low	{L:72}
(*) REAL
A00133A0  8003C0BB		mov.u d8, #0x3C
A00133A4  F600C801		addsc.a a15, a12, d8, #0
A00133A8  0000F819		ld.w d8, [a15]
A00133AC  FF31086B		sub.f d15, d15, d8

#215				DIV(		NO_OF_TRIAL	{L:72}
(*) REAL
A00133B0  F53CAF89		st.w [-sp]4, d15 
A00133B4  800080BB		mov.u d8, #0x8
A00133B8  F600C801		addsc.a a15, a12, d8, #0
A00133BC  08C0FF09		ld.hu d15, [a15]

#216				TO_REAL	{L:72}
(*) UINT
A00133C0  F1610F4B		utof d15, d15

#217				)	{L:72}
(*) REAL
A00133C4  01F0F00B		mov d0, d15
A00133C8  0104AF09		ld.w d15, [sp+]4
A00133CC  81F0000B		mov d8, d0
A00133D0  F0518F4B		div.f d15, d15, d8

#218				ST		Wc_Step	{L:72}
(*) REAL
A00133D4  800440BB		mov.u d8, #0x44
A00133D8  F600C801		addsc.a a15, a12, d8, #0
A00133DC  0000FF59		st.w [a15], d15

#219		
#220				(* TUNE_LOW_VEL:=TRUE; *)
#221				LD		TRUE	{L:74}
(*) UNDEF
A00133E0  F000103B		mov d15, #1

#222				ST		TUNE_LOW_VEL	{L:74}
(*) BOOL
A00133E4  803640BB		mov.u d8, #0x364
A00133E8  F600C801		addsc.a a15, a12, d8, #0
A00133EC  0000FF59		st.w [a15], d15

#223		
#224				(* FLAG_LIMITS:=FALSE; *)
#225				LD		FALSE	{L:75}
(*) UNDEF
A00133F0  F000003B		mov d15, #0

#226				ST		FLAG_LIMITS	{L:75}
(*) BOOL
A00133F4  F000C001		mov.aa a15, a12
A00133F8  0000FF59		st.w [a15], d15

#227		
#228				(* estimation_trials:=0; *)
#229				LD		0	{L:76}
(*) UNDEF
A00133FC  F000003B		mov d15, #0

#230				ST		estimation_trials	{L:76}
(*) USINT
A0013400  802B20BB		mov.u d8, #0x2B2
A0013404  F600C801		addsc.a a15, a12, d8, #0
A0013408  0880FF89		st.h [a15], d15

#231		
#232				(* friction_trial:=0.0; *)
#233				LD		0.0	{L:77}
(*) UNDEF
A001340C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0013410  F0000F9B		addih d15, d15, #0x0000

#234				ST		friction_trial	{L:77}
(*) REAL
A0013414  802B40BB		mov.u d8, #0x2B4
A0013418  F600C801		addsc.a a15, a12, d8, #0
A001341C  0000FF59		st.w [a15], d15

#235				JMP		$label1
(-) REAL
A0013420  177A001D		j #0x00177A ; JUMP 0xA0016314

#236		$label0:
#237		
#238			(* ELSE *)
#239		
#240		
#241				(* IF ENABLE *)
#242				LD		ENABLE	{L:80}
(*) UNDEF
A0013424  802F00BB		mov.u d8, #0x2F0
A0013428  F600C801		addsc.a a15, a12, d8, #0
A001342C  0000FF19		ld.w d15, [a15]

#243				JMPCN	$label2	{L:80}
(-) BOOL
A0013430  175E0FDF		jeq d15, #0, #0x175E ; JUMP 0xA00162EC

#244		
#245				(* THEN *)
#246		
#247					(* Time:=Time+Ts; *)
#248					LD		Time	{L:82}
(*) UNDEF
A0013434  8001C0BB		mov.u d8, #0x1C
A0013438  F600C801		addsc.a a15, a12, d8, #0
A001343C  0000FF19		ld.w d15, [a15]

#249					ADD		Ts	{L:82}
(*) REAL
A0013440  803080BB		mov.u d8, #0x308
A0013444  F600C801		addsc.a a15, a12, d8, #0
A0013448  0000F819		ld.w d8, [a15]
A001344C  FF21086B		add.f d15, d15, d8

#250					ST		Time	{L:82}
(*) REAL
A0013450  8001C0BB		mov.u d8, #0x1C
A0013454  F600C801		addsc.a a15, a12, d8, #0
A0013458  0000FF59		st.w [a15], d15

#251		
#252		
#253					(* IF Position>maxPos OR Position<minPos OR ABS(Speed)>maxVel *)
#254					LD		Position	{L:83}
(*) UNDEF
A001345C  802F80BB		mov.u d8, #0x2F8
A0013460  F600C801		addsc.a a15, a12, d8, #0
A0013464  0000FF19		ld.w d15, [a15]

#255					GT		maxPos	{L:83}
(*) REAL
A0013468  803040BB		mov.u d8, #0x304
A001346C  F600C801		addsc.a a15, a12, d8, #0
A0013470  0000F519		ld.w d5, [a15]
A0013474  F0015F4B		cmp.f d15, d15, d5
A0013478  F2004F8B		eq d15, d15, #4

#256					ST		$$TMP2	{L:83}
(*) BOOL
A001347C  802B80BB		mov.u d8, #0x2B8
A0013480  F600C801		addsc.a a15, a12, d8, #0
A0013484  0000FF59		st.w [a15], d15

#257					LD		Position	{L:83}
(*) UNDEF
A0013488  802F80BB		mov.u d8, #0x2F8
A001348C  F600C801		addsc.a a15, a12, d8, #0
A0013490  0000FF19		ld.w d15, [a15]

#258					LT		minPos	{L:83}
(*) REAL
A0013494  803200BB		mov.u d8, #0x320
A0013498  F600C801		addsc.a a15, a12, d8, #0
A001349C  0000F519		ld.w d5, [a15]
A00134A0  F0015F4B		cmp.f d15, d15, d5
A00134A4  F2001F8B		eq d15, d15, #1

#259					OR		$$TMP2	{L:83}
(*) BOOL
A00134A8  802B80BB		mov.u d8, #0x2B8
A00134AC  F600C801		addsc.a a15, a12, d8, #0
A00134B0  0000F819		ld.w d8, [a15]
A00134B4  F0A08F0F		or d15, d15, d8

#260					ST		$$TMP3	{L:83}
(*) BOOL
A00134B8  802BC0BB		mov.u d8, #0x2BC
A00134BC  F600C801		addsc.a a15, a12, d8, #0
A00134C0  0000FF59		st.w [a15], d15

#261					LD		Speed	{L:83}
(*) UNDEF
A00134C4  802F40BB		mov.u d8, #0x2F4
A00134C8  F600C801		addsc.a a15, a12, d8, #0
A00134CC  0000FF19		ld.w d15, [a15]

#262					ABS	{L:83}
(*) REAL
A00134D0  41F0F00B		mov d4, d15
A00134D4  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A00134D8  31F0FFD9		lea a15,[a15]0x1CF0
A00134DC  0000000D		nop
A00134E0  00000F2D		calli a15
A00134E4  F1F0200B		mov d15, d2

#263					GT		maxVel	{L:83}
(*) REAL
A00134E8  803000BB		mov.u d8, #0x300
A00134EC  F600C801		addsc.a a15, a12, d8, #0
A00134F0  0000F519		ld.w d5, [a15]
A00134F4  F0015F4B		cmp.f d15, d15, d5
A00134F8  F2004F8B		eq d15, d15, #4

#264					OR		$$TMP3	{L:83}
(*) BOOL
A00134FC  802BC0BB		mov.u d8, #0x2BC
A0013500  F600C801		addsc.a a15, a12, d8, #0
A0013504  0000F819		ld.w d8, [a15]
A0013508  F0A08F0F		or d15, d15, d8

#265					JMPCN	$label4	{L:83}
(-) BOOL
A001350C  00280FDF		jeq d15, #0, #0x0028 ; JUMP 0xA001355C

#266		
#267					(* THEN *)
#268		
#269		
#270						(* IF FLAG_LIMITS) *)
#271						LD		FLAG_LIMITS	{L:84}
(*) UNDEF
A0013510  F000C001		mov.aa a15, a12
A0013514  0000FF19		ld.w d15, [a15]

#272						NOT	{L:84}
(*) BOOL
A0013518  8000103B		mov d8, #1
A001351C  9000003B		mov d9, #0
A0013520  FF40892B		sel d15, d15, d9, d8

#273						JMPCN	$label5	{L:84}
(-) BOOL
A0013524  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0013540

#274		
#275						(* THEN *)
#276		
#277							(* state_before_error:=state; *)
#278							LD		state	{L:85}
(*) UNDEF
A0013528  803400BB		mov.u d8, #0x340
A001352C  F600C801		addsc.a a15, a12, d8, #0
A0013530  0840FF09		ld.bu d15, [a15]

#279							ST		state_before_error	{L:85}
(*) USINT
A0013534  802B00BB		mov.u d8, #0x2B0
A0013538  F600C801		addsc.a a15, a12, d8, #0
A001353C  0800FF89		st.b [a15], d15

#280		
#281		$label5:
#282						(* END_IF *)
#283		
#284						(* FLAG_LIMITS:=TRUE; *)
#285						LD		TRUE	{L:87}
(*) UNDEF
A0013540  F000103B		mov d15, #1

#286						ST		FLAG_LIMITS	{L:87}
(*) BOOL
A0013544  F000C001		mov.aa a15, a12
A0013548  0000FF59		st.w [a15], d15

#287		
#288						(* state:=99; *)
#289						LD		99	{L:88}
(*) UNDEF
A001354C  F006303B		mov d15, #99

#290						ST		state	{L:88}
(*) USINT
A0013550  803400BB		mov.u d8, #0x340
A0013554  F600C801		addsc.a a15, a12, d8, #0
A0013558  0800FF89		st.b [a15], d15

#291		
#292		$label4:
#293					(* END_IF *)
#294		
#295		
#296					(* CASE state OF *)
#297		
#298					(* 100: *)
#299					LD		state	{L:91}
(*) UNDEF
A001355C  803400BB		mov.u d8, #0x340
A0013560  F600C801		addsc.a a15, a12, d8, #0
A0013564  0840FF09		ld.bu d15, [a15]

#300					EQ		100	{L:91}
(*) USINT
A0013568  8006403B		mov d8, #100
A001356C  F1008F0B		eq d15, d15, d8

#301					JMPC	$label7
(-) BOOL
A0013570  81180FDF		jne d15, #0, #0x0118 ; JUMP 0xA00137A0

#302		
#303					(* 0: *)
#304					LD		state	{L:129}
(*) UNDEF
A0013574  803400BB		mov.u d8, #0x340
A0013578  F600C801		addsc.a a15, a12, d8, #0
A001357C  0840FF09		ld.bu d15, [a15]

#305					EQ		0	{L:129}
(*) USINT
A0013580  8000003B		mov d8, #0
A0013584  F1008F0B		eq d15, d15, d8

#306					JMPC	$label8
(-) BOOL
A0013588  82260FDF		jne d15, #0, #0x0226 ; JUMP 0xA00139D4

#307		
#308					(* 1: *)
#309					LD		state	{L:138}
(*) UNDEF
A001358C  803400BB		mov.u d8, #0x340
A0013590  F600C801		addsc.a a15, a12, d8, #0
A0013594  0840FF09		ld.bu d15, [a15]

#310					EQ		1	{L:138}
(*) USINT
A0013598  8000103B		mov d8, #1
A001359C  F1008F0B		eq d15, d15, d8

#311					JMPC	$label9
(-) BOOL
A00135A0  826C0FDF		jne d15, #0, #0x026C ; JUMP 0xA0013A78

#312		
#313					(* 2: *)
#314					LD		state	{L:149}
(*) UNDEF
A00135A4  803400BB		mov.u d8, #0x340
A00135A8  F600C801		addsc.a a15, a12, d8, #0
A00135AC  0840FF09		ld.bu d15, [a15]

#315					EQ		2	{L:149}
(*) USINT
A00135B0  8000203B		mov d8, #2
A00135B4  F1008F0B		eq d15, d15, d8

#316					JMPC	$label10
(-) BOOL
A00135B8  82CA0FDF		jne d15, #0, #0x02CA ; JUMP 0xA0013B4C

#317		
#318					(* 3: *)
#319					LD		state	{L:159}
(*) UNDEF
A00135BC  803400BB		mov.u d8, #0x340
A00135C0  F600C801		addsc.a a15, a12, d8, #0
A00135C4  0840FF09		ld.bu d15, [a15]

#320					EQ		3	{L:159}
(*) USINT
A00135C8  8000303B		mov d8, #3
A00135CC  F1008F0B		eq d15, d15, d8

#321					JMPC	$label11
(-) BOOL
A00135D0  83520FDF		jne d15, #0, #0x0352 ; JUMP 0xA0013C74

#322		
#323					(* 4, 9, 14: *)
#324					LD		state	{L:165}
(*) UNDEF
A00135D4  803400BB		mov.u d8, #0x340
A00135D8  F600C801		addsc.a a15, a12, d8, #0
A00135DC  0840FF09		ld.bu d15, [a15]

#325					EQ		14	{L:165}
(*) USINT
A00135E0  8000E03B		mov d8, #14
A00135E4  F1008F0B		eq d15, d15, d8

#326					OR(		state	{L:165}
(*) BOOL
A00135E8  F53CAF89		st.w [-sp]4, d15 
A00135EC  803400BB		mov.u d8, #0x340
A00135F0  F600C801		addsc.a a15, a12, d8, #0
A00135F4  0840FF09		ld.bu d15, [a15]

#327					EQ		9	{L:165}
(*) USINT
A00135F8  8000903B		mov d8, #9
A00135FC  F1008F0B		eq d15, d15, d8

#328					OR(		state	{L:165}
(*) BOOL
A0013600  F53CAF89		st.w [-sp]4, d15 
A0013604  803400BB		mov.u d8, #0x340
A0013608  F600C801		addsc.a a15, a12, d8, #0
A001360C  0840FF09		ld.bu d15, [a15]

#329					EQ		4	{L:165}
(*) USINT
A0013610  8000403B		mov d8, #4
A0013614  F1008F0B		eq d15, d15, d8

#330					)	{L:165}
(*) BOOL
A0013618  01F0F00B		mov d0, d15
A001361C  0104AF09		ld.w d15, [sp+]4
A0013620  F0A00F0F		or d15, d15, d0

#331					)	{L:165}
(*) BOOL
A0013624  01F0F00B		mov d0, d15
A0013628  0104AF09		ld.w d15, [sp+]4
A001362C  F0A00F0F		or d15, d15, d0

#332					JMPC	$label12
(-) BOOL
A0013630  83700FDF		jne d15, #0, #0x0370 ; JUMP 0xA0013D10

#333		
#334					(* 5, 10: *)
#335					LD		state	{L:190}
(*) UNDEF
A0013634  803400BB		mov.u d8, #0x340
A0013638  F600C801		addsc.a a15, a12, d8, #0
A001363C  0840FF09		ld.bu d15, [a15]

#336					EQ		10	{L:190}
(*) USINT
A0013640  8000A03B		mov d8, #10
A0013644  F1008F0B		eq d15, d15, d8

#337					OR(		state	{L:190}
(*) BOOL
A0013648  F53CAF89		st.w [-sp]4, d15 
A001364C  803400BB		mov.u d8, #0x340
A0013650  F600C801		addsc.a a15, a12, d8, #0
A0013654  0840FF09		ld.bu d15, [a15]

#338					EQ		5	{L:190}
(*) USINT
A0013658  8000503B		mov d8, #5
A001365C  F1008F0B		eq d15, d15, d8

#339					)	{L:190}
(*) BOOL
A0013660  01F0F00B		mov d0, d15
A0013664  0104AF09		ld.w d15, [sp+]4
A0013668  F0A00F0F		or d15, d15, d0

#340					JMPC	$label13
(-) BOOL
A001366C  84C80FDF		jne d15, #0, #0x04C8 ; JUMP 0xA0013FFC

#341		
#342					(* 6, 11: *)
#343					LD		state	{L:192}
(*) UNDEF
A0013670  803400BB		mov.u d8, #0x340
A0013674  F600C801		addsc.a a15, a12, d8, #0
A0013678  0840FF09		ld.bu d15, [a15]

#344					EQ		11	{L:192}
(*) USINT
A001367C  8000B03B		mov d8, #11
A0013680  F1008F0B		eq d15, d15, d8

#345					OR(		state	{L:192}
(*) BOOL
A0013684  F53CAF89		st.w [-sp]4, d15 
A0013688  803400BB		mov.u d8, #0x340
A001368C  F600C801		addsc.a a15, a12, d8, #0
A0013690  0840FF09		ld.bu d15, [a15]

#346					EQ		6	{L:192}
(*) USINT
A0013694  8000603B		mov d8, #6
A0013698  F1008F0B		eq d15, d15, d8

#347					)	{L:192}
(*) BOOL
A001369C  01F0F00B		mov d0, d15
A00136A0  0104AF09		ld.w d15, [sp+]4
A00136A4  F0A00F0F		or d15, d15, d0

#348					JMPC	$label14
(-) BOOL
A00136A8  84B60FDF		jne d15, #0, #0x04B6 ; JUMP 0xA0014014

#349		
#350					(* 7, 12: *)
#351					LD		state	{L:194}
(*) UNDEF
A00136AC  803400BB		mov.u d8, #0x340
A00136B0  F600C801		addsc.a a15, a12, d8, #0
A00136B4  0840FF09		ld.bu d15, [a15]

#352					EQ		12	{L:194}
(*) USINT
A00136B8  8000C03B		mov d8, #12
A00136BC  F1008F0B		eq d15, d15, d8

#353					OR(		state	{L:194}
(*) BOOL
A00136C0  F53CAF89		st.w [-sp]4, d15 
A00136C4  803400BB		mov.u d8, #0x340
A00136C8  F600C801		addsc.a a15, a12, d8, #0
A00136CC  0840FF09		ld.bu d15, [a15]

#354					EQ		7	{L:194}
(*) USINT
A00136D0  8000703B		mov d8, #7
A00136D4  F1008F0B		eq d15, d15, d8

#355					)	{L:194}
(*) BOOL
A00136D8  01F0F00B		mov d0, d15
A00136DC  0104AF09		ld.w d15, [sp+]4
A00136E0  F0A00F0F		or d15, d15, d0

#356					JMPC	$label15
(-) BOOL
A00136E4  849A0FDF		jne d15, #0, #0x049A ; JUMP 0xA0014018

#357		
#358					(* 8, 13: *)
#359					LD		state	{L:196}
(*) UNDEF
A00136E8  803400BB		mov.u d8, #0x340
A00136EC  F600C801		addsc.a a15, a12, d8, #0
A00136F0  0840FF09		ld.bu d15, [a15]

#360					EQ		13	{L:196}
(*) USINT
A00136F4  8000D03B		mov d8, #13
A00136F8  F1008F0B		eq d15, d15, d8

#361					OR(		state	{L:196}
(*) BOOL
A00136FC  F53CAF89		st.w [-sp]4, d15 
A0013700  803400BB		mov.u d8, #0x340
A0013704  F600C801		addsc.a a15, a12, d8, #0
A0013708  0840FF09		ld.bu d15, [a15]

#362					EQ		8	{L:196}
(*) USINT
A001370C  8000803B		mov d8, #8
A0013710  F1008F0B		eq d15, d15, d8

#363					)	{L:196}
(*) BOOL
A0013714  01F0F00B		mov d0, d15
A0013718  0104AF09		ld.w d15, [sp+]4
A001371C  F0A00F0F		or d15, d15, d0

#364					JMPC	$label16
(-) BOOL
A0013720  847E0FDF		jne d15, #0, #0x047E ; JUMP 0xA001401C

#365		
#366					(* 15: *)
#367					LD		state	{L:199}
(*) UNDEF
A0013724  803400BB		mov.u d8, #0x340
A0013728  F600C801		addsc.a a15, a12, d8, #0
A001372C  0840FF09		ld.bu d15, [a15]

#368					EQ		15	{L:199}
(*) USINT
A0013730  8000F03B		mov d8, #15
A0013734  F1008F0B		eq d15, d15, d8

#369					JMPC	$label17
(-) BOOL
A0013738  84940FDF		jne d15, #0, #0x0494 ; JUMP 0xA0014060

#370		
#371					(* 91, 92, 99: *)
#372					LD		state	{L:204}
(*) UNDEF
A001373C  803400BB		mov.u d8, #0x340
A0013740  F600C801		addsc.a a15, a12, d8, #0
A0013744  0840FF09		ld.bu d15, [a15]

#373					EQ		99	{L:204}
(*) USINT
A0013748  8006303B		mov d8, #99
A001374C  F1008F0B		eq d15, d15, d8

#374					OR(		state	{L:204}
(*) BOOL
A0013750  F53CAF89		st.w [-sp]4, d15 
A0013754  803400BB		mov.u d8, #0x340
A0013758  F600C801		addsc.a a15, a12, d8, #0
A001375C  0840FF09		ld.bu d15, [a15]

#375					EQ		92	{L:204}
(*) USINT
A0013760  8005C03B		mov d8, #92
A0013764  F1008F0B		eq d15, d15, d8

#376					OR(		state	{L:204}
(*) BOOL
A0013768  F53CAF89		st.w [-sp]4, d15 
A001376C  803400BB		mov.u d8, #0x340
A0013770  F600C801		addsc.a a15, a12, d8, #0
A0013774  0840FF09		ld.bu d15, [a15]

#377					EQ		91	{L:204}
(*) USINT
A0013778  8005B03B		mov d8, #91
A001377C  F1008F0B		eq d15, d15, d8

#378					)	{L:204}
(*) BOOL
A0013780  01F0F00B		mov d0, d15
A0013784  0104AF09		ld.w d15, [sp+]4
A0013788  F0A00F0F		or d15, d15, d0

#379					)	{L:204}
(*) BOOL
A001378C  01F0F00B		mov d0, d15
A0013790  0104AF09		ld.w d15, [sp+]4
A0013794  F0A00F0F		or d15, d15, d0

#380					JMPC	$label18
(-) BOOL
A0013798  84820FDF		jne d15, #0, #0x0482 ; JUMP 0xA001409C

#381					JMP		$label6
(-) BOOL
A001379C  049C001D		j #0x00049C ; JUMP 0xA00140D4

#382		
#383					(* Istruzioni di ciascun CASE: *)
#384		
#385		$label7:
#386						(* NoiseLevelID_Trj.fbInit := TRUE; *)
#387						LD		TRUE	{L:93}
(*) UNDEF
A00137A0  F000103B		mov d15, #1

#388						ST		NoiseLevelID_Trj.fbInit	{L:93}
(*) BOOL
A00137A4  800680BB		mov.u d8, #0x68
A00137A8  F600C801		addsc.a a15, a12, d8, #0
A00137AC  0000FF59		st.w [a15], d15

#389		
#390						(* NoiseLevelID_Trj() *)
#391						CAL		NoiseLevelID_Trj	{L:94}
(*) BOOL
A00137B0  F53CAF89		st.w [-sp]4, d15 
A00137B4  4000C001		mov.aa a4, a12
A00137B8  800680BB		mov.u d8, #0x68 ; FB FRAME BASE 0x68
A00137BC  8000089B		addih d8, d8, #0x0
A00137C0  46004801		addsc.a a4, a4, d8, #0
A00137C4  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010F1C
A00137C8  C0DCFFD9		lea a15,[a15]0x0F1C
A00137CC  0000000D		nop
A00137D0  00000F2D		calli a15
A00137D4  0104AF09		ld.w d15, [sp+]4

#392		
#393						(* NoiseLevelID_Trj.fbInit := FALSE; *)
#394						LD		FALSE	{L:95}
(*) UNDEF
A00137D8  F000003B		mov d15, #0

#395						ST		NoiseLevelID_Trj.fbInit	{L:95}
(*) BOOL
A00137DC  800680BB		mov.u d8, #0x68
A00137E0  F600C801		addsc.a a15, a12, d8, #0
A00137E4  0000FF59		st.w [a15], d15

#396		
#397						(* NoiseLevelID_Trj.ENABLE := FALSE; *)
#398						LD		FALSE	{L:96}
(*) UNDEF
A00137E8  F000003B		mov d15, #0

#399						ST		NoiseLevelID_Trj.ENABLE	{L:96}
(*) BOOL
A00137EC  8006C0BB		mov.u d8, #0x6C
A00137F0  F600C801		addsc.a a15, a12, d8, #0
A00137F4  0000FF59		st.w [a15], d15

#400		
#401						(* NoiseLevelID_Trj.reference := 0.0; *)
#402						LD		0.0	{L:97}
(*) UNDEF
A00137F8  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00137FC  F0000F9B		addih d15, d15, #0x0000

#403						ST		NoiseLevelID_Trj.reference	{L:97}
(*) REAL
A0013800  800700BB		mov.u d8, #0x70
A0013804  F600C801		addsc.a a15, a12, d8, #0
A0013808  0000FF59		st.w [a15], d15

#404		
#405						(* NoiseLevelID.fbInit := TRUE; *)
#406						LD		TRUE	{L:100}
(*) UNDEF
A001380C  F000103B		mov d15, #1

#407						ST		NoiseLevelID.fbInit	{L:100}
(*) BOOL
A0013810  8004C0BB		mov.u d8, #0x4C
A0013814  F600C801		addsc.a a15, a12, d8, #0
A0013818  0000FF59		st.w [a15], d15

#408		
#409						(* NoiseLevelID() *)
#410						CAL		NoiseLevelID	{L:101}
(*) BOOL
A001381C  F53CAF89		st.w [-sp]4, d15 
A0013820  4000C001		mov.aa a4, a12
A0013824  800480BB		mov.u d8, #0x48 ; FB FRAME BASE 0x48
A0013828  8000089B		addih d8, d8, #0x0
A001382C  46004801		addsc.a a4, a4, d8, #0
A0013830  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010DD0
A0013834  70D0FFD9		lea a15,[a15]0x0DD0
A0013838  0000000D		nop
A001383C  00000F2D		calli a15
A0013840  0104AF09		ld.w d15, [sp+]4

#411		
#412						(* NoiseLevelID.fbInit := FALSE; *)
#413						LD		FALSE	{L:102}
(*) UNDEF
A0013844  F000003B		mov d15, #0

#414						ST		NoiseLevelID.fbInit	{L:102}
(*) BOOL
A0013848  8004C0BB		mov.u d8, #0x4C
A001384C  F600C801		addsc.a a15, a12, d8, #0
A0013850  0000FF59		st.w [a15], d15

#415		
#416						(* NoiseLevelID.ENABLE := FALSE; *)
#417						LD		FALSE	{L:103}
(*) UNDEF
A0013854  F000003B		mov d15, #0

#418						ST		NoiseLevelID.ENABLE	{L:103}
(*) BOOL
A0013858  800580BB		mov.u d8, #0x58
A001385C  F600C801		addsc.a a15, a12, d8, #0
A0013860  0000FF59		st.w [a15], d15

#419		
#420						(* NoiseLevelID.timeID := 1.0; *)
#421						LD		1.0	{L:104}
(*) UNDEF
A0013864  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A0013868  F3F80F9B		addih d15, d15, #0x3F80

#422						ST		NoiseLevelID.timeID	{L:104}
(*) REAL
A001386C  800500BB		mov.u d8, #0x50
A0013870  F600C801		addsc.a a15, a12, d8, #0
A0013874  0000FF59		st.w [a15], d15

#423		
#424						(* NoiseLevelID.Ts     := 0.001; *)
#425						LD		0.001	{L:105}
(*) UNDEF
A0013878  F126F0BB		mov.u d15, #0x126F ; COSTREAL 0.001000
A001387C  F3A83F9B		addih d15, d15, #0x3A83

#426						ST		NoiseLevelID.Ts	{L:105}
(*) REAL
A0013880  8005C0BB		mov.u d8, #0x5C
A0013884  F600C801		addsc.a a15, a12, d8, #0
A0013888  0000FF59		st.w [a15], d15

#427		
#428						(* OL_trj_generator.maxTRQ:= maxTrq; *)
#429						LD		maxTrq	{L:112}
(*) UNDEF
A001388C  802FC0BB		mov.u d8, #0x2FC
A0013890  F600C801		addsc.a a15, a12, d8, #0
A0013894  0000FF19		ld.w d15, [a15]

#430						ST		OL_trj_generator.maxTRQ	{L:112}
(*) REAL
A0013898  801280BB		mov.u d8, #0x128
A001389C  F600C801		addsc.a a15, a12, d8, #0
A00138A0  0000FF59		st.w [a15], d15

#431		
#432						(* OL_trj_generator.maxVEL:= maxVel; *)
#433						LD		maxVel	{L:113}
(*) UNDEF
A00138A4  803000BB		mov.u d8, #0x300
A00138A8  F600C801		addsc.a a15, a12, d8, #0
A00138AC  0000FF19		ld.w d15, [a15]

#434						ST		OL_trj_generator.maxVEL	{L:113}
(*) REAL
A00138B0  8012C0BB		mov.u d8, #0x12C
A00138B4  F600C801		addsc.a a15, a12, d8, #0
A00138B8  0000FF59		st.w [a15], d15

#435		
#436						(* OL_trj_generator.maxPOS:= maxPos; *)
#437						LD		maxPos	{L:114}
(*) UNDEF
A00138BC  803040BB		mov.u d8, #0x304
A00138C0  F600C801		addsc.a a15, a12, d8, #0
A00138C4  0000FF19		ld.w d15, [a15]

#438						ST		OL_trj_generator.maxPOS	{L:114}
(*) REAL
A00138C8  801300BB		mov.u d8, #0x130
A00138CC  F600C801		addsc.a a15, a12, d8, #0
A00138D0  0000FF59		st.w [a15], d15

#439		
#440						(* OL_trj_generator.minVEL:= minVel; *)
#441						LD		minVel	{L:115}
(*) UNDEF
A00138D4  803240BB		mov.u d8, #0x324
A00138D8  F600C801		addsc.a a15, a12, d8, #0
A00138DC  0000FF19		ld.w d15, [a15]

#442						ST		OL_trj_generator.minVEL	{L:115}
(*) REAL
A00138E0  801380BB		mov.u d8, #0x138
A00138E4  F600C801		addsc.a a15, a12, d8, #0
A00138E8  0000FF59		st.w [a15], d15

#443		
#444						(* OL_trj_generator.minPOS:= minPos; *)
#445						LD		minPos	{L:116}
(*) UNDEF
A00138EC  803200BB		mov.u d8, #0x320
A00138F0  F600C801		addsc.a a15, a12, d8, #0
A00138F4  0000FF19		ld.w d15, [a15]

#446						ST		OL_trj_generator.minPOS	{L:116}
(*) REAL
A00138F8  801340BB		mov.u d8, #0x134
A00138FC  F600C801		addsc.a a15, a12, d8, #0
A0013900  0000FF59		st.w [a15], d15

#447		
#448						(* OL_trj_generator.fbInit:=TRUE; *)
#449						LD		TRUE	{L:117}
(*) UNDEF
A0013904  F000103B		mov d15, #1

#450						ST		OL_trj_generator.fbInit	{L:117}
(*) BOOL
A0013908  801240BB		mov.u d8, #0x124
A001390C  F600C801		addsc.a a15, a12, d8, #0
A0013910  0000FF59		st.w [a15], d15

#451		
#452						(* OL_trj_generator() *)
#453						CAL		OL_trj_generator	{L:118}
(*) BOOL
A0013914  F53CAF89		st.w [-sp]4, d15 
A0013918  4000C001		mov.aa a4, a12
A001391C  800E40BB		mov.u d8, #0xE4 ; FB FRAME BASE 0xE4
A0013920  8000089B		addih d8, d8, #0x0
A0013924  46004801		addsc.a a4, a4, d8, #0
A0013928  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA00126B8
A001392C  A278FFD9		lea a15,[a15]0x26B8
A0013930  0000000D		nop
A0013934  00000F2D		calli a15
A0013938  0104AF09		ld.w d15, [sp+]4

#454		
#455						(* OL_trj_generator.fbInit:=FALSE; *)
#456						LD		FALSE	{L:119}
(*) UNDEF
A001393C  F000003B		mov d15, #0

#457						ST		OL_trj_generator.fbInit	{L:119}
(*) BOOL
A0013940  801240BB		mov.u d8, #0x124
A0013944  F600C801		addsc.a a15, a12, d8, #0
A0013948  0000FF59		st.w [a15], d15

#458		
#459						(* fb_RLS.Ts	:=	0.01; *)
#460						LD		0.01	{L:122}
(*) UNDEF
A001394C  FD70A0BB		mov.u d15, #0xD70A ; COSTREAL 0.010000
A0013950  F3C23F9B		addih d15, d15, #0x3C23

#461						ST		fb_RLS.Ts	{L:122}
(*) REAL
A0013954  801C40BB		mov.u d8, #0x1C4
A0013958  F600C801		addsc.a a15, a12, d8, #0
A001395C  0000FF59		st.w [a15], d15

#462		
#463						(* fb_RLS.S 	:= 	3.0; *)
#464						LD		3.0	{L:123}
(*) UNDEF
A0013960  F00000BB		mov.u d15, #0x0000 ; COSTREAL 3.000000
A0013964  F4040F9B		addih d15, d15, #0x4040

#465						ST		fb_RLS.S	{L:123}
(*) REAL
A0013968  801B80BB		mov.u d8, #0x1B8
A001396C  F600C801		addsc.a a15, a12, d8, #0
A0013970  0000FF59		st.w [a15], d15

#466		
#467						(* fb_RLS.Time_max:=10.0; *)
#468						LD		10.0	{L:124}
(*) UNDEF
A0013974  F00000BB		mov.u d15, #0x0000 ; COSTREAL 10.000000
A0013978  F4120F9B		addih d15, d15, #0x4120

#469						ST		fb_RLS.Time_max	{L:124}
(*) REAL
A001397C  801C80BB		mov.u d8, #0x1C8
A0013980  F600C801		addsc.a a15, a12, d8, #0
A0013984  0000FF59		st.w [a15], d15

#470		
#471						(* fb_RLS.ssMethodType:=0; *)
#472						LD		0	{L:125}
(*) UNDEF
A0013988  F000003B		mov d15, #0

#473						ST		fb_RLS.ssMethodType	{L:125}
(*) USINT
A001398C  801CC0BB		mov.u d8, #0x1CC
A0013990  F600C801		addsc.a a15, a12, d8, #0
A0013994  0800FF89		st.b [a15], d15

#474		
#475						(* fb_RLS() *)
#476						CAL		fb_RLS	{L:126}
(*) SINT
A0013998  F53CAF89		st.w [-sp]4, d15 
A001399C  4000C001		mov.aa a4, a12
A00139A0  8014C0BB		mov.u d8, #0x14C ; FB FRAME BASE 0x14C
A00139A4  8000089B		addih d8, d8, #0x0
A00139A8  46004801		addsc.a a4, a4, d8, #0
A00139AC  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA001133C
A00139B0  C13CFFD9		lea a15,[a15]0x133C
A00139B4  0000000D		nop
A00139B8  00000F2D		calli a15
A00139BC  0104AF09		ld.w d15, [sp+]4

#477		
#478						(* fb_RLS.ssMethodType:=1; *)
#479						LD		1	{L:127}
(*) UNDEF
A00139C0  F000103B		mov d15, #1

#480						ST		fb_RLS.ssMethodType	{L:127}
(*) USINT
A00139C4  801CC0BB		mov.u d8, #0x1CC
A00139C8  F600C801		addsc.a a15, a12, d8, #0
A00139CC  0800FF89		st.b [a15], d15

#481						JMP		$label6
(-) SINT
A00139D0  0382001D		j #0x000382 ; JUMP 0xA00140D4

#482		
#483		$label8:
#484						(* NoiseLevelID_Trj.ENABLE := TRUE; *)
#485						LD		TRUE	{L:130}
(*) UNDEF
A00139D4  F000103B		mov d15, #1

#486						ST		NoiseLevelID_Trj.ENABLE	{L:130}
(*) BOOL
A00139D8  8006C0BB		mov.u d8, #0x6C
A00139DC  F600C801		addsc.a a15, a12, d8, #0
A00139E0  0000FF59		st.w [a15], d15

#487		
#488						(* NoiseLevelID.ENABLE     := TRUE; *)
#489						LD		TRUE	{L:131}
(*) UNDEF
A00139E4  F000103B		mov d15, #1

#490						ST		NoiseLevelID.ENABLE	{L:131}
(*) BOOL
A00139E8  800580BB		mov.u d8, #0x58
A00139EC  F600C801		addsc.a a15, a12, d8, #0
A00139F0  0000FF59		st.w [a15], d15

#491		
#492						(* NoiseLevelID_Trj() *)
#493						CAL		NoiseLevelID_Trj	{L:132}
(*) BOOL
A00139F4  F53CAF89		st.w [-sp]4, d15 
A00139F8  4000C001		mov.aa a4, a12
A00139FC  800680BB		mov.u d8, #0x68 ; FB FRAME BASE 0x68
A0013A00  8000089B		addih d8, d8, #0x0
A0013A04  46004801		addsc.a a4, a4, d8, #0
A0013A08  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010F1C
A0013A0C  C0DCFFD9		lea a15,[a15]0x0F1C
A0013A10  0000000D		nop
A0013A14  00000F2D		calli a15
A0013A18  0104AF09		ld.w d15, [sp+]4

#494		
#495						(* Torque := NoiseLevelID_Trj.TrqRef; *)
#496						LD		NoiseLevelID_Trj.TrqRef	{L:133}
(*) UNDEF
A0013A1C  800740BB		mov.u d8, #0x74
A0013A20  F600C801		addsc.a a15, a12, d8, #0
A0013A24  0000FF19		ld.w d15, [a15]

#497						ST		Torque	{L:133}
(*) REAL
A0013A28  803380BB		mov.u d8, #0x338
A0013A2C  F600C801		addsc.a a15, a12, d8, #0
A0013A30  0000FF59		st.w [a15], d15

#498		
#499						(* NoiseLevelID.signal := Speed; *)
#500						LD		Speed	{L:134}
(*) UNDEF
A0013A34  802F40BB		mov.u d8, #0x2F4
A0013A38  F600C801		addsc.a a15, a12, d8, #0
A0013A3C  0000FF19		ld.w d15, [a15]

#501						ST		NoiseLevelID.signal	{L:134}
(*) REAL
A0013A40  800540BB		mov.u d8, #0x54
A0013A44  F600C801		addsc.a a15, a12, d8, #0
A0013A48  0000FF59		st.w [a15], d15

#502		
#503						(* NoiseLevelID() *)
#504						CAL		NoiseLevelID	{L:135}
(*) REAL
A0013A4C  F53CAF89		st.w [-sp]4, d15 
A0013A50  4000C001		mov.aa a4, a12
A0013A54  800480BB		mov.u d8, #0x48 ; FB FRAME BASE 0x48
A0013A58  8000089B		addih d8, d8, #0x0
A0013A5C  46004801		addsc.a a4, a4, d8, #0
A0013A60  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010DD0
A0013A64  70D0FFD9		lea a15,[a15]0x0DD0
A0013A68  0000000D		nop
A0013A6C  00000F2D		calli a15
A0013A70  0104AF09		ld.w d15, [sp+]4

#505						JMP		$label6
(-) REAL
A0013A74  0330001D		j #0x000330 ; JUMP 0xA00140D4

#506		
#507		$label9:
#508						(* StaticFrictionID_Trj.ENABLE := TRUE; *)
#509						LD		TRUE	{L:139}
(*) UNDEF
A0013A78  F000103B		mov d15, #1

#510						ST		StaticFrictionID_Trj.ENABLE	{L:139}
(*) BOOL
A0013A7C  800D00BB		mov.u d8, #0xD0
A0013A80  F600C801		addsc.a a15, a12, d8, #0
A0013A84  0000FF59		st.w [a15], d15

#511		
#512						(* StaticFrictionID.ENABLE     := TRUE; *)
#513						LD		TRUE	{L:140}
(*) UNDEF
A0013A88  F000103B		mov d15, #1

#514						ST		StaticFrictionID.ENABLE	{L:140}
(*) BOOL
A0013A8C  800AC0BB		mov.u d8, #0xAC
A0013A90  F600C801		addsc.a a15, a12, d8, #0
A0013A94  0000FF59		st.w [a15], d15

#515		
#516						(* StaticFrictionID_Trj() *)
#517						CAL		StaticFrictionID_Trj	{L:141}
(*) BOOL
A0013A98  F53CAF89		st.w [-sp]4, d15 
A0013A9C  4000C001		mov.aa a4, a12
A0013AA0  800C00BB		mov.u d8, #0xC0 ; FB FRAME BASE 0xC0
A0013AA4  8000089B		addih d8, d8, #0x0
A0013AA8  46004801		addsc.a a4, a4, d8, #0
A0013AAC  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011108
A0013AB0  4108FFD9		lea a15,[a15]0x1108
A0013AB4  0000000D		nop
A0013AB8  00000F2D		calli a15
A0013ABC  0104AF09		ld.w d15, [sp+]4

#518		
#519						(* Torque := StaticFrictionID_Trj.TrqRef; *)
#520						LD		StaticFrictionID_Trj.TrqRef	{L:142}
(*) UNDEF
A0013AC0  800E00BB		mov.u d8, #0xE0
A0013AC4  F600C801		addsc.a a15, a12, d8, #0
A0013AC8  0000FF19		ld.w d15, [a15]

#521						ST		Torque	{L:142}
(*) REAL
A0013ACC  803380BB		mov.u d8, #0x338
A0013AD0  F600C801		addsc.a a15, a12, d8, #0
A0013AD4  0000FF59		st.w [a15], d15

#522		
#523						(* StaticFrictionID.input      := Torque; *)
#524						LD		Torque	{L:143}
(*) UNDEF
A0013AD8  803380BB		mov.u d8, #0x338
A0013ADC  F600C801		addsc.a a15, a12, d8, #0
A0013AE0  0000FF19		ld.w d15, [a15]

#525						ST		StaticFrictionID.input	{L:143}
(*) REAL
A0013AE4  800A40BB		mov.u d8, #0xA4
A0013AE8  F600C801		addsc.a a15, a12, d8, #0
A0013AEC  0000FF59		st.w [a15], d15

#526		
#527						(* StaticFrictionID.output     := Speed; *)
#528						LD		Speed	{L:144}
(*) UNDEF
A0013AF0  802F40BB		mov.u d8, #0x2F4
A0013AF4  F600C801		addsc.a a15, a12, d8, #0
A0013AF8  0000FF19		ld.w d15, [a15]

#529						ST		StaticFrictionID.output	{L:144}
(*) REAL
A0013AFC  800A80BB		mov.u d8, #0xA8
A0013B00  F600C801		addsc.a a15, a12, d8, #0
A0013B04  0000FF59		st.w [a15], d15

#530		
#531						(* StaticFrictionID.noiseLevel := noiseLevel; *)
#532						LD		noiseLevel	{L:145}
(*) UNDEF
A0013B08  803440BB		mov.u d8, #0x344
A0013B0C  F600C801		addsc.a a15, a12, d8, #0
A0013B10  0000FF19		ld.w d15, [a15]

#533						ST		StaticFrictionID.noiseLevel	{L:145}
(*) REAL
A0013B14  800B40BB		mov.u d8, #0xB4
A0013B18  F600C801		addsc.a a15, a12, d8, #0
A0013B1C  0000FF59		st.w [a15], d15

#534		
#535						(* StaticFrictionID() *)
#536						CAL		StaticFrictionID	{L:146}
(*) REAL
A0013B20  F53CAF89		st.w [-sp]4, d15 
A0013B24  4000C001		mov.aa a4, a12
A0013B28  800900BB		mov.u d8, #0x90 ; FB FRAME BASE 0x90
A0013B2C  8000089B		addih d8, d8, #0x0
A0013B30  46004801		addsc.a a4, a4, d8, #0
A0013B34  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010F88
A0013B38  E0C8FFD9		lea a15,[a15]0x0F88
A0013B3C  0000000D		nop
A0013B40  00000F2D		calli a15
A0013B44  0104AF09		ld.w d15, [sp+]4

#537						JMP		$label6
(-) REAL
A0013B48  02C6001D		j #0x0002C6 ; JUMP 0xA00140D4

#538		
#539		$label10:
#540						(* fb_RLS.y	:=	Torque - staticFriction* TANH(10.0*Speed); *)
#541						LD		10.0	{L:151}
(*) UNDEF
A0013B4C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 10.000000
A0013B50  F4120F9B		addih d15, d15, #0x4120

#542						MUL		Speed	{L:151}
(*) REAL
A0013B54  802F40BB		mov.u d8, #0x2F4
A0013B58  F600C801		addsc.a a15, a12, d8, #0
A0013B5C  0000F819		ld.w d8, [a15]
A0013B60  F0418F4B		mul.f d15, d15, d8

#543						TANH	{L:151}
(*) REAL
A0013B64  41F0F00B		mov d4, d15
A0013B68  F8009091		movh.a a15, #0x8009 ; _do_tanh AT 0x80091A90
A0013B6C  A190FFD9		lea a15,[a15]0x1A90
A0013B70  0000000D		nop
A0013B74  00000F2D		calli a15
A0013B78  F1F0200B		mov d15, d2

#544						MUL		staticFriction	{L:151}
(*) REAL
A0013B7C  8033C0BB		mov.u d8, #0x33C
A0013B80  F600C801		addsc.a a15, a12, d8, #0
A0013B84  0000F819		ld.w d8, [a15]
A0013B88  F0418F4B		mul.f d15, d15, d8

#545						ST		$$TMP12	{L:151}
(*) REAL
A0013B8C  802C00BB		mov.u d8, #0x2C0
A0013B90  F600C801		addsc.a a15, a12, d8, #0
A0013B94  0000FF59		st.w [a15], d15

#546						LD		Torque	{L:151}
(*) UNDEF
A0013B98  803380BB		mov.u d8, #0x338
A0013B9C  F600C801		addsc.a a15, a12, d8, #0
A0013BA0  0000FF19		ld.w d15, [a15]

#547						SUB		$$TMP12	{L:151}
(*) REAL
A0013BA4  802C00BB		mov.u d8, #0x2C0
A0013BA8  F600C801		addsc.a a15, a12, d8, #0
A0013BAC  0000F819		ld.w d8, [a15]
A0013BB0  FF31086B		sub.f d15, d15, d8

#548						ST		fb_RLS.y	{L:151}
(*) REAL
A0013BB4  801BC0BB		mov.u d8, #0x1BC
A0013BB8  F600C801		addsc.a a15, a12, d8, #0
A0013BBC  0000FF59		st.w [a15], d15

#549		
#550						(* fb_RLS.vel	:=	Speed; *)
#551						LD		Speed	{L:152}
(*) UNDEF
A0013BC0  802F40BB		mov.u d8, #0x2F4
A0013BC4  F600C801		addsc.a a15, a12, d8, #0
A0013BC8  0000FF19		ld.w d15, [a15]

#552						ST		fb_RLS.vel	{L:152}
(*) REAL
A0013BCC  801C00BB		mov.u d8, #0x1C0
A0013BD0  F600C801		addsc.a a15, a12, d8, #0
A0013BD4  0000FF59		st.w [a15], d15

#553		
#554						(* fb_RLS() *)
#555						CAL		fb_RLS	{L:153}
(*) REAL
A0013BD8  F53CAF89		st.w [-sp]4, d15 
A0013BDC  4000C001		mov.aa a4, a12
A0013BE0  8014C0BB		mov.u d8, #0x14C ; FB FRAME BASE 0x14C
A0013BE4  8000089B		addih d8, d8, #0x0
A0013BE8  46004801		addsc.a a4, a4, d8, #0
A0013BEC  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA001133C
A0013BF0  C13CFFD9		lea a15,[a15]0x133C
A0013BF4  0000000D		nop
A0013BF8  00000F2D		calli a15
A0013BFC  0104AF09		ld.w d15, [sp+]4

#556		
#557						(* OL_trj_generator.vel	:= Speed; *)
#558						LD		Speed	{L:154}
(*) UNDEF
A0013C00  802F40BB		mov.u d8, #0x2F4
A0013C04  F600C801		addsc.a a15, a12, d8, #0
A0013C08  0000FF19		ld.w d15, [a15]

#559						ST		OL_trj_generator.vel	{L:154}
(*) REAL
A0013C0C  8011C0BB		mov.u d8, #0x11C
A0013C10  F600C801		addsc.a a15, a12, d8, #0
A0013C14  0000FF59		st.w [a15], d15

#560		
#561						(* OL_trj_generator.pos	:= Position; *)
#562						LD		Position	{L:155}
(*) UNDEF
A0013C18  802F80BB		mov.u d8, #0x2F8
A0013C1C  F600C801		addsc.a a15, a12, d8, #0
A0013C20  0000FF19		ld.w d15, [a15]

#563						ST		OL_trj_generator.pos	{L:155}
(*) REAL
A0013C24  801200BB		mov.u d8, #0x120
A0013C28  F600C801		addsc.a a15, a12, d8, #0
A0013C2C  0000FF59		st.w [a15], d15

#564		
#565						(* OL_trj_generator() *)
#566						CAL		OL_trj_generator	{L:156}
(*) REAL
A0013C30  F53CAF89		st.w [-sp]4, d15 
A0013C34  4000C001		mov.aa a4, a12
A0013C38  800E40BB		mov.u d8, #0xE4 ; FB FRAME BASE 0xE4
A0013C3C  8000089B		addih d8, d8, #0x0
A0013C40  46004801		addsc.a a4, a4, d8, #0
A0013C44  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA00126B8
A0013C48  A278FFD9		lea a15,[a15]0x26B8
A0013C4C  0000000D		nop
A0013C50  00000F2D		calli a15
A0013C54  0104AF09		ld.w d15, [sp+]4

#567		
#568						(* Torque:=OL_trj_generator.torque; *)
#569						LD		OL_trj_generator.torque	{L:157}
(*) UNDEF
A0013C58  801440BB		mov.u d8, #0x144
A0013C5C  F600C801		addsc.a a15, a12, d8, #0
A0013C60  0000FF19		ld.w d15, [a15]

#570						ST		Torque	{L:157}
(*) REAL
A0013C64  803380BB		mov.u d8, #0x338
A0013C68  F600C801		addsc.a a15, a12, d8, #0
A0013C6C  0000FF59		st.w [a15], d15

#571						JMP		$label6
(-) REAL
A0013C70  0232001D		j #0x000232 ; JUMP 0xA00140D4

#572		
#573		$label11:
#574						(* Time:=Time+Ts; *)
#575						LD		Time	{L:160}
(*) UNDEF
A0013C74  8001C0BB		mov.u d8, #0x1C
A0013C78  F600C801		addsc.a a15, a12, d8, #0
A0013C7C  0000FF19		ld.w d15, [a15]

#576						ADD		Ts	{L:160}
(*) REAL
A0013C80  803080BB		mov.u d8, #0x308
A0013C84  F600C801		addsc.a a15, a12, d8, #0
A0013C88  0000F819		ld.w d8, [a15]
A0013C8C  FF21086B		add.f d15, d15, d8

#577						ST		Time	{L:160}
(*) REAL
A0013C90  8001C0BB		mov.u d8, #0x1C
A0013C94  F600C801		addsc.a a15, a12, d8, #0
A0013C98  0000FF59		st.w [a15], d15

#578		
#579						(* OL_trj_generator.vel	:= Speed; *)
#580						LD		Speed	{L:161}
(*) UNDEF
A0013C9C  802F40BB		mov.u d8, #0x2F4
A0013CA0  F600C801		addsc.a a15, a12, d8, #0
A0013CA4  0000FF19		ld.w d15, [a15]

#581						ST		OL_trj_generator.vel	{L:161}
(*) REAL
A0013CA8  8011C0BB		mov.u d8, #0x11C
A0013CAC  F600C801		addsc.a a15, a12, d8, #0
A0013CB0  0000FF59		st.w [a15], d15

#582		
#583						(* OL_trj_generator.pos	:= Position; *)
#584						LD		Position	{L:162}
(*) UNDEF
A0013CB4  802F80BB		mov.u d8, #0x2F8
A0013CB8  F600C801		addsc.a a15, a12, d8, #0
A0013CBC  0000FF19		ld.w d15, [a15]

#585						ST		OL_trj_generator.pos	{L:162}
(*) REAL
A0013CC0  801200BB		mov.u d8, #0x120
A0013CC4  F600C801		addsc.a a15, a12, d8, #0
A0013CC8  0000FF59		st.w [a15], d15

#586		
#587						(* OL_trj_generator() *)
#588						CAL		OL_trj_generator	{L:163}
(*) REAL
A0013CCC  F53CAF89		st.w [-sp]4, d15 
A0013CD0  4000C001		mov.aa a4, a12
A0013CD4  800E40BB		mov.u d8, #0xE4 ; FB FRAME BASE 0xE4
A0013CD8  8000089B		addih d8, d8, #0x0
A0013CDC  46004801		addsc.a a4, a4, d8, #0
A0013CE0  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA00126B8
A0013CE4  A278FFD9		lea a15,[a15]0x26B8
A0013CE8  0000000D		nop
A0013CEC  00000F2D		calli a15
A0013CF0  0104AF09		ld.w d15, [sp+]4

#589		
#590						(* Torque:=OL_trj_generator.torque; *)
#591						LD		OL_trj_generator.torque	{L:164}
(*) UNDEF
A0013CF4  801440BB		mov.u d8, #0x144
A0013CF8  F600C801		addsc.a a15, a12, d8, #0
A0013CFC  0000FF19		ld.w d15, [a15]

#592						ST		Torque	{L:164}
(*) REAL
A0013D00  803380BB		mov.u d8, #0x338
A0013D04  F600C801		addsc.a a15, a12, d8, #0
A0013D08  0000FF59		st.w [a15], d15

#593						JMP		$label6
(-) REAL
A0013D0C  01E4001D		j #0x0001E4 ; JUMP 0xA00140D4

#594		
#595		$label12:
#596						(* fb_Tune_PID.Jm:=Jm; *)
#597						LD		Jm	{L:166}
(*) UNDEF
A0013D10  803600BB		mov.u d8, #0x360
A0013D14  F600C801		addsc.a a15, a12, d8, #0
A0013D18  0000FF19		ld.w d15, [a15]

#598						ST		fb_Tune_PID.Jm	{L:166}
(*) REAL
A0013D1C  8025C0BB		mov.u d8, #0x25C
A0013D20  F600C801		addsc.a a15, a12, d8, #0
A0013D24  0000FF59		st.w [a15], d15

#599		
#600						(* fb_Tune_PID.Bm:=Bm; *)
#601						LD		Bm	{L:167}
(*) UNDEF
A0013D28  800100BB		mov.u d8, #0x10
A0013D2C  F600C801		addsc.a a15, a12, d8, #0
A0013D30  0000FF19		ld.w d15, [a15]

#602						ST		fb_Tune_PID.Bm	{L:167}
(*) REAL
A0013D34  802600BB		mov.u d8, #0x260
A0013D38  F600C801		addsc.a a15, a12, d8, #0
A0013D3C  0000FF59		st.w [a15], d15

#603		
#604						(* fb_Tune_PID.TUNE:=0; *)
#605						LD		0	{L:168}
(*) UNDEF
A0013D40  F000003B		mov d15, #0

#606						ST		fb_Tune_PID.TUNE	{L:168}
(*) USINT
A0013D44  802640BB		mov.u d8, #0x264
A0013D48  F600C801		addsc.a a15, a12, d8, #0
A0013D4C  0800FF89		st.b [a15], d15

#607		
#608						(* fb_Tune_PID.Wc_vel	:= 	Wc_act; *)
#609						LD		Wc_act	{L:169}
(*) UNDEF
A0013D50  800340BB		mov.u d8, #0x34
A0013D54  F600C801		addsc.a a15, a12, d8, #0
A0013D58  0000FF19		ld.w d15, [a15]

#610						ST		fb_Tune_PID.Wc_vel	{L:169}
(*) REAL
A0013D5C  802580BB		mov.u d8, #0x258
A0013D60  F600C801		addsc.a a15, a12, d8, #0
A0013D64  0000FF59		st.w [a15], d15

#611		
#612						(* Wc_pos:=Wc_act/100.0; *)
#613						LD		Wc_act	{L:170}
(*) UNDEF
A0013D68  800340BB		mov.u d8, #0x34
A0013D6C  F600C801		addsc.a a15, a12, d8, #0
A0013D70  0000FF19		ld.w d15, [a15]

#614						DIV		100.0	{L:170}
(*) REAL
A0013D74  800000BB		mov.u d8, #0x0000 ; COSTREAL 100.000000
A0013D78  842C889B		addih d8, d8, #0x42C8
A0013D7C  F0518F4B		div.f d15, d15, d8

#615						ST		Wc_pos	{L:170}
(*) REAL
A0013D80  800400BB		mov.u d8, #0x40
A0013D84  F600C801		addsc.a a15, a12, d8, #0
A0013D88  0000FF59		st.w [a15], d15

#616		
#617						(* fb_Tune_PID.Wc_pos	:= Wc_pos; *)
#618						LD		Wc_pos	{L:171}
(*) UNDEF
A0013D8C  800400BB		mov.u d8, #0x40
A0013D90  F600C801		addsc.a a15, a12, d8, #0
A0013D94  0000FF19		ld.w d15, [a15]

#619						ST		fb_Tune_PID.Wc_pos	{L:171}
(*) REAL
A0013D98  802540BB		mov.u d8, #0x254
A0013D9C  F600C801		addsc.a a15, a12, d8, #0
A0013DA0  0000FF59		st.w [a15], d15

#620		
#621						(* fb_Tune_PID.phi_m_v := phi_m_v *(PI/180.0); *)
#622						LD		PI	{L:172}
(*) UNDEF
A0013DA4  F0FDB0BB		mov.u d15, #0x0FDB ; COSTREAL 3.141593
A0013DA8  F4049F9B		addih d15, d15, #0x4049

#623						DIV		180.0	{L:172}
(*) REAL
A0013DAC  800000BB		mov.u d8, #0x0000 ; COSTREAL 180.000000
A0013DB0  8433489B		addih d8, d8, #0x4334
A0013DB4  F0518F4B		div.f d15, d15, d8

#624						MUL		phi_m_v	{L:172}
(*) REAL
A0013DB8  803100BB		mov.u d8, #0x310
A0013DBC  F600C801		addsc.a a15, a12, d8, #0
A0013DC0  0000F819		ld.w d8, [a15]
A0013DC4  F0418F4B		mul.f d15, d15, d8

#625						ST		fb_Tune_PID.phi_m_v	{L:172}
(*) REAL
A0013DC8  8024C0BB		mov.u d8, #0x24C
A0013DCC  F600C801		addsc.a a15, a12, d8, #0
A0013DD0  0000FF59		st.w [a15], d15

#626		
#627						(* fb_Tune_PID.phi_m_p	:= phi_m_p *(PI/180.0); *)
#628						LD		PI	{L:173}
(*) UNDEF
A0013DD4  F0FDB0BB		mov.u d15, #0x0FDB ; COSTREAL 3.141593
A0013DD8  F4049F9B		addih d15, d15, #0x4049

#629						DIV		180.0	{L:173}
(*) REAL
A0013DDC  800000BB		mov.u d8, #0x0000 ; COSTREAL 180.000000
A0013DE0  8433489B		addih d8, d8, #0x4334
A0013DE4  F0518F4B		div.f d15, d15, d8

#630						MUL		phi_m_p	{L:173}
(*) REAL
A0013DE8  803140BB		mov.u d8, #0x314
A0013DEC  F600C801		addsc.a a15, a12, d8, #0
A0013DF0  0000F819		ld.w d8, [a15]
A0013DF4  F0418F4B		mul.f d15, d15, d8

#631						ST		fb_Tune_PID.phi_m_p	{L:173}
(*) REAL
A0013DF8  802500BB		mov.u d8, #0x250
A0013DFC  F600C801		addsc.a a15, a12, d8, #0
A0013E00  0000FF59		st.w [a15], d15

#632		
#633						(* fb_Tune_PID() *)
#634						CAL		fb_Tune_PID	{L:174}
(*) REAL
A0013E04  F53CAF89		st.w [-sp]4, d15 
A0013E08  4000C001		mov.aa a4, a12
A0013E0C  801DC0BB		mov.u d8, #0x1DC ; FB FRAME BASE 0x1DC
A0013E10  8000089B		addih d8, d8, #0x0
A0013E14  46004801		addsc.a a4, a4, d8, #0
A0013E18  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011B94
A0013E1C  E194FFD9		lea a15,[a15]0x1B94
A0013E20  0000000D		nop
A0013E24  00000F2D		calli a15
A0013E28  0104AF09		ld.w d15, [sp+]4

#635		
#636						(* Vel_SP:=0.0; *)
#637						LD		0.0	{L:175}
(*) UNDEF
A0013E2C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0013E30  F0000F9B		addih d15, d15, #0x0000

#638						ST		Vel_SP	{L:175}
(*) REAL
A0013E34  803580BB		mov.u d8, #0x358
A0013E38  F600C801		addsc.a a15, a12, d8, #0
A0013E3C  0000FF59		st.w [a15], d15

#639		
#640		
#641						(* IF TUNE_LOW_VEL *)
#642						LD		TUNE_LOW_VEL	{L:177}
(*) UNDEF
A0013E40  803640BB		mov.u d8, #0x364
A0013E44  F600C801		addsc.a a15, a12, d8, #0
A0013E48  0000FF19		ld.w d15, [a15]

#643						JMPCN	$label19	{L:177}
(-) BOOL
A0013E4C  001C0FDF		jeq d15, #0, #0x001C ; JUMP 0xA0013E84

#644		
#645						(* THEN *)
#646		
#647							(* Kp_v:=fb_Tune_PID.kp_v; *)
#648							LD		fb_Tune_PID.kp_v	{L:178}
(*) UNDEF
A0013E50  8026C0BB		mov.u d8, #0x26C
A0013E54  F600C801		addsc.a a15, a12, d8, #0
A0013E58  0000FF19		ld.w d15, [a15]

#649							ST		Kp_v	{L:178}
(*) REAL
A0013E5C  803480BB		mov.u d8, #0x348
A0013E60  F600C801		addsc.a a15, a12, d8, #0
A0013E64  0000FF59		st.w [a15], d15

#650		
#651							(* Ti_v:=fb_Tune_PID.ti_v; *)
#652							LD		fb_Tune_PID.ti_v	{L:179}
(*) UNDEF
A0013E68  802680BB		mov.u d8, #0x268
A0013E6C  F600C801		addsc.a a15, a12, d8, #0
A0013E70  0000FF19		ld.w d15, [a15]

#653							ST		Ti_v	{L:179}
(*) REAL
A0013E74  803500BB		mov.u d8, #0x350
A0013E78  F600C801		addsc.a a15, a12, d8, #0
A0013E7C  0000FF59		st.w [a15], d15

#654							JMP		$label20
(-) REAL
A0013E80  00B4001D		j #0x0000B4 ; JUMP 0xA0013FE8

#655		$label19:
#656		
#657						(* ELSE *)
#658		
#659							(* aux:=FLOOR(fb_Tune_PID.kp_v/Kp_v*100.0); *)
#660							LD		fb_Tune_PID.kp_v	{L:181}
(*) UNDEF
A0013E84  8026C0BB		mov.u d8, #0x26C
A0013E88  F600C801		addsc.a a15, a12, d8, #0
A0013E8C  0000FF19		ld.w d15, [a15]

#661							DIV		Kp_v	{L:181}
(*) REAL
A0013E90  803480BB		mov.u d8, #0x348
A0013E94  F600C801		addsc.a a15, a12, d8, #0
A0013E98  0000F819		ld.w d8, [a15]
A0013E9C  F0518F4B		div.f d15, d15, d8

#662							MUL		100.0	{L:181}
(*) REAL
A0013EA0  800000BB		mov.u d8, #0x0000 ; COSTREAL 100.000000
A0013EA4  842C889B		addih d8, d8, #0x42C8
A0013EA8  F0418F4B		mul.f d15, d15, d8

#663							FLOOR	{L:181}
(*) REAL
A0013EAC  41F0F00B		mov d4, d15
A0013EB0  F8009091		movh.a a15, #0x8009 ; _do_floor AT 0x80091CA8
A0013EB4  21E8FFD9		lea a15,[a15]0x1CA8
A0013EB8  0000000D		nop
A0013EBC  00000F2D		calli a15
A0013EC0  F1F0200B		mov d15, d2

#664							ST		aux	{L:181}
(*) REAL
A0013EC4  8000C0BB		mov.u d8, #0xC
A0013EC8  F600C801		addsc.a a15, a12, d8, #0
A0013ECC  0000FF59		st.w [a15], d15

#665		
#666							(* Kp_high_vel_perc:=TO_INT(FLOOR(fb_Tune_PID.kp_v/Kp_v*100.0)); *)
#667							LD		fb_Tune_PID.kp_v	{L:182}
(*) UNDEF
A0013ED0  8026C0BB		mov.u d8, #0x26C
A0013ED4  F600C801		addsc.a a15, a12, d8, #0
A0013ED8  0000FF19		ld.w d15, [a15]

#668							DIV		Kp_v	{L:182}
(*) REAL
A0013EDC  803480BB		mov.u d8, #0x348
A0013EE0  F600C801		addsc.a a15, a12, d8, #0
A0013EE4  0000F819		ld.w d8, [a15]
A0013EE8  F0518F4B		div.f d15, d15, d8

#669							MUL		100.0	{L:182}
(*) REAL
A0013EEC  800000BB		mov.u d8, #0x0000 ; COSTREAL 100.000000
A0013EF0  842C889B		addih d8, d8, #0x42C8
A0013EF4  F0418F4B		mul.f d15, d15, d8

#670							FLOOR	{L:182}
(*) REAL
A0013EF8  41F0F00B		mov d4, d15
A0013EFC  F8009091		movh.a a15, #0x8009 ; _do_floor AT 0x80091CA8
A0013F00  21E8FFD9		lea a15,[a15]0x1CA8
A0013F04  0000000D		nop
A0013F08  00000F2D		calli a15
A0013F0C  F1F0200B		mov d15, d2

#671							TO_INT	{L:182}
(*) REAL
A0013F10  F1010F4B		ftoi d15, d15

#672							ST		Kp_high_vel_perc	{L:182}
(*) INT
A0013F14  803680BB		mov.u d8, #0x368
A0013F18  F600C801		addsc.a a15, a12, d8, #0
A0013F1C  0880FF89		st.h [a15], d15

#673		
#674							(* Ti_high_vel_perc := TO_INT(FLOOR( (Kp_v / Ti_v) / ( fb_Tune_PID.kp_v/fb_Tune_PID.ti_v ) * 100.0 )); *)
#675							LD		Kp_v	{L:183}
(*) UNDEF
A0013F20  803480BB		mov.u d8, #0x348
A0013F24  F600C801		addsc.a a15, a12, d8, #0
A0013F28  0000FF19		ld.w d15, [a15]

#676							DIV		Ti_v	{L:183}
(*) REAL
A0013F2C  803500BB		mov.u d8, #0x350
A0013F30  F600C801		addsc.a a15, a12, d8, #0
A0013F34  0000F819		ld.w d8, [a15]
A0013F38  F0518F4B		div.f d15, d15, d8

#677							ST		$$TMP13	{L:183}
(*) REAL
A0013F3C  802C40BB		mov.u d8, #0x2C4
A0013F40  F600C801		addsc.a a15, a12, d8, #0
A0013F44  0000FF59		st.w [a15], d15

#678							LD		fb_Tune_PID.kp_v	{L:183}
(*) UNDEF
A0013F48  8026C0BB		mov.u d8, #0x26C
A0013F4C  F600C801		addsc.a a15, a12, d8, #0
A0013F50  0000FF19		ld.w d15, [a15]

#679							DIV		fb_Tune_PID.ti_v	{L:183}
(*) REAL
A0013F54  802680BB		mov.u d8, #0x268
A0013F58  F600C801		addsc.a a15, a12, d8, #0
A0013F5C  0000F819		ld.w d8, [a15]
A0013F60  F0518F4B		div.f d15, d15, d8

#680							ST		$$TMP14	{L:183}
(*) REAL
A0013F64  802C80BB		mov.u d8, #0x2C8
A0013F68  F600C801		addsc.a a15, a12, d8, #0
A0013F6C  0000FF59		st.w [a15], d15

#681							LD		$$TMP13	{L:183}
(*) UNDEF
A0013F70  802C40BB		mov.u d8, #0x2C4
A0013F74  F600C801		addsc.a a15, a12, d8, #0
A0013F78  0000FF19		ld.w d15, [a15]

#682							DIV		$$TMP14	{L:183}
(*) REAL
A0013F7C  802C80BB		mov.u d8, #0x2C8
A0013F80  F600C801		addsc.a a15, a12, d8, #0
A0013F84  0000F819		ld.w d8, [a15]
A0013F88  F0518F4B		div.f d15, d15, d8

#683							MUL		100.0	{L:183}
(*) REAL
A0013F8C  800000BB		mov.u d8, #0x0000 ; COSTREAL 100.000000
A0013F90  842C889B		addih d8, d8, #0x42C8
A0013F94  F0418F4B		mul.f d15, d15, d8

#684							FLOOR	{L:183}
(*) REAL
A0013F98  41F0F00B		mov d4, d15
A0013F9C  F8009091		movh.a a15, #0x8009 ; _do_floor AT 0x80091CA8
A0013FA0  21E8FFD9		lea a15,[a15]0x1CA8
A0013FA4  0000000D		nop
A0013FA8  00000F2D		calli a15
A0013FAC  F1F0200B		mov d15, d2

#685							TO_INT	{L:183}
(*) REAL
A0013FB0  F1010F4B		ftoi d15, d15

#686							ST		Ti_high_vel_perc	{L:183}
(*) INT
A0013FB4  8036A0BB		mov.u d8, #0x36A
A0013FB8  F600C801		addsc.a a15, a12, d8, #0
A0013FBC  0880FF89		st.h [a15], d15

#687		
#688		
#689							(* IF Ti_high_vel_perc > 400 *)
#690							LD		Ti_high_vel_perc	{L:184}
(*) UNDEF
A0013FC0  8036A0BB		mov.u d8, #0x36A
A0013FC4  F600C801		addsc.a a15, a12, d8, #0
A0013FC8  0880FF09		ld.h d15, [a15]

#691							GT		400	{L:184}
(*) INT
A0013FCC  8019003B		mov d8, #400
A0013FD0  F120F80B		lt d15, d8, d15

#692							JMPCN	$label21	{L:184}
(-) BOOL
A0013FD4  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA0013FE8

#693		
#694							(* THEN *)
#695		
#696								(* Ti_high_vel_perc := 400; *)
#697								LD		400	{L:185}
(*) UNDEF
A0013FD8  F019003B		mov d15, #400

#698								ST		Ti_high_vel_perc	{L:185}
(*) UINT
A0013FDC  8036A0BB		mov.u d8, #0x36A
A0013FE0  F600C801		addsc.a a15, a12, d8, #0
A0013FE4  0880FF89		st.h [a15], d15

#699		
#700		$label21:
#701							(* END_IF *)
#702		
#703		$label20:
#704						(* END_IF *)
#705		
#706						(* UPDATE_PARAMETERS:=TRUE; *)
#707						LD		TRUE	{L:189}
(*) UNDEF
A0013FE8  F000103B		mov d15, #1

#708						ST		UPDATE_PARAMETERS	{L:189}
(*) BOOL
A0013FEC  8035C0BB		mov.u d8, #0x35C
A0013FF0  F600C801		addsc.a a15, a12, d8, #0
A0013FF4  0000FF59		st.w [a15], d15

#709						JMP		$label6
(-) BOOL
A0013FF8  006E001D		j #0x00006E ; JUMP 0xA00140D4

#710		
#711		$label13:
#712						(* Vel_SP:=0.0; *)
#713						LD		0.0	{L:191}
(*) UNDEF
A0013FFC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014000  F0000F9B		addih d15, d15, #0x0000

#714						ST		Vel_SP	{L:191}
(*) REAL
A0014004  803580BB		mov.u d8, #0x358
A0014008  F600C801		addsc.a a15, a12, d8, #0
A001400C  0000FF59		st.w [a15], d15

#715						JMP		$label6
(-) REAL
A0014010  0062001D		j #0x000062 ; JUMP 0xA00140D4

#716		
#717		$label14:
#718						JMP		$label6
(-) REAL
A0014014  0060001D		j #0x000060 ; JUMP 0xA00140D4

#719		
#720		$label15:
#721						JMP		$label6
(-) REAL
A0014018  005E001D		j #0x00005E ; JUMP 0xA00140D4

#722		
#723		$label16:
#724						(* fb_VARIANCE.INPUT:=Torque_ref; *)
#725						LD		Torque_ref	{L:197}
(*) UNDEF
A001401C  8031C0BB		mov.u d8, #0x31C
A0014020  F600C801		addsc.a a15, a12, d8, #0
A0014024  0000FF19		ld.w d15, [a15]

#726						ST		fb_VARIANCE.INPUT	{L:197}
(*) REAL
A0014028  8029C0BB		mov.u d8, #0x29C
A001402C  F600C801		addsc.a a15, a12, d8, #0
A0014030  0000FF59		st.w [a15], d15

#727		
#728						(* fb_VARIANCE() *)
#729						CAL		fb_VARIANCE	{L:198}
(*) REAL
A0014034  F53CAF89		st.w [-sp]4, d15 
A0014038  4000C001		mov.aa a4, a12
A001403C  802800BB		mov.u d8, #0x280 ; FB FRAME BASE 0x280
A0014040  8000089B		addih d8, d8, #0x0
A0014044  46004801		addsc.a a4, a4, d8, #0
A0014048  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0012460
A001404C  1260FFD9		lea a15,[a15]0x2460
A0014050  0000000D		nop
A0014054  00000F2D		calli a15
A0014058  0104AF09		ld.w d15, [sp+]4

#730						JMP		$label6
(-) REAL
A001405C  003C001D		j #0x00003C ; JUMP 0xA00140D4

#731		
#732		$label17:
#733						(* Vel_SP:=0.0; *)
#734						LD		0.0	{L:200}
(*) UNDEF
A0014060  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014064  F0000F9B		addih d15, d15, #0x0000

#735						ST		Vel_SP	{L:200}
(*) REAL
A0014068  803580BB		mov.u d8, #0x358
A001406C  F600C801		addsc.a a15, a12, d8, #0
A0014070  0000FF59		st.w [a15], d15

#736		
#737						(* Torque:=0.0; *)
#738						LD		0.0	{L:201}
(*) UNDEF
A0014074  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014078  F0000F9B		addih d15, d15, #0x0000

#739						ST		Torque	{L:201}
(*) REAL
A001407C  803380BB		mov.u d8, #0x338
A0014080  F600C801		addsc.a a15, a12, d8, #0
A0014084  0000FF59		st.w [a15], d15

#740		
#741						(* END:=TRUE; *)
#742						LD		TRUE	{L:202}
(*) UNDEF
A0014088  F000103B		mov d15, #1

#743						ST		END	{L:202}
(*) BOOL
A001408C  803340BB		mov.u d8, #0x334
A0014090  F600C801		addsc.a a15, a12, d8, #0
A0014094  0000FF59		st.w [a15], d15

#744						JMP		$label6
(-) BOOL
A0014098  001E001D		j #0x00001E ; JUMP 0xA00140D4

#745		
#746		$label18:
#747						(* Vel_SP:=0.0; *)
#748						LD		0.0	{L:208}
(*) UNDEF
A001409C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00140A0  F0000F9B		addih d15, d15, #0x0000

#749						ST		Vel_SP	{L:208}
(*) REAL
A00140A4  803580BB		mov.u d8, #0x358
A00140A8  F600C801		addsc.a a15, a12, d8, #0
A00140AC  0000FF59		st.w [a15], d15

#750		
#751						(* Torque:=0.0; *)
#752						LD		0.0	{L:209}
(*) UNDEF
A00140B0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00140B4  F0000F9B		addih d15, d15, #0x0000

#753						ST		Torque	{L:209}
(*) REAL
A00140B8  803380BB		mov.u d8, #0x338
A00140BC  F600C801		addsc.a a15, a12, d8, #0
A00140C0  0000FF59		st.w [a15], d15

#754		
#755						(* END:=TRUE; *)
#756						LD		TRUE	{L:210}
(*) UNDEF
A00140C4  F000103B		mov d15, #1

#757						ST		END	{L:210}
(*) BOOL
A00140C8  803340BB		mov.u d8, #0x334
A00140CC  F600C801		addsc.a a15, a12, d8, #0
A00140D0  0000FF59		st.w [a15], d15

#758		$label6:
#759		
#760					(* END_CASE *)
#761		
#762		
#763					(* CASE state OF *)
#764		
#765					(* 100: *)
#766					LD		state	{L:215}
(*) UNDEF
A00140D4  803400BB		mov.u d8, #0x340
A00140D8  F600C801		addsc.a a15, a12, d8, #0
A00140DC  0840FF09		ld.bu d15, [a15]

#767					EQ		100	{L:215}
(*) USINT
A00140E0  8006403B		mov d8, #100
A00140E4  F1008F0B		eq d15, d15, d8

#768					JMPC	$label23
(-) BOOL
A00140E8  80B80FDF		jne d15, #0, #0x00B8 ; JUMP 0xA0014258

#769		
#770					(* 0: *)
#771					LD		state	{L:222}
(*) UNDEF
A00140EC  803400BB		mov.u d8, #0x340
A00140F0  F600C801		addsc.a a15, a12, d8, #0
A00140F4  0840FF09		ld.bu d15, [a15]

#772					EQ		0	{L:222}
(*) USINT
A00140F8  8000003B		mov d8, #0
A00140FC  F1008F0B		eq d15, d15, d8

#773					JMPC	$label24
(-) BOOL
A0014100  81160FDF		jne d15, #0, #0x0116 ; JUMP 0xA001432C

#774		
#775					(* 1: *)
#776					LD		state	{L:250}
(*) UNDEF
A0014104  803400BB		mov.u d8, #0x340
A0014108  F600C801		addsc.a a15, a12, d8, #0
A001410C  0840FF09		ld.bu d15, [a15]

#777					EQ		1	{L:250}
(*) USINT
A0014110  8000103B		mov d8, #1
A0014114  F1008F0B		eq d15, d15, d8

#778					JMPC	$label25
(-) BOOL
A0014118  81E60FDF		jne d15, #0, #0x01E6 ; JUMP 0xA00144E4

#779		
#780					(* 2: *)
#781					LD		state	{L:294}
(*) UNDEF
A001411C  803400BB		mov.u d8, #0x340
A0014120  F600C801		addsc.a a15, a12, d8, #0
A0014124  0840FF09		ld.bu d15, [a15]

#782					EQ		2	{L:294}
(*) USINT
A0014128  8000203B		mov d8, #2
A001412C  F1008F0B		eq d15, d15, d8

#783					JMPC	$label26
(-) BOOL
A0014130  83800FDF		jne d15, #0, #0x0380 ; JUMP 0xA0014830

#784		
#785					(* 3: *)
#786					LD		state	{L:300}
(*) UNDEF
A0014134  803400BB		mov.u d8, #0x340
A0014138  F600C801		addsc.a a15, a12, d8, #0
A001413C  0840FF09		ld.bu d15, [a15]

#787					EQ		3	{L:300}
(*) USINT
A0014140  8000303B		mov d8, #3
A0014144  F1008F0B		eq d15, d15, d8

#788					JMPC	$label27
(-) BOOL
A0014148  83A20FDF		jne d15, #0, #0x03A2 ; JUMP 0xA001488C

#789		
#790					(* 4: *)
#791					LD		state	{L:322}
(*) UNDEF
A001414C  803400BB		mov.u d8, #0x340
A0014150  F600C801		addsc.a a15, a12, d8, #0
A0014154  0840FF09		ld.bu d15, [a15]

#792					EQ		4	{L:322}
(*) USINT
A0014158  8000403B		mov d8, #4
A001415C  F1008F0B		eq d15, d15, d8

#793					JMPC	$label28
(-) BOOL
A0014160  84360FDF		jne d15, #0, #0x0436 ; JUMP 0xA00149CC

#794		
#795					(* 5: *)
#796					LD		state	{L:330}
(*) UNDEF
A0014164  803400BB		mov.u d8, #0x340
A0014168  F600C801		addsc.a a15, a12, d8, #0
A001416C  0840FF09		ld.bu d15, [a15]

#797					EQ		5	{L:330}
(*) USINT
A0014170  8000503B		mov d8, #5
A0014174  F1008F0B		eq d15, d15, d8

#798					JMPC	$label29
(-) BOOL
A0014178  84600FDF		jne d15, #0, #0x0460 ; JUMP 0xA0014A38

#799		
#800					(* 6: *)
#801					LD		state	{L:349}
(*) UNDEF
A001417C  803400BB		mov.u d8, #0x340
A0014180  F600C801		addsc.a a15, a12, d8, #0
A0014184  0840FF09		ld.bu d15, [a15]

#802					EQ		6	{L:349}
(*) USINT
A0014188  8000603B		mov d8, #6
A001418C  F1008F0B		eq d15, d15, d8

#803					JMPC	$label30
(-) BOOL
A0014190  85FC0FDF		jne d15, #0, #0x05FC ; JUMP 0xA0014D88

#804		
#805					(* 7: *)
#806					LD		state	{L:384}
(*) UNDEF
A0014194  803400BB		mov.u d8, #0x340
A0014198  F600C801		addsc.a a15, a12, d8, #0
A001419C  0840FF09		ld.bu d15, [a15]

#807					EQ		7	{L:384}
(*) USINT
A00141A0  8000703B		mov d8, #7
A00141A4  F1008F0B		eq d15, d15, d8

#808					JMPC	$label31
(-) BOOL
A00141A8  882A0FDF		jne d15, #0, #0x082A ; JUMP 0xA00151FC

#809		
#810					(* 8: *)
#811					LD		state	{L:394}
(*) UNDEF
A00141AC  803400BB		mov.u d8, #0x340
A00141B0  F600C801		addsc.a a15, a12, d8, #0
A00141B4  0840FF09		ld.bu d15, [a15]

#812					EQ		8	{L:394}
(*) USINT
A00141B8  8000803B		mov d8, #8
A00141BC  F1008F0B		eq d15, d15, d8

#813					JMPC	$label32
(-) BOOL
A00141C0  89140FDF		jne d15, #0, #0x0914 ; JUMP 0xA00153E8

#814		
#815					(* 9: *)
#816					LD		state	{L:413}
(*) UNDEF
A00141C4  803400BB		mov.u d8, #0x340
A00141C8  F600C801		addsc.a a15, a12, d8, #0
A00141CC  0840FF09		ld.bu d15, [a15]

#817					EQ		9	{L:413}
(*) USINT
A00141D0  8000903B		mov d8, #9
A00141D4  F1008F0B		eq d15, d15, d8

#818					JMPC	$label33
(-) BOOL
A00141D8  89E60FDF		jne d15, #0, #0x09E6 ; JUMP 0xA00155A4

#819		
#820					(* 10: *)
#821					LD		state	{L:426}
(*) UNDEF
A00141DC  803400BB		mov.u d8, #0x340
A00141E0  F600C801		addsc.a a15, a12, d8, #0
A00141E4  0840FF09		ld.bu d15, [a15]

#822					EQ		10	{L:426}
(*) USINT
A00141E8  8000A03B		mov d8, #10
A00141EC  F1008F0B		eq d15, d15, d8

#823					JMPC	$label34
(-) BOOL
A00141F0  8A380FDF		jne d15, #0, #0x0A38 ; JUMP 0xA0015660

#824		
#825					(* 11: *)
#826					LD		state	{L:456}
(*) UNDEF
A00141F4  803400BB		mov.u d8, #0x340
A00141F8  F600C801		addsc.a a15, a12, d8, #0
A00141FC  0840FF09		ld.bu d15, [a15]

#827					EQ		11	{L:456}
(*) USINT
A0014200  8000B03B		mov d8, #11
A0014204  F1008F0B		eq d15, d15, d8

#828					JMPC	$label35
(-) BOOL
A0014208  8C920FDF		jne d15, #0, #0x0C92 ; JUMP 0xA0015B2C

#829		
#830					(* 12: *)
#831					LD		state	{L:484}
(*) UNDEF
A001420C  803400BB		mov.u d8, #0x340
A0014210  F600C801		addsc.a a15, a12, d8, #0
A0014214  0840FF09		ld.bu d15, [a15]

#832					EQ		12	{L:484}
(*) USINT
A0014218  8000C03B		mov d8, #12
A001421C  F1008F0B		eq d15, d15, d8

#833					JMPC	$label36
(-) BOOL
A0014220  8E560FDF		jne d15, #0, #0x0E56 ; JUMP 0xA0015ECC

#834		
#835					(* 13: *)
#836					LD		state	{L:494}
(*) UNDEF
A0014224  803400BB		mov.u d8, #0x340
A0014228  F600C801		addsc.a a15, a12, d8, #0
A001422C  0840FF09		ld.bu d15, [a15]

#837					EQ		13	{L:494}
(*) USINT
A0014230  8000D03B		mov d8, #13
A0014234  F1008F0B		eq d15, d15, d8

#838					JMPC	$label37
(-) BOOL
A0014238  8F400FDF		jne d15, #0, #0x0F40 ; JUMP 0xA00160B8

#839		
#840					(* 14: *)
#841					LD		state	{L:513}
(*) UNDEF
A001423C  803400BB		mov.u d8, #0x340
A0014240  F600C801		addsc.a a15, a12, d8, #0
A0014244  0840FF09		ld.bu d15, [a15]

#842					EQ		14	{L:513}
(*) USINT
A0014248  8000E03B		mov d8, #14
A001424C  F1008F0B		eq d15, d15, d8

#843					JMPC	$label38
(-) BOOL
A0014250  90040FDF		jne d15, #0, #0x1004 ; JUMP 0xA0016258

#844					JMP		$label22
(-) BOOL
A0014254  104A001D		j #0x00104A ; JUMP 0xA00162E8

#845		
#846					(* Istruzioni di ciascun CASE: *)
#847		
#848		$label23:
#849		
#850						(* IF estimation_trials>3 *)
#851						LD		estimation_trials	{L:216}
(*) UNDEF
A0014258  802B20BB		mov.u d8, #0x2B2
A001425C  F600C801		addsc.a a15, a12, d8, #0
A0014260  0880FF09		ld.h d15, [a15]

#852						GT		3	{L:216}
(*) INT
A0014264  8000303B		mov d8, #3
A0014268  F120F80B		lt d15, d8, d15

#853						JMPCN	$label39	{L:216}
(-) BOOL
A001426C  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0014284

#854		
#855						(* THEN *)
#856		
#857							(* state:=92; *)
#858							LD		92	{L:217}
(*) UNDEF
A0014270  F005C03B		mov d15, #92

#859							ST		state	{L:217}
(*) USINT
A0014274  803400BB		mov.u d8, #0x340
A0014278  F600C801		addsc.a a15, a12, d8, #0
A001427C  0800FF89		st.b [a15], d15

#860							JMP		$label40
(-) USINT
A0014280  0054001D		j #0x000054 ; JUMP 0xA0014328

#861		$label39:
#862		
#863						(* ELSIF Time > TrialTime) OR (ABS(Speed)<noiseLevel *)
#864						LD		Time	{L:218}
(*) UNDEF
A0014284  8001C0BB		mov.u d8, #0x1C
A0014288  F600C801		addsc.a a15, a12, d8, #0
A001428C  0000FF19		ld.w d15, [a15]

#865						GT		TrialTime	{L:218}
(*) REAL
A0014290  8002C0BB		mov.u d8, #0x2C
A0014294  F600C801		addsc.a a15, a12, d8, #0
A0014298  0000F519		ld.w d5, [a15]
A001429C  F0015F4B		cmp.f d15, d15, d5
A00142A0  F2004F8B		eq d15, d15, #4

#866						ST		$$TMP15	{L:218}
(*) BOOL
A00142A4  802CC0BB		mov.u d8, #0x2CC
A00142A8  F600C801		addsc.a a15, a12, d8, #0
A00142AC  0000FF59		st.w [a15], d15

#867						LD		Speed	{L:218}
(*) UNDEF
A00142B0  802F40BB		mov.u d8, #0x2F4
A00142B4  F600C801		addsc.a a15, a12, d8, #0
A00142B8  0000FF19		ld.w d15, [a15]

#868						ABS	{L:218}
(*) REAL
A00142BC  41F0F00B		mov d4, d15
A00142C0  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A00142C4  31F0FFD9		lea a15,[a15]0x1CF0
A00142C8  0000000D		nop
A00142CC  00000F2D		calli a15
A00142D0  F1F0200B		mov d15, d2

#869						LT		noiseLevel	{L:218}
(*) REAL
A00142D4  803440BB		mov.u d8, #0x344
A00142D8  F600C801		addsc.a a15, a12, d8, #0
A00142DC  0000F519		ld.w d5, [a15]
A00142E0  F0015F4B		cmp.f d15, d15, d5
A00142E4  F2001F8B		eq d15, d15, #1

#870						OR		$$TMP15	{L:218}
(*) BOOL
A00142E8  802CC0BB		mov.u d8, #0x2CC
A00142EC  F600C801		addsc.a a15, a12, d8, #0
A00142F0  0000F819		ld.w d8, [a15]
A00142F4  F0A08F0F		or d15, d15, d8

#871						JMPCN	$label40	{L:218}
(-) BOOL
A00142F8  00180FDF		jeq d15, #0, #0x0018 ; JUMP 0xA0014328

#872		
#873						(* THEN *)
#874		
#875							(* state:=0; *)
#876							LD		0	{L:219}
(*) UNDEF
A00142FC  F000003B		mov d15, #0

#877							ST		state	{L:219}
(*) USINT
A0014300  803400BB		mov.u d8, #0x340
A0014304  F600C801		addsc.a a15, a12, d8, #0
A0014308  0800FF89		st.b [a15], d15

#878		
#879							(* estimation_trials:=estimation_trials+1; *)
#880							LD		estimation_trials	{L:220}
(*) UNDEF
A001430C  802B20BB		mov.u d8, #0x2B2
A0014310  F600C801		addsc.a a15, a12, d8, #0
A0014314  0880FF09		ld.h d15, [a15]

#881							ADD		1	{L:220}
(*) INT
A0014318  F0001F8B		add d15, d15, #1

#882							ST		estimation_trials	{L:220}
(*) INT
A001431C  802B20BB		mov.u d8, #0x2B2
A0014320  F600C801		addsc.a a15, a12, d8, #0
A0014324  0880FF89		st.h [a15], d15

#883		
#884		$label40:
#885						(* END_IF *)
#886						JMP		$label22
(-) INT
A0014328  0FE0001D		j #0x000FE0 ; JUMP 0xA00162E8

#887		
#888		$label24:
#889		
#890						(* IF NoiseLevelID.END *)
#891						LD		NoiseLevelID.END	{L:223}
(*) UNDEF
A001432C  800640BB		mov.u d8, #0x64
A0014330  F600C801		addsc.a a15, a12, d8, #0
A0014334  0000FF19		ld.w d15, [a15]

#892						JMPCN	$label41	{L:223}
(-) BOOL
A0014338  00D40FDF		jeq d15, #0, #0x00D4 ; JUMP 0xA00144E0

#893		
#894						(* THEN *)
#895		
#896							(* noiseLevel := NoiseLevelID.noiseLevel; *)
#897							LD		NoiseLevelID.noiseLevel	{L:224}
(*) UNDEF
A001433C  800600BB		mov.u d8, #0x60
A0014340  F600C801		addsc.a a15, a12, d8, #0
A0014344  0000FF19		ld.w d15, [a15]

#898							ST		noiseLevel	{L:224}
(*) REAL
A0014348  803440BB		mov.u d8, #0x344
A001434C  F600C801		addsc.a a15, a12, d8, #0
A0014350  0000FF59		st.w [a15], d15

#899		
#900							(* NoiseLevelID_Trj.ENABLE := FALSE; *)
#901							LD		FALSE	{L:225}
(*) UNDEF
A0014354  F000003B		mov d15, #0

#902							ST		NoiseLevelID_Trj.ENABLE	{L:225}
(*) BOOL
A0014358  8006C0BB		mov.u d8, #0x6C
A001435C  F600C801		addsc.a a15, a12, d8, #0
A0014360  0000FF59		st.w [a15], d15

#903		
#904							(* NoiseLevelID.ENABLE     := FALSE; *)
#905							LD		FALSE	{L:226}
(*) UNDEF
A0014364  F000003B		mov d15, #0

#906							ST		NoiseLevelID.ENABLE	{L:226}
(*) BOOL
A0014368  800580BB		mov.u d8, #0x58
A001436C  F600C801		addsc.a a15, a12, d8, #0
A0014370  0000FF59		st.w [a15], d15

#907		
#908							(* state := 1; *)
#909							LD		1	{L:227}
(*) UNDEF
A0014374  F000103B		mov d15, #1

#910							ST		state	{L:227}
(*) USINT
A0014378  803400BB		mov.u d8, #0x340
A001437C  F600C801		addsc.a a15, a12, d8, #0
A0014380  0800FF89		st.b [a15], d15

#911		
#912							(* Time:=0.0; *)
#913							LD		0.0	{L:228}
(*) UNDEF
A0014384  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014388  F0000F9B		addih d15, d15, #0x0000

#914							ST		Time	{L:228}
(*) REAL
A001438C  8001C0BB		mov.u d8, #0x1C
A0014390  F600C801		addsc.a a15, a12, d8, #0
A0014394  0000FF59		st.w [a15], d15

#915		
#916							(* StaticFrictionID_Trj.fbInit := TRUE; *)
#917							LD		TRUE	{L:231}
(*) UNDEF
A0014398  F000103B		mov d15, #1

#918							ST		StaticFrictionID_Trj.fbInit	{L:231}
(*) BOOL
A001439C  800C40BB		mov.u d8, #0xC4
A00143A0  F600C801		addsc.a a15, a12, d8, #0
A00143A4  0000FF59		st.w [a15], d15

#919		
#920							(* StaticFrictionID_Trj.minPos:=minPos; *)
#921							LD		minPos	{L:232}
(*) UNDEF
A00143A8  803200BB		mov.u d8, #0x320
A00143AC  F600C801		addsc.a a15, a12, d8, #0
A00143B0  0000FF19		ld.w d15, [a15]

#922							ST		StaticFrictionID_Trj.minPos	{L:232}
(*) REAL
A00143B4  800D40BB		mov.u d8, #0xD4
A00143B8  F600C801		addsc.a a15, a12, d8, #0
A00143BC  0000FF59		st.w [a15], d15

#923		
#924							(* StaticFrictionID_Trj.maxPos:=maxPos; *)
#925							LD		maxPos	{L:233}
(*) UNDEF
A00143C0  803040BB		mov.u d8, #0x304
A00143C4  F600C801		addsc.a a15, a12, d8, #0
A00143C8  0000FF19		ld.w d15, [a15]

#926							ST		StaticFrictionID_Trj.maxPos	{L:233}
(*) REAL
A00143CC  800D80BB		mov.u d8, #0xD8
A00143D0  F600C801		addsc.a a15, a12, d8, #0
A00143D4  0000FF59		st.w [a15], d15

#927		
#928							(* StaticFrictionID_Trj.Position:=Position; *)
#929							LD		Position	{L:234}
(*) UNDEF
A00143D8  802F80BB		mov.u d8, #0x2F8
A00143DC  F600C801		addsc.a a15, a12, d8, #0
A00143E0  0000FF19		ld.w d15, [a15]

#930							ST		StaticFrictionID_Trj.Position	{L:234}
(*) REAL
A00143E4  800DC0BB		mov.u d8, #0xDC
A00143E8  F600C801		addsc.a a15, a12, d8, #0
A00143EC  0000FF59		st.w [a15], d15

#931		
#932							(* StaticFrictionID_Trj() *)
#933							CAL		StaticFrictionID_Trj	{L:236}
(*) REAL
A00143F0  F53CAF89		st.w [-sp]4, d15 
A00143F4  4000C001		mov.aa a4, a12
A00143F8  800C00BB		mov.u d8, #0xC0 ; FB FRAME BASE 0xC0
A00143FC  8000089B		addih d8, d8, #0x0
A0014400  46004801		addsc.a a4, a4, d8, #0
A0014404  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011108
A0014408  4108FFD9		lea a15,[a15]0x1108
A001440C  0000000D		nop
A0014410  00000F2D		calli a15
A0014414  0104AF09		ld.w d15, [sp+]4

#934		
#935							(* StaticFrictionID_Trj.fbInit := FALSE; *)
#936							LD		FALSE	{L:237}
(*) UNDEF
A0014418  F000003B		mov d15, #0

#937							ST		StaticFrictionID_Trj.fbInit	{L:237}
(*) BOOL
A001441C  800C40BB		mov.u d8, #0xC4
A0014420  F600C801		addsc.a a15, a12, d8, #0
A0014424  0000FF59		st.w [a15], d15

#938		
#939							(* StaticFrictionID_Trj.ENABLE := FALSE; *)
#940							LD		FALSE	{L:238}
(*) UNDEF
A0014428  F000003B		mov d15, #0

#941							ST		StaticFrictionID_Trj.ENABLE	{L:238}
(*) BOOL
A001442C  800D00BB		mov.u d8, #0xD0
A0014430  F600C801		addsc.a a15, a12, d8, #0
A0014434  0000FF59		st.w [a15], d15

#942		
#943							(* StaticFrictionID_Trj.maxTrq := maxTrq; *)
#944							LD		maxTrq	{L:239}
(*) UNDEF
A0014438  802FC0BB		mov.u d8, #0x2FC
A001443C  F600C801		addsc.a a15, a12, d8, #0
A0014440  0000FF19		ld.w d15, [a15]

#945							ST		StaticFrictionID_Trj.maxTrq	{L:239}
(*) REAL
A0014444  800C80BB		mov.u d8, #0xC8
A0014448  F600C801		addsc.a a15, a12, d8, #0
A001444C  0000FF59		st.w [a15], d15

#946		
#947							(* StaticFrictionID_Trj.TrqResolution := maxTrq/100000.0; *)
#948							LD		maxTrq	{L:240}
(*) UNDEF
A0014450  802FC0BB		mov.u d8, #0x2FC
A0014454  F600C801		addsc.a a15, a12, d8, #0
A0014458  0000FF19		ld.w d15, [a15]

#949							DIV		100000.0	{L:240}
(*) REAL
A001445C  850000BB		mov.u d8, #0x5000 ; COSTREAL 100000.000000
A0014460  847C389B		addih d8, d8, #0x47C3
A0014464  F0518F4B		div.f d15, d15, d8

#950							ST		StaticFrictionID_Trj.TrqResolution	{L:240}
(*) REAL
A0014468  800CC0BB		mov.u d8, #0xCC
A001446C  F600C801		addsc.a a15, a12, d8, #0
A0014470  0000FF59		st.w [a15], d15

#951		
#952							(* StaticFrictionID.fbInit := TRUE; *)
#953							LD		TRUE	{L:243}
(*) UNDEF
A0014474  F000103B		mov d15, #1

#954							ST		StaticFrictionID.fbInit	{L:243}
(*) BOOL
A0014478  800A00BB		mov.u d8, #0xA0
A001447C  F600C801		addsc.a a15, a12, d8, #0
A0014480  0000FF59		st.w [a15], d15

#955		
#956							(* StaticFrictionID() *)
#957							CAL		StaticFrictionID	{L:244}
(*) BOOL
A0014484  F53CAF89		st.w [-sp]4, d15 
A0014488  4000C001		mov.aa a4, a12
A001448C  800900BB		mov.u d8, #0x90 ; FB FRAME BASE 0x90
A0014490  8000089B		addih d8, d8, #0x0
A0014494  46004801		addsc.a a4, a4, d8, #0
A0014498  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010F88
A001449C  E0C8FFD9		lea a15,[a15]0x0F88
A00144A0  0000000D		nop
A00144A4  00000F2D		calli a15
A00144A8  0104AF09		ld.w d15, [sp+]4

#958		
#959							(* StaticFrictionID.fbInit := FALSE; *)
#960							LD		FALSE	{L:245}
(*) UNDEF
A00144AC  F000003B		mov d15, #0

#961							ST		StaticFrictionID.fbInit	{L:245}
(*) BOOL
A00144B0  800A00BB		mov.u d8, #0xA0
A00144B4  F600C801		addsc.a a15, a12, d8, #0
A00144B8  0000FF59		st.w [a15], d15

#962		
#963							(* StaticFrictionID.ENABLE := FALSE; *)
#964							LD		FALSE	{L:246}
(*) UNDEF
A00144BC  F000003B		mov d15, #0

#965							ST		StaticFrictionID.ENABLE	{L:246}
(*) BOOL
A00144C0  800AC0BB		mov.u d8, #0xAC
A00144C4  F600C801		addsc.a a15, a12, d8, #0
A00144C8  0000FF59		st.w [a15], d15

#966		
#967							(* StaticFrictionID.Threshold := 5.0; *)
#968							LD		5.0	{L:247}
(*) UNDEF
A00144CC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 5.000000
A00144D0  F40A0F9B		addih d15, d15, #0x40A0

#969							ST		StaticFrictionID.Threshold	{L:247}
(*) REAL
A00144D4  800B00BB		mov.u d8, #0xB0
A00144D8  F600C801		addsc.a a15, a12, d8, #0
A00144DC  0000FF59		st.w [a15], d15

#970		
#971		$label41:
#972						(* END_IF *)
#973						JMP		$label22
(-) REAL
A00144E0  0F04001D		j #0x000F04 ; JUMP 0xA00162E8

#974		
#975		$label25:
#976		
#977						(* IF StaticFrictionID.END *)
#978						LD		StaticFrictionID.END	{L:251}
(*) UNDEF
A00144E4  800BC0BB		mov.u d8, #0xBC
A00144E8  F600C801		addsc.a a15, a12, d8, #0
A00144EC  0000FF19		ld.w d15, [a15]

#979						JMPCN	$label42	{L:251}
(-) BOOL
A00144F0  019E0FDF		jeq d15, #0, #0x019E ; JUMP 0xA001482C

#980		
#981						(* THEN *)
#982		
#983							(* staticFriction := (friction_trial*staticFriction+StaticFrictionID.staticFriction*0.95)/(friction_trial+1.0); *)
#984							LD		StaticFrictionID.staticFriction	{L:252}
(*) UNDEF
A00144F4  800B80BB		mov.u d8, #0xB8
A00144F8  F600C801		addsc.a a15, a12, d8, #0
A00144FC  0000FF19		ld.w d15, [a15]

#985							MUL		0.95	{L:252}
(*) REAL
A0014500  833330BB		mov.u d8, #0x3333 ; COSTREAL 0.950000
A0014504  83F7389B		addih d8, d8, #0x3F73
A0014508  F0418F4B		mul.f d15, d15, d8

#986							ADD(		friction_trial	{L:252}
(*) REAL
A001450C  F53CAF89		st.w [-sp]4, d15 
A0014510  802B40BB		mov.u d8, #0x2B4
A0014514  F600C801		addsc.a a15, a12, d8, #0
A0014518  0000FF19		ld.w d15, [a15]

#987							MUL		staticFriction	{L:252}
(*) REAL
A001451C  8033C0BB		mov.u d8, #0x33C
A0014520  F600C801		addsc.a a15, a12, d8, #0
A0014524  0000F819		ld.w d8, [a15]
A0014528  F0418F4B		mul.f d15, d15, d8

#988							)	{L:252}
(*) REAL
A001452C  01F0F00B		mov d0, d15
A0014530  0104AF09		ld.w d15, [sp+]4
A0014534  FF21006B		add.f d15, d15, d0

#989							DIV(		friction_trial	{L:252}
(*) REAL
A0014538  F53CAF89		st.w [-sp]4, d15 
A001453C  802B40BB		mov.u d8, #0x2B4
A0014540  F600C801		addsc.a a15, a12, d8, #0
A0014544  0000FF19		ld.w d15, [a15]

#990							ADD		1.0	{L:252}
(*) REAL
A0014548  800000BB		mov.u d8, #0x0000 ; COSTREAL 1.000000
A001454C  83F8089B		addih d8, d8, #0x3F80
A0014550  FF21086B		add.f d15, d15, d8

#991							)	{L:252}
(*) REAL
A0014554  01F0F00B		mov d0, d15
A0014558  0104AF09		ld.w d15, [sp+]4
A001455C  81F0000B		mov d8, d0
A0014560  F0518F4B		div.f d15, d15, d8

#992							ST		staticFriction	{L:252}
(*) REAL
A0014564  8033C0BB		mov.u d8, #0x33C
A0014568  F600C801		addsc.a a15, a12, d8, #0
A001456C  0000FF59		st.w [a15], d15

#993		
#994							(* friction_trial:=friction_trial+1.0; *)
#995							LD		friction_trial	{L:253}
(*) UNDEF
A0014570  802B40BB		mov.u d8, #0x2B4
A0014574  F600C801		addsc.a a15, a12, d8, #0
A0014578  0000FF19		ld.w d15, [a15]

#996							ADD		1.0	{L:253}
(*) REAL
A001457C  800000BB		mov.u d8, #0x0000 ; COSTREAL 1.000000
A0014580  83F8089B		addih d8, d8, #0x3F80
A0014584  FF21086B		add.f d15, d15, d8

#997							ST		friction_trial	{L:253}
(*) REAL
A0014588  802B40BB		mov.u d8, #0x2B4
A001458C  F600C801		addsc.a a15, a12, d8, #0
A0014590  0000FF59		st.w [a15], d15

#998		
#999							(* StaticFrictionID_Trj.ENABLE := FALSE; *)
#1000							LD		FALSE	{L:254}
(*) UNDEF
A0014594  F000003B		mov d15, #0

#1001							ST		StaticFrictionID_Trj.ENABLE	{L:254}
(*) BOOL
A0014598  800D00BB		mov.u d8, #0xD0
A001459C  F600C801		addsc.a a15, a12, d8, #0
A00145A0  0000FF59		st.w [a15], d15

#1002		
#1003							(* StaticFrictionID.ENABLE     := FALSE; *)
#1004							LD		FALSE	{L:255}
(*) UNDEF
A00145A4  F000003B		mov d15, #0

#1005							ST		StaticFrictionID.ENABLE	{L:255}
(*) BOOL
A00145A8  800AC0BB		mov.u d8, #0xAC
A00145AC  F600C801		addsc.a a15, a12, d8, #0
A00145B0  0000FF59		st.w [a15], d15

#1006		
#1007							(* OL_trj_generator.staticFriction:=staticFriction; *)
#1008							LD		staticFriction	{L:256}
(*) UNDEF
A00145B4  8033C0BB		mov.u d8, #0x33C
A00145B8  F600C801		addsc.a a15, a12, d8, #0
A00145BC  0000FF19		ld.w d15, [a15]

#1009							ST		OL_trj_generator.staticFriction	{L:256}
(*) REAL
A00145C0  801400BB		mov.u d8, #0x140
A00145C4  F600C801		addsc.a a15, a12, d8, #0
A00145C8  0000FF59		st.w [a15], d15

#1010		
#1011							(* Time:=0.0; *)
#1012							LD		0.0	{L:257}
(*) UNDEF
A00145CC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00145D0  F0000F9B		addih d15, d15, #0x0000

#1013							ST		Time	{L:257}
(*) REAL
A00145D4  8001C0BB		mov.u d8, #0x1C
A00145D8  F600C801		addsc.a a15, a12, d8, #0
A00145DC  0000FF59		st.w [a15], d15

#1014		
#1015		
#1016							(* IF friction_trial>=3.0 *)
#1017							LD		friction_trial	{L:259}
(*) UNDEF
A00145E0  802B40BB		mov.u d8, #0x2B4
A00145E4  F600C801		addsc.a a15, a12, d8, #0
A00145E8  0000FF19		ld.w d15, [a15]

#1018							GE		3.0	{L:259}
(*) REAL
A00145EC  500000BB		mov.u d5, #0x0000 ; COSTREAL 3.000000
A00145F0  5404059B		addih d5, d5, #0x4040
A00145F4  F0015F4B		cmp.f d15, d15, d5
A00145F8  F2201F8B		ne d15, d15, #1

#1019							JMPCN	$label43	{L:259}
(-) BOOL
A00145FC  006C0FDF		jeq d15, #0, #0x006C ; JUMP 0xA00146D4

#1020		
#1021							(* THEN *)
#1022		
#1023								(* state:=2; *)
#1024								LD		2	{L:260}
(*) UNDEF
A0014600  F000203B		mov d15, #2

#1025								ST		state	{L:260}
(*) USINT
A0014604  803400BB		mov.u d8, #0x340
A0014608  F600C801		addsc.a a15, a12, d8, #0
A001460C  0800FF89		st.b [a15], d15

#1026		
#1027								(* OL_trj_generator.maxTRQ:= maxTrq; *)
#1028								LD		maxTrq	{L:262}
(*) UNDEF
A0014610  802FC0BB		mov.u d8, #0x2FC
A0014614  F600C801		addsc.a a15, a12, d8, #0
A0014618  0000FF19		ld.w d15, [a15]

#1029								ST		OL_trj_generator.maxTRQ	{L:262}
(*) REAL
A001461C  801280BB		mov.u d8, #0x128
A0014620  F600C801		addsc.a a15, a12, d8, #0
A0014624  0000FF59		st.w [a15], d15

#1030		
#1031								(* OL_trj_generator.maxVEL:= maxVel; *)
#1032								LD		maxVel	{L:263}
(*) UNDEF
A0014628  803000BB		mov.u d8, #0x300
A001462C  F600C801		addsc.a a15, a12, d8, #0
A0014630  0000FF19		ld.w d15, [a15]

#1033								ST		OL_trj_generator.maxVEL	{L:263}
(*) REAL
A0014634  8012C0BB		mov.u d8, #0x12C
A0014638  F600C801		addsc.a a15, a12, d8, #0
A001463C  0000FF59		st.w [a15], d15

#1034		
#1035								(* OL_trj_generator.maxPOS:= maxPos; *)
#1036								LD		maxPos	{L:264}
(*) UNDEF
A0014640  803040BB		mov.u d8, #0x304
A0014644  F600C801		addsc.a a15, a12, d8, #0
A0014648  0000FF19		ld.w d15, [a15]

#1037								ST		OL_trj_generator.maxPOS	{L:264}
(*) REAL
A001464C  801300BB		mov.u d8, #0x130
A0014650  F600C801		addsc.a a15, a12, d8, #0
A0014654  0000FF59		st.w [a15], d15

#1038		
#1039								(* OL_trj_generator.minVEL:= minVel; *)
#1040								LD		minVel	{L:265}
(*) UNDEF
A0014658  803240BB		mov.u d8, #0x324
A001465C  F600C801		addsc.a a15, a12, d8, #0
A0014660  0000FF19		ld.w d15, [a15]

#1041								ST		OL_trj_generator.minVEL	{L:265}
(*) REAL
A0014664  801380BB		mov.u d8, #0x138
A0014668  F600C801		addsc.a a15, a12, d8, #0
A001466C  0000FF59		st.w [a15], d15

#1042		
#1043								(* OL_trj_generator.minPOS:= minPos; *)
#1044								LD		minPos	{L:266}
(*) UNDEF
A0014670  803200BB		mov.u d8, #0x320
A0014674  F600C801		addsc.a a15, a12, d8, #0
A0014678  0000FF19		ld.w d15, [a15]

#1045								ST		OL_trj_generator.minPOS	{L:266}
(*) REAL
A001467C  801340BB		mov.u d8, #0x134
A0014680  F600C801		addsc.a a15, a12, d8, #0
A0014684  0000FF59		st.w [a15], d15

#1046		
#1047								(* OL_trj_generator.fbInit:=TRUE; *)
#1048								LD		TRUE	{L:267}
(*) UNDEF
A0014688  F000103B		mov d15, #1

#1049								ST		OL_trj_generator.fbInit	{L:267}
(*) BOOL
A001468C  801240BB		mov.u d8, #0x124
A0014690  F600C801		addsc.a a15, a12, d8, #0
A0014694  0000FF59		st.w [a15], d15

#1050		
#1051								(* OL_trj_generator() *)
#1052								CAL		OL_trj_generator	{L:268}
(*) BOOL
A0014698  F53CAF89		st.w [-sp]4, d15 
A001469C  4000C001		mov.aa a4, a12
A00146A0  800E40BB		mov.u d8, #0xE4 ; FB FRAME BASE 0xE4
A00146A4  8000089B		addih d8, d8, #0x0
A00146A8  46004801		addsc.a a4, a4, d8, #0
A00146AC  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA00126B8
A00146B0  A278FFD9		lea a15,[a15]0x26B8
A00146B4  0000000D		nop
A00146B8  00000F2D		calli a15
A00146BC  0104AF09		ld.w d15, [sp+]4

#1053		
#1054								(* OL_trj_generator.fbInit:=FALSE; *)
#1055								LD		FALSE	{L:269}
(*) UNDEF
A00146C0  F000003B		mov d15, #0

#1056								ST		OL_trj_generator.fbInit	{L:269}
(*) BOOL
A00146C4  801240BB		mov.u d8, #0x124
A00146C8  F600C801		addsc.a a15, a12, d8, #0
A00146CC  0000FF59		st.w [a15], d15

#1057								JMP		$label44
(-) BOOL
A00146D0  00AE001D		j #0x0000AE ; JUMP 0xA001482C

#1058		$label43:
#1059		
#1060							(* ELSE *)
#1061		
#1062								(* StaticFrictionID_Trj.fbInit := TRUE; *)
#1063								LD		TRUE	{L:273}
(*) UNDEF
A00146D4  F000103B		mov d15, #1

#1064								ST		StaticFrictionID_Trj.fbInit	{L:273}
(*) BOOL
A00146D8  800C40BB		mov.u d8, #0xC4
A00146DC  F600C801		addsc.a a15, a12, d8, #0
A00146E0  0000FF59		st.w [a15], d15

#1065		
#1066								(* StaticFrictionID_Trj.minPos:=minPos; *)
#1067								LD		minPos	{L:274}
(*) UNDEF
A00146E4  803200BB		mov.u d8, #0x320
A00146E8  F600C801		addsc.a a15, a12, d8, #0
A00146EC  0000FF19		ld.w d15, [a15]

#1068								ST		StaticFrictionID_Trj.minPos	{L:274}
(*) REAL
A00146F0  800D40BB		mov.u d8, #0xD4
A00146F4  F600C801		addsc.a a15, a12, d8, #0
A00146F8  0000FF59		st.w [a15], d15

#1069		
#1070								(* StaticFrictionID_Trj.maxPos:=maxPos; *)
#1071								LD		maxPos	{L:275}
(*) UNDEF
A00146FC  803040BB		mov.u d8, #0x304
A0014700  F600C801		addsc.a a15, a12, d8, #0
A0014704  0000FF19		ld.w d15, [a15]

#1072								ST		StaticFrictionID_Trj.maxPos	{L:275}
(*) REAL
A0014708  800D80BB		mov.u d8, #0xD8
A001470C  F600C801		addsc.a a15, a12, d8, #0
A0014710  0000FF59		st.w [a15], d15

#1073		
#1074								(* StaticFrictionID_Trj.Position:=Position; *)
#1075								LD		Position	{L:276}
(*) UNDEF
A0014714  802F80BB		mov.u d8, #0x2F8
A0014718  F600C801		addsc.a a15, a12, d8, #0
A001471C  0000FF19		ld.w d15, [a15]

#1076								ST		StaticFrictionID_Trj.Position	{L:276}
(*) REAL
A0014720  800DC0BB		mov.u d8, #0xDC
A0014724  F600C801		addsc.a a15, a12, d8, #0
A0014728  0000FF59		st.w [a15], d15

#1077		
#1078								(* StaticFrictionID_Trj() *)
#1079								CAL		StaticFrictionID_Trj	{L:278}
(*) REAL
A001472C  F53CAF89		st.w [-sp]4, d15 
A0014730  4000C001		mov.aa a4, a12
A0014734  800C00BB		mov.u d8, #0xC0 ; FB FRAME BASE 0xC0
A0014738  8000089B		addih d8, d8, #0x0
A001473C  46004801		addsc.a a4, a4, d8, #0
A0014740  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011108
A0014744  4108FFD9		lea a15,[a15]0x1108
A0014748  0000000D		nop
A001474C  00000F2D		calli a15
A0014750  0104AF09		ld.w d15, [sp+]4

#1080		
#1081								(* StaticFrictionID_Trj.fbInit := FALSE; *)
#1082								LD		FALSE	{L:279}
(*) UNDEF
A0014754  F000003B		mov d15, #0

#1083								ST		StaticFrictionID_Trj.fbInit	{L:279}
(*) BOOL
A0014758  800C40BB		mov.u d8, #0xC4
A001475C  F600C801		addsc.a a15, a12, d8, #0
A0014760  0000FF59		st.w [a15], d15

#1084		
#1085								(* StaticFrictionID_Trj.ENABLE := FALSE; *)
#1086								LD		FALSE	{L:280}
(*) UNDEF
A0014764  F000003B		mov d15, #0

#1087								ST		StaticFrictionID_Trj.ENABLE	{L:280}
(*) BOOL
A0014768  800D00BB		mov.u d8, #0xD0
A001476C  F600C801		addsc.a a15, a12, d8, #0
A0014770  0000FF59		st.w [a15], d15

#1088		
#1089								(* StaticFrictionID_Trj.maxTrq := maxTrq; *)
#1090								LD		maxTrq	{L:281}
(*) UNDEF
A0014774  802FC0BB		mov.u d8, #0x2FC
A0014778  F600C801		addsc.a a15, a12, d8, #0
A001477C  0000FF19		ld.w d15, [a15]

#1091								ST		StaticFrictionID_Trj.maxTrq	{L:281}
(*) REAL
A0014780  800C80BB		mov.u d8, #0xC8
A0014784  F600C801		addsc.a a15, a12, d8, #0
A0014788  0000FF59		st.w [a15], d15

#1092		
#1093								(* StaticFrictionID_Trj.TrqResolution := maxTrq/100000.0; *)
#1094								LD		maxTrq	{L:282}
(*) UNDEF
A001478C  802FC0BB		mov.u d8, #0x2FC
A0014790  F600C801		addsc.a a15, a12, d8, #0
A0014794  0000FF19		ld.w d15, [a15]

#1095								DIV		100000.0	{L:282}
(*) REAL
A0014798  850000BB		mov.u d8, #0x5000 ; COSTREAL 100000.000000
A001479C  847C389B		addih d8, d8, #0x47C3
A00147A0  F0518F4B		div.f d15, d15, d8

#1096								ST		StaticFrictionID_Trj.TrqResolution	{L:282}
(*) REAL
A00147A4  800CC0BB		mov.u d8, #0xCC
A00147A8  F600C801		addsc.a a15, a12, d8, #0
A00147AC  0000FF59		st.w [a15], d15

#1097		
#1098								(* StaticFrictionID.fbInit := TRUE; *)
#1099								LD		TRUE	{L:285}
(*) UNDEF
A00147B0  F000103B		mov d15, #1

#1100								ST		StaticFrictionID.fbInit	{L:285}
(*) BOOL
A00147B4  800A00BB		mov.u d8, #0xA0
A00147B8  F600C801		addsc.a a15, a12, d8, #0
A00147BC  0000FF59		st.w [a15], d15

#1101		
#1102								(* StaticFrictionID() *)
#1103								CAL		StaticFrictionID	{L:286}
(*) BOOL
A00147C0  F53CAF89		st.w [-sp]4, d15 
A00147C4  4000C001		mov.aa a4, a12
A00147C8  800900BB		mov.u d8, #0x90 ; FB FRAME BASE 0x90
A00147CC  8000089B		addih d8, d8, #0x0
A00147D0  46004801		addsc.a a4, a4, d8, #0
A00147D4  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010F88
A00147D8  E0C8FFD9		lea a15,[a15]0x0F88
A00147DC  0000000D		nop
A00147E0  00000F2D		calli a15
A00147E4  0104AF09		ld.w d15, [sp+]4

#1104		
#1105								(* StaticFrictionID.fbInit := FALSE; *)
#1106								LD		FALSE	{L:287}
(*) UNDEF
A00147E8  F000003B		mov d15, #0

#1107								ST		StaticFrictionID.fbInit	{L:287}
(*) BOOL
A00147EC  800A00BB		mov.u d8, #0xA0
A00147F0  F600C801		addsc.a a15, a12, d8, #0
A00147F4  0000FF59		st.w [a15], d15

#1108		
#1109								(* StaticFrictionID.ENABLE := FALSE; *)
#1110								LD		FALSE	{L:288}
(*) UNDEF
A00147F8  F000003B		mov d15, #0

#1111								ST		StaticFrictionID.ENABLE	{L:288}
(*) BOOL
A00147FC  800AC0BB		mov.u d8, #0xAC
A0014800  F600C801		addsc.a a15, a12, d8, #0
A0014804  0000FF59		st.w [a15], d15

#1112		
#1113								(* StaticFrictionID.Threshold := 3.0; *)
#1114								LD		3.0	{L:289}
(*) UNDEF
A0014808  F00000BB		mov.u d15, #0x0000 ; COSTREAL 3.000000
A001480C  F4040F9B		addih d15, d15, #0x4040

#1115								ST		StaticFrictionID.Threshold	{L:289}
(*) REAL
A0014810  800B00BB		mov.u d8, #0xB0
A0014814  F600C801		addsc.a a15, a12, d8, #0
A0014818  0000FF59		st.w [a15], d15

#1116		
#1117								(* state := 1; *)
#1118								LD		1	{L:291}
(*) UNDEF
A001481C  F000103B		mov d15, #1

#1119								ST		state	{L:291}
(*) USINT
A0014820  803400BB		mov.u d8, #0x340
A0014824  F600C801		addsc.a a15, a12, d8, #0
A0014828  0800FF89		st.b [a15], d15

#1120		
#1121		$label44:
#1122							(* END_IF *)
#1123		
#1124		$label42:
#1125						(* END_IF *)
#1126						JMP		$label22
(-) USINT
A001482C  0D5E001D		j #0x000D5E ; JUMP 0xA00162E8

#1127		
#1128		$label26:
#1129		
#1130						(* IF Time>Time_identification *)
#1131						LD		Time	{L:295}
(*) UNDEF
A0014830  8001C0BB		mov.u d8, #0x1C
A0014834  F600C801		addsc.a a15, a12, d8, #0
A0014838  0000FF19		ld.w d15, [a15]

#1132						GT		Time_identification	{L:295}
(*) REAL
A001483C  8030C0BB		mov.u d8, #0x30C
A0014840  F600C801		addsc.a a15, a12, d8, #0
A0014844  0000F519		ld.w d5, [a15]
A0014848  F0015F4B		cmp.f d15, d15, d5
A001484C  F2004F8B		eq d15, d15, #4

#1133						JMPCN	$label45	{L:295}
(-) BOOL
A0014850  001C0FDF		jeq d15, #0, #0x001C ; JUMP 0xA0014888

#1134		
#1135						(* THEN *)
#1136		
#1137							(* state:=3; *)
#1138							LD		3	{L:296}
(*) UNDEF
A0014854  F000303B		mov d15, #3

#1139							ST		state	{L:296}
(*) USINT
A0014858  803400BB		mov.u d8, #0x340
A001485C  F600C801		addsc.a a15, a12, d8, #0
A0014860  0800FF89		st.b [a15], d15

#1140		
#1141							(* OL_trj_generator.STOP:=TRUE; *)
#1142							LD		TRUE	{L:297}
(*) UNDEF
A0014864  F000103B		mov d15, #1

#1143							ST		OL_trj_generator.STOP	{L:297}
(*) BOOL
A0014868  8013C0BB		mov.u d8, #0x13C
A001486C  F600C801		addsc.a a15, a12, d8, #0
A0014870  0000FF59		st.w [a15], d15

#1144		
#1145							(* Time:=0.0; *)
#1146							LD		0.0	{L:298}
(*) UNDEF
A0014874  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014878  F0000F9B		addih d15, d15, #0x0000

#1147							ST		Time	{L:298}
(*) REAL
A001487C  8001C0BB		mov.u d8, #0x1C
A0014880  F600C801		addsc.a a15, a12, d8, #0
A0014884  0000FF59		st.w [a15], d15

#1148		
#1149		$label45:
#1150						(* END_IF *)
#1151						JMP		$label22
(-) REAL
A0014888  0D30001D		j #0x000D30 ; JUMP 0xA00162E8

#1152		
#1153		$label27:
#1154		
#1155						(* IF OL_trj_generator.STOPPED *)
#1156						LD		OL_trj_generator.STOPPED	{L:301}
(*) UNDEF
A001488C  801480BB		mov.u d8, #0x148
A0014890  F600C801		addsc.a a15, a12, d8, #0
A0014894  0000FF19		ld.w d15, [a15]

#1157						JMPCN	$label46	{L:301}
(-) BOOL
A0014898  00980FDF		jeq d15, #0, #0x0098 ; JUMP 0xA00149C8

#1158		
#1159						(* THEN *)
#1160		
#1161							(* Time:=0.0; *)
#1162							LD		0.0	{L:302}
(*) UNDEF
A001489C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00148A0  F0000F9B		addih d15, d15, #0x0000

#1163							ST		Time	{L:302}
(*) REAL
A00148A4  8001C0BB		mov.u d8, #0x1C
A00148A8  F600C801		addsc.a a15, a12, d8, #0
A00148AC  0000FF59		st.w [a15], d15

#1164		
#1165							(* state := 4; *)
#1166							LD		4	{L:303}
(*) UNDEF
A00148B0  F000403B		mov d15, #4

#1167							ST		state	{L:303}
(*) USINT
A00148B4  803400BB		mov.u d8, #0x340
A00148B8  F600C801		addsc.a a15, a12, d8, #0
A00148BC  0800FF89		st.b [a15], d15

#1168		
#1169		
#1170							(* IF fb_RLS.Jm>0.0 *)
#1171							LD		fb_RLS.Jm	{L:304}
(*) UNDEF
A00148C0  801D00BB		mov.u d8, #0x1D0
A00148C4  F600C801		addsc.a a15, a12, d8, #0
A00148C8  0000FF19		ld.w d15, [a15]

#1172							GT		0.0	{L:304}
(*) REAL
A00148CC  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A00148D0  5000059B		addih d5, d5, #0x0000
A00148D4  F0015F4B		cmp.f d15, d15, d5
A00148D8  F2004F8B		eq d15, d15, #4

#1173							JMPCN	$label47	{L:304}
(-) BOOL
A00148DC  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA00148FC

#1174		
#1175							(* THEN *)
#1176		
#1177								(* Jm:=fb_RLS.Jm; *)
#1178								LD		fb_RLS.Jm	{L:305}
(*) UNDEF
A00148E0  801D00BB		mov.u d8, #0x1D0
A00148E4  F600C801		addsc.a a15, a12, d8, #0
A00148E8  0000FF19		ld.w d15, [a15]

#1179								ST		Jm	{L:305}
(*) REAL
A00148EC  803600BB		mov.u d8, #0x360
A00148F0  F600C801		addsc.a a15, a12, d8, #0
A00148F4  0000FF59		st.w [a15], d15

#1180								JMP		$label48
(-) REAL
A00148F8  0014001D		j #0x000014 ; JUMP 0xA0014920

#1181		$label47:
#1182		
#1183							(* ELSE *)
#1184		
#1185								(* state := 100; *)
#1186								LD		100	{L:307}
(*) UNDEF
A00148FC  F006403B		mov d15, #100

#1187								ST		state	{L:307}
(*) USINT
A0014900  803400BB		mov.u d8, #0x340
A0014904  F600C801		addsc.a a15, a12, d8, #0
A0014908  0800FF89		st.b [a15], d15

#1188		
#1189								(* Jm:=0.000001; *)
#1190								LD		0.000001	{L:308}
(*) UNDEF
A001490C  F37BD0BB		mov.u d15, #0x37BD ; COSTREAL 0.000001
A0014910  F3586F9B		addih d15, d15, #0x3586

#1191								ST		Jm	{L:308}
(*) REAL
A0014914  803600BB		mov.u d8, #0x360
A0014918  F600C801		addsc.a a15, a12, d8, #0
A001491C  0000FF59		st.w [a15], d15

#1192		
#1193		$label48:
#1194							(* END_IF *)
#1195		
#1196		
#1197							(* IF fb_RLS.Bm>0.0 *)
#1198							LD		fb_RLS.Bm	{L:310}
(*) UNDEF
A0014920  801D40BB		mov.u d8, #0x1D4
A0014924  F600C801		addsc.a a15, a12, d8, #0
A0014928  0000FF19		ld.w d15, [a15]

#1199							GT		0.0	{L:310}
(*) REAL
A001492C  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0014930  5000059B		addih d5, d5, #0x0000
A0014934  F0015F4B		cmp.f d15, d15, d5
A0014938  F2004F8B		eq d15, d15, #4

#1200							JMPCN	$label49	{L:310}
(-) BOOL
A001493C  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA001495C

#1201		
#1202							(* THEN *)
#1203		
#1204								(* Bm:=fb_RLS.Bm; *)
#1205								LD		fb_RLS.Bm	{L:311}
(*) UNDEF
A0014940  801D40BB		mov.u d8, #0x1D4
A0014944  F600C801		addsc.a a15, a12, d8, #0
A0014948  0000FF19		ld.w d15, [a15]

#1206								ST		Bm	{L:311}
(*) REAL
A001494C  800100BB		mov.u d8, #0x10
A0014950  F600C801		addsc.a a15, a12, d8, #0
A0014954  0000FF59		st.w [a15], d15

#1207								JMP		$label50
(-) REAL
A0014958  0014001D		j #0x000014 ; JUMP 0xA0014980

#1208		$label49:
#1209		
#1210							(* ELSE *)
#1211		
#1212								(* state := 100; *)
#1213								LD		100	{L:313}
(*) UNDEF
A001495C  F006403B		mov d15, #100

#1214								ST		state	{L:313}
(*) USINT
A0014960  803400BB		mov.u d8, #0x340
A0014964  F600C801		addsc.a a15, a12, d8, #0
A0014968  0800FF89		st.b [a15], d15

#1215		
#1216								(* Bm:=0.00001; *)
#1217								LD		0.00001	{L:314}
(*) UNDEF
A001496C  FC5AC0BB		mov.u d15, #0xC5AC ; COSTREAL 0.000010
A0014970  F3727F9B		addih d15, d15, #0x3727

#1218								ST		Bm	{L:314}
(*) REAL
A0014974  800100BB		mov.u d8, #0x10
A0014978  F600C801		addsc.a a15, a12, d8, #0
A001497C  0000FF59		st.w [a15], d15

#1219		
#1220		$label50:
#1221							(* END_IF *)
#1222		
#1223							(* Torque:=0.0; *)
#1224							LD		0.0	{L:317}
(*) UNDEF
A0014980  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014984  F0000F9B		addih d15, d15, #0x0000

#1225							ST		Torque	{L:317}
(*) REAL
A0014988  803380BB		mov.u d8, #0x338
A001498C  F600C801		addsc.a a15, a12, d8, #0
A0014990  0000FF59		st.w [a15], d15

#1226		
#1227							(* Vel_SP:=0.0; *)
#1228							LD		0.0	{L:318}
(*) UNDEF
A0014994  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014998  F0000F9B		addih d15, d15, #0x0000

#1229							ST		Vel_SP	{L:318}
(*) REAL
A001499C  803580BB		mov.u d8, #0x358
A00149A0  F600C801		addsc.a a15, a12, d8, #0
A00149A4  0000FF59		st.w [a15], d15

#1230		
#1231							(* TUNED:=FALSE; *)
#1232							LD		FALSE	{L:319}
(*) UNDEF
A00149A8  F000003B		mov d15, #0

#1233							ST		TUNED	{L:319}
(*) BOOL
A00149AC  800040BB		mov.u d8, #0x4
A00149B0  F600C801		addsc.a a15, a12, d8, #0
A00149B4  0000FF59		st.w [a15], d15

#1234		
#1235							(* TUNE_LOW_VEL:=TRUE; *)
#1236							LD		TRUE	{L:320}
(*) UNDEF
A00149B8  F000103B		mov d15, #1

#1237							ST		TUNE_LOW_VEL	{L:320}
(*) BOOL
A00149BC  803640BB		mov.u d8, #0x364
A00149C0  F600C801		addsc.a a15, a12, d8, #0
A00149C4  0000FF59		st.w [a15], d15

#1238		
#1239		$label46:
#1240						(* END_IF *)
#1241						JMP		$label22
(-) BOOL
A00149C8  0C90001D		j #0x000C90 ; JUMP 0xA00162E8

#1242		
#1243		$label28:
#1244		
#1245						(* IF PARAMETERS_UPDATED *)
#1246						LD		PARAMETERS_UPDATED	{L:323}
(*) UNDEF
A00149CC  803180BB		mov.u d8, #0x318
A00149D0  F600C801		addsc.a a15, a12, d8, #0
A00149D4  0000FF19		ld.w d15, [a15]

#1247						JMPCN	$label51	{L:323}
(-) BOOL
A00149D8  002E0FDF		jeq d15, #0, #0x002E ; JUMP 0xA0014A34

#1248		
#1249						(* THEN *)
#1250		
#1251							(* Time:=0.0; *)
#1252							LD		0.0	{L:324}
(*) UNDEF
A00149DC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00149E0  F0000F9B		addih d15, d15, #0x0000

#1253							ST		Time	{L:324}
(*) REAL
A00149E4  8001C0BB		mov.u d8, #0x1C
A00149E8  F600C801		addsc.a a15, a12, d8, #0
A00149EC  0000FF59		st.w [a15], d15

#1254		
#1255							(* UPDATE_PARAMETERS:=FALSE; *)
#1256							LD		FALSE	{L:325}
(*) UNDEF
A00149F0  F000003B		mov d15, #0

#1257							ST		UPDATE_PARAMETERS	{L:325}
(*) BOOL
A00149F4  8035C0BB		mov.u d8, #0x35C
A00149F8  F600C801		addsc.a a15, a12, d8, #0
A00149FC  0000FF59		st.w [a15], d15

#1258		
#1259							(* PARAMETERS_UPDATED:=FALSE; *)
#1260							LD		FALSE	{L:326}
(*) UNDEF
A0014A00  F000003B		mov d15, #0

#1261							ST		PARAMETERS_UPDATED	{L:326}
(*) BOOL
A0014A04  803180BB		mov.u d8, #0x318
A0014A08  F600C801		addsc.a a15, a12, d8, #0
A0014A0C  0000FF59		st.w [a15], d15

#1262		
#1263							(* state:=5; *)
#1264							LD		5	{L:327}
(*) UNDEF
A0014A10  F000503B		mov d15, #5

#1265							ST		state	{L:327}
(*) USINT
A0014A14  803400BB		mov.u d8, #0x340
A0014A18  F600C801		addsc.a a15, a12, d8, #0
A0014A1C  0800FF89		st.b [a15], d15

#1266		
#1267							(* Vel_SP:=0.0; *)
#1268							LD		0.0	{L:328}
(*) UNDEF
A0014A20  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014A24  F0000F9B		addih d15, d15, #0x0000

#1269							ST		Vel_SP	{L:328}
(*) REAL
A0014A28  803580BB		mov.u d8, #0x358
A0014A2C  F600C801		addsc.a a15, a12, d8, #0
A0014A30  0000FF59		st.w [a15], d15

#1270		
#1271		$label51:
#1272						(* END_IF *)
#1273						JMP		$label22
(-) REAL
A0014A34  0C5A001D		j #0x000C5A ; JUMP 0xA00162E8

#1274		
#1275		$label29:
#1276		
#1277						(* IF Time > TrialTime) OR (ABS(Speed)<noiseLevel) AND (Time>0.2*TrialTime *)
#1278						LD		Time	{L:331}
(*) UNDEF
A0014A38  8001C0BB		mov.u d8, #0x1C
A0014A3C  F600C801		addsc.a a15, a12, d8, #0
A0014A40  0000FF19		ld.w d15, [a15]

#1279						GT		TrialTime	{L:331}
(*) REAL
A0014A44  8002C0BB		mov.u d8, #0x2C
A0014A48  F600C801		addsc.a a15, a12, d8, #0
A0014A4C  0000F519		ld.w d5, [a15]
A0014A50  F0015F4B		cmp.f d15, d15, d5
A0014A54  F2004F8B		eq d15, d15, #4

#1280						ST		$$TMP19	{L:331}
(*) BOOL
A0014A58  802D00BB		mov.u d8, #0x2D0
A0014A5C  F600C801		addsc.a a15, a12, d8, #0
A0014A60  0000FF59		st.w [a15], d15

#1281						LD		Speed	{L:331}
(*) UNDEF
A0014A64  802F40BB		mov.u d8, #0x2F4
A0014A68  F600C801		addsc.a a15, a12, d8, #0
A0014A6C  0000FF19		ld.w d15, [a15]

#1282						ABS	{L:331}
(*) REAL
A0014A70  41F0F00B		mov d4, d15
A0014A74  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A0014A78  31F0FFD9		lea a15,[a15]0x1CF0
A0014A7C  0000000D		nop
A0014A80  00000F2D		calli a15
A0014A84  F1F0200B		mov d15, d2

#1283						LT		noiseLevel	{L:331}
(*) REAL
A0014A88  803440BB		mov.u d8, #0x344
A0014A8C  F600C801		addsc.a a15, a12, d8, #0
A0014A90  0000F519		ld.w d5, [a15]
A0014A94  F0015F4B		cmp.f d15, d15, d5
A0014A98  F2001F8B		eq d15, d15, #1

#1284						ST		$$TMP20	{L:331}
(*) BOOL
A0014A9C  802D40BB		mov.u d8, #0x2D4
A0014AA0  F600C801		addsc.a a15, a12, d8, #0
A0014AA4  0000FF59		st.w [a15], d15

#1285						LD		0.2	{L:331}
(*) UNDEF
A0014AA8  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.200000
A0014AAC  F3E4CF9B		addih d15, d15, #0x3E4C

#1286						MUL		TrialTime	{L:331}
(*) REAL
A0014AB0  8002C0BB		mov.u d8, #0x2C
A0014AB4  F600C801		addsc.a a15, a12, d8, #0
A0014AB8  0000F819		ld.w d8, [a15]
A0014ABC  F0418F4B		mul.f d15, d15, d8

#1287						ST		$$TMP21	{L:331}
(*) REAL
A0014AC0  802D80BB		mov.u d8, #0x2D8
A0014AC4  F600C801		addsc.a a15, a12, d8, #0
A0014AC8  0000FF59		st.w [a15], d15

#1288						LD		Time	{L:331}
(*) UNDEF
A0014ACC  8001C0BB		mov.u d8, #0x1C
A0014AD0  F600C801		addsc.a a15, a12, d8, #0
A0014AD4  0000FF19		ld.w d15, [a15]

#1289						GT		$$TMP21	{L:331}
(*) REAL
A0014AD8  802D80BB		mov.u d8, #0x2D8
A0014ADC  F600C801		addsc.a a15, a12, d8, #0
A0014AE0  0000F519		ld.w d5, [a15]
A0014AE4  F0015F4B		cmp.f d15, d15, d5
A0014AE8  F2004F8B		eq d15, d15, #4

#1290						AND		$$TMP20	{L:331}
(*) BOOL
A0014AEC  802D40BB		mov.u d8, #0x2D4
A0014AF0  F600C801		addsc.a a15, a12, d8, #0
A0014AF4  0000F819		ld.w d8, [a15]
A0014AF8  F0808F0F		and d15, d15, d8

#1291						OR		$$TMP19	{L:331}
(*) BOOL
A0014AFC  802D00BB		mov.u d8, #0x2D0
A0014B00  F600C801		addsc.a a15, a12, d8, #0
A0014B04  0000F819		ld.w d8, [a15]
A0014B08  F0A08F0F		or d15, d15, d8

#1292						JMPCN	$label52	{L:331}
(-) BOOL
A0014B0C  013C0FDF		jeq d15, #0, #0x013C ; JUMP 0xA0014D84

#1293		
#1294						(* THEN *)
#1295		
#1296							(* tmpF := (minPos+maxPos)*0.5; *)
#1297							LD		minPos	{L:332}
(*) UNDEF
A0014B10  803200BB		mov.u d8, #0x320
A0014B14  F600C801		addsc.a a15, a12, d8, #0
A0014B18  0000FF19		ld.w d15, [a15]

#1298							ADD		maxPos	{L:332}
(*) REAL
A0014B1C  803040BB		mov.u d8, #0x304
A0014B20  F600C801		addsc.a a15, a12, d8, #0
A0014B24  0000F819		ld.w d8, [a15]
A0014B28  FF21086B		add.f d15, d15, d8

#1299							MUL		0.5	{L:332}
(*) REAL
A0014B2C  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A0014B30  83F0089B		addih d8, d8, #0x3F00
A0014B34  F0418F4B		mul.f d15, d15, d8

#1300							ST		tmpF	{L:332}
(*) REAL
A0014B38  800280BB		mov.u d8, #0x28
A0014B3C  F600C801		addsc.a a15, a12, d8, #0
A0014B40  0000FF59		st.w [a15], d15

#1301		
#1302		
#1303							(* IF Position>tmpF *)
#1304							LD		Position	{L:333}
(*) UNDEF
A0014B44  802F80BB		mov.u d8, #0x2F8
A0014B48  F600C801		addsc.a a15, a12, d8, #0
A0014B4C  0000FF19		ld.w d15, [a15]

#1305							GT		tmpF	{L:333}
(*) REAL
A0014B50  800280BB		mov.u d8, #0x28
A0014B54  F600C801		addsc.a a15, a12, d8, #0
A0014B58  0000F519		ld.w d5, [a15]
A0014B5C  F0015F4B		cmp.f d15, d15, d5
A0014B60  F2004F8B		eq d15, d15, #4

#1306							JMPCN	$label53	{L:333}
(-) BOOL
A0014B64  00200FDF		jeq d15, #0, #0x0020 ; JUMP 0xA0014BA4

#1307		
#1308							(* THEN *)
#1309		
#1310								(* Vel_SP:=(minPos-Position)/(TrialTime); *)
#1311								LD		minPos	{L:334}
(*) UNDEF
A0014B68  803200BB		mov.u d8, #0x320
A0014B6C  F600C801		addsc.a a15, a12, d8, #0
A0014B70  0000FF19		ld.w d15, [a15]

#1312								SUB		Position	{L:334}
(*) REAL
A0014B74  802F80BB		mov.u d8, #0x2F8
A0014B78  F600C801		addsc.a a15, a12, d8, #0
A0014B7C  0000F819		ld.w d8, [a15]
A0014B80  FF31086B		sub.f d15, d15, d8

#1313								DIV		TrialTime	{L:334}
(*) REAL
A0014B84  8002C0BB		mov.u d8, #0x2C
A0014B88  F600C801		addsc.a a15, a12, d8, #0
A0014B8C  0000F819		ld.w d8, [a15]
A0014B90  F0518F4B		div.f d15, d15, d8

#1314								ST		Vel_SP	{L:334}
(*) REAL
A0014B94  803580BB		mov.u d8, #0x358
A0014B98  F600C801		addsc.a a15, a12, d8, #0
A0014B9C  0000FF59		st.w [a15], d15

#1315								JMP		$label54
(-) REAL
A0014BA0  001E001D		j #0x00001E ; JUMP 0xA0014BDC

#1316		$label53:
#1317		
#1318							(* ELSE *)
#1319		
#1320								(* Vel_SP:=(maxPos-Position)/(TrialTime); *)
#1321								LD		maxPos	{L:336}
(*) UNDEF
A0014BA4  803040BB		mov.u d8, #0x304
A0014BA8  F600C801		addsc.a a15, a12, d8, #0
A0014BAC  0000FF19		ld.w d15, [a15]

#1322								SUB		Position	{L:336}
(*) REAL
A0014BB0  802F80BB		mov.u d8, #0x2F8
A0014BB4  F600C801		addsc.a a15, a12, d8, #0
A0014BB8  0000F819		ld.w d8, [a15]
A0014BBC  FF31086B		sub.f d15, d15, d8

#1323								DIV		TrialTime	{L:336}
(*) REAL
A0014BC0  8002C0BB		mov.u d8, #0x2C
A0014BC4  F600C801		addsc.a a15, a12, d8, #0
A0014BC8  0000F819		ld.w d8, [a15]
A0014BCC  F0518F4B		div.f d15, d15, d8

#1324								ST		Vel_SP	{L:336}
(*) REAL
A0014BD0  803580BB		mov.u d8, #0x358
A0014BD4  F600C801		addsc.a a15, a12, d8, #0
A0014BD8  0000FF59		st.w [a15], d15

#1325		
#1326		$label54:
#1327							(* END_IF *)
#1328		
#1329							(* RAND() *)
#1330							CAL		RAND	{L:338}
(*) REAL
A0014BDC  F53CAF89		st.w [-sp]4, d15 
A0014BE0  4000C001		mov.aa a4, a12
A0014BE4  800780BB		mov.u d8, #0x78 ; FB FRAME BASE 0x78
A0014BE8  8000089B		addih d8, d8, #0x0
A0014BEC  46004801		addsc.a a4, a4, d8, #0
A0014BF0  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011244
A0014BF4  9104FFD9		lea a15,[a15]0x1244
A0014BF8  0000000D		nop
A0014BFC  00000F2D		calli a15
A0014C00  0104AF09		ld.w d15, [sp+]4

#1331		
#1332		
#1333							(* IF Vel_SP > maxVel*low_vel_thr *)
#1334							LD		Vel_SP	{L:339}
(*) UNDEF
A0014C04  803580BB		mov.u d8, #0x358
A0014C08  F600C801		addsc.a a15, a12, d8, #0
A0014C0C  0000FF19		ld.w d15, [a15]

#1335							GT(		maxVel	{L:339}
(*) REAL
A0014C10  F53CAF89		st.w [-sp]4, d15 
A0014C14  803000BB		mov.u d8, #0x300
A0014C18  F600C801		addsc.a a15, a12, d8, #0
A0014C1C  0000FF19		ld.w d15, [a15]

#1336							MUL		low_vel_thr	{L:339}
(*) REAL
A0014C20  803300BB		mov.u d8, #0x330
A0014C24  F600C801		addsc.a a15, a12, d8, #0
A0014C28  0000F819		ld.w d8, [a15]
A0014C2C  F0418F4B		mul.f d15, d15, d8

#1337							)	{L:339}
(*) REAL
A0014C30  01F0F00B		mov d0, d15
A0014C34  0104AF09		ld.w d15, [sp+]4
A0014C38  51F0000B		mov d5, d0
A0014C3C  F0015F4B		cmp.f d15, d15, d5
A0014C40  F2004F8B		eq d15, d15, #4

#1338							JMPCN	$label55	{L:339}
(-) BOOL
A0014C44  00320FDF		jeq d15, #0, #0x0032 ; JUMP 0xA0014CA8

#1339		
#1340							(* THEN *)
#1341		
#1342								(* Vel_SP:= maxVel*low_vel_thr	*	(0.4 +0.6*RAND.rnd); *)
#1343								LD		0.6	{L:340}
(*) UNDEF
A0014C48  F999A0BB		mov.u d15, #0x999A ; COSTREAL 0.600000
A0014C4C  F3F19F9B		addih d15, d15, #0x3F19

#1344								MUL		RAND.rnd	{L:340}
(*) REAL
A0014C50  8008C0BB		mov.u d8, #0x8C
A0014C54  F600C801		addsc.a a15, a12, d8, #0
A0014C58  0000F819		ld.w d8, [a15]
A0014C5C  F0418F4B		mul.f d15, d15, d8

#1345								ADD		0.4	{L:340}
(*) REAL
A0014C60  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.400000
A0014C64  83ECC89B		addih d8, d8, #0x3ECC
A0014C68  FF21086B		add.f d15, d15, d8

#1346								MUL(		maxVel	{L:340}
(*) REAL
A0014C6C  F53CAF89		st.w [-sp]4, d15 
A0014C70  803000BB		mov.u d8, #0x300
A0014C74  F600C801		addsc.a a15, a12, d8, #0
A0014C78  0000FF19		ld.w d15, [a15]

#1347								MUL		low_vel_thr	{L:340}
(*) REAL
A0014C7C  803300BB		mov.u d8, #0x330
A0014C80  F600C801		addsc.a a15, a12, d8, #0
A0014C84  0000F819		ld.w d8, [a15]
A0014C88  F0418F4B		mul.f d15, d15, d8

#1348								)	{L:340}
(*) REAL
A0014C8C  01F0F00B		mov d0, d15
A0014C90  0104AF09		ld.w d15, [sp+]4
A0014C94  F0410F4B		mul.f d15, d15, d0

#1349								ST		Vel_SP	{L:340}
(*) REAL
A0014C98  803580BB		mov.u d8, #0x358
A0014C9C  F600C801		addsc.a a15, a12, d8, #0
A0014CA0  0000FF59		st.w [a15], d15

#1350								JMP		$label56
(-) REAL
A0014CA4  005E001D		j #0x00005E ; JUMP 0xA0014D60

#1351		$label55:
#1352		
#1353							(* ELSIF Vel_SP <= -maxVel*low_vel_thr *)
#1354							LD		Vel_SP	{L:341}
(*) UNDEF
A0014CA8  803580BB		mov.u d8, #0x358
A0014CAC  F600C801		addsc.a a15, a12, d8, #0
A0014CB0  0000FF19		ld.w d15, [a15]

#1355							LE(		maxVel	{L:341}
(*) REAL
A0014CB4  F53CAF89		st.w [-sp]4, d15 
A0014CB8  803000BB		mov.u d8, #0x300
A0014CBC  F600C801		addsc.a a15, a12, d8, #0
A0014CC0  0000FF19		ld.w d15, [a15]

#1356							MUL		-1	{L:341}
(*) REAL
A0014CC4  8FFFF03B		mov d8, #-1
A0014CC8  8141084B		itof d8, d8
A0014CCC  F0418F4B		mul.f d15, d15, d8

#1357							MUL		low_vel_thr	{L:341}
(*) REAL
A0014CD0  803300BB		mov.u d8, #0x330
A0014CD4  F600C801		addsc.a a15, a12, d8, #0
A0014CD8  0000F819		ld.w d8, [a15]
A0014CDC  F0418F4B		mul.f d15, d15, d8

#1358							)	{L:341}
(*) REAL
A0014CE0  01F0F00B		mov d0, d15
A0014CE4  0104AF09		ld.w d15, [sp+]4
A0014CE8  51F0000B		mov d5, d0
A0014CEC  F0015F4B		cmp.f d15, d15, d5
A0014CF0  F2204F8B		ne d15, d15, #4

#1359							JMPCN	$label56	{L:341}
(-) BOOL
A0014CF4  00360FDF		jeq d15, #0, #0x0036 ; JUMP 0xA0014D60

#1360		
#1361							(* THEN *)
#1362		
#1363								(* Vel_SP:= -maxVel*low_vel_thr	*	(0.4 +0.6*RAND.rnd); *)
#1364								LD		0.6	{L:342}
(*) UNDEF
A0014CF8  F999A0BB		mov.u d15, #0x999A ; COSTREAL 0.600000
A0014CFC  F3F19F9B		addih d15, d15, #0x3F19

#1365								MUL		RAND.rnd	{L:342}
(*) REAL
A0014D00  8008C0BB		mov.u d8, #0x8C
A0014D04  F600C801		addsc.a a15, a12, d8, #0
A0014D08  0000F819		ld.w d8, [a15]
A0014D0C  F0418F4B		mul.f d15, d15, d8

#1366								ADD		0.4	{L:342}
(*) REAL
A0014D10  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.400000
A0014D14  83ECC89B		addih d8, d8, #0x3ECC
A0014D18  FF21086B		add.f d15, d15, d8

#1367								MUL(		maxVel	{L:342}
(*) REAL
A0014D1C  F53CAF89		st.w [-sp]4, d15 
A0014D20  803000BB		mov.u d8, #0x300
A0014D24  F600C801		addsc.a a15, a12, d8, #0
A0014D28  0000FF19		ld.w d15, [a15]

#1368								MUL		-1	{L:342}
(*) REAL
A0014D2C  8FFFF03B		mov d8, #-1
A0014D30  8141084B		itof d8, d8
A0014D34  F0418F4B		mul.f d15, d15, d8

#1369								MUL		low_vel_thr	{L:342}
(*) REAL
A0014D38  803300BB		mov.u d8, #0x330
A0014D3C  F600C801		addsc.a a15, a12, d8, #0
A0014D40  0000F819		ld.w d8, [a15]
A0014D44  F0418F4B		mul.f d15, d15, d8

#1370								)	{L:342}
(*) REAL
A0014D48  01F0F00B		mov d0, d15
A0014D4C  0104AF09		ld.w d15, [sp+]4
A0014D50  F0410F4B		mul.f d15, d15, d0

#1371								ST		Vel_SP	{L:342}
(*) REAL
A0014D54  803580BB		mov.u d8, #0x358
A0014D58  F600C801		addsc.a a15, a12, d8, #0
A0014D5C  0000FF59		st.w [a15], d15

#1372		
#1373		$label56:
#1374							(* END_IF *)
#1375		
#1376							(* state := 6; *)
#1377							LD		6	{L:344}
(*) UNDEF
A0014D60  F000603B		mov d15, #6

#1378							ST		state	{L:344}
(*) USINT
A0014D64  803400BB		mov.u d8, #0x340
A0014D68  F600C801		addsc.a a15, a12, d8, #0
A0014D6C  0800FF89		st.b [a15], d15

#1379		
#1380							(* Time:=0.0; *)
#1381							LD		0.0	{L:345}
(*) UNDEF
A0014D70  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0014D74  F0000F9B		addih d15, d15, #0x0000

#1382							ST		Time	{L:345}
(*) REAL
A0014D78  8001C0BB		mov.u d8, #0x1C
A0014D7C  F600C801		addsc.a a15, a12, d8, #0
A0014D80  0000FF59		st.w [a15], d15

#1383		
#1384		$label52:
#1385						(* END_IF *)
#1386						JMP		$label22
(-) REAL
A0014D84  0AB2001D		j #0x000AB2 ; JUMP 0xA00162E8

#1387		
#1388		$label30:
#1389						(* tmpF := Vel_SP * 0.95; *)
#1390						LD		Vel_SP	{L:350}
(*) UNDEF
A0014D88  803580BB		mov.u d8, #0x358
A0014D8C  F600C801		addsc.a a15, a12, d8, #0
A0014D90  0000FF19		ld.w d15, [a15]

#1391						MUL		0.95	{L:350}
(*) REAL
A0014D94  833330BB		mov.u d8, #0x3333 ; COSTREAL 0.950000
A0014D98  83F7389B		addih d8, d8, #0x3F73
A0014D9C  F0418F4B		mul.f d15, d15, d8

#1392						ST		tmpF	{L:350}
(*) REAL
A0014DA0  800280BB		mov.u d8, #0x28
A0014DA4  F600C801		addsc.a a15, a12, d8, #0
A0014DA8  0000FF59		st.w [a15], d15

#1393		
#1394		
#1395						(* IF tmpF>0) AND (Speed>tmpF)) OR ((tmpF<0) AND (Speed<tmpF *)
#1396						LD		Speed	{L:351}
(*) UNDEF
A0014DAC  802F40BB		mov.u d8, #0x2F4
A0014DB0  F600C801		addsc.a a15, a12, d8, #0
A0014DB4  0000FF19		ld.w d15, [a15]

#1397						LT		tmpF	{L:351}
(*) REAL
A0014DB8  800280BB		mov.u d8, #0x28
A0014DBC  F600C801		addsc.a a15, a12, d8, #0
A0014DC0  0000F519		ld.w d5, [a15]
A0014DC4  F0015F4B		cmp.f d15, d15, d5
A0014DC8  F2001F8B		eq d15, d15, #1

#1398						AND(		tmpF	{L:351}
(*) BOOL
A0014DCC  F53CAF89		st.w [-sp]4, d15 
A0014DD0  800280BB		mov.u d8, #0x28
A0014DD4  F600C801		addsc.a a15, a12, d8, #0
A0014DD8  0000FF19		ld.w d15, [a15]

#1399						LT		0	{L:351}
(*) REAL
A0014DDC  5000003B		mov d5, #0
A0014DE0  5161054B		utof d5, d5
A0014DE4  F0015F4B		cmp.f d15, d15, d5
A0014DE8  F2001F8B		eq d15, d15, #1

#1400						)	{L:351}
(*) BOOL
A0014DEC  01F0F00B		mov d0, d15
A0014DF0  0104AF09		ld.w d15, [sp+]4
A0014DF4  F0800F0F		and d15, d15, d0

#1401						OR(		Speed	{L:351}
(*) BOOL
A0014DF8  F53CAF89		st.w [-sp]4, d15 
A0014DFC  802F40BB		mov.u d8, #0x2F4
A0014E00  F600C801		addsc.a a15, a12, d8, #0
A0014E04  0000FF19		ld.w d15, [a15]

#1402						GT		tmpF	{L:351}
(*) REAL
A0014E08  800280BB		mov.u d8, #0x28
A0014E0C  F600C801		addsc.a a15, a12, d8, #0
A0014E10  0000F519		ld.w d5, [a15]
A0014E14  F0015F4B		cmp.f d15, d15, d5
A0014E18  F2004F8B		eq d15, d15, #4

#1403						AND(		tmpF	{L:351}
(*) BOOL
A0014E1C  F53CAF89		st.w [-sp]4, d15 
A0014E20  800280BB		mov.u d8, #0x28
A0014E24  F600C801		addsc.a a15, a12, d8, #0
A0014E28  0000FF19		ld.w d15, [a15]

#1404						GT		0	{L:351}
(*) REAL
A0014E2C  5000003B		mov d5, #0
A0014E30  5161054B		utof d5, d5
A0014E34  F0015F4B		cmp.f d15, d15, d5
A0014E38  F2004F8B		eq d15, d15, #4

#1405						)	{L:351}
(*) BOOL
A0014E3C  01F0F00B		mov d0, d15
A0014E40  0104AF09		ld.w d15, [sp+]4
A0014E44  F0800F0F		and d15, d15, d0

#1406						)	{L:351}
(*) BOOL
A0014E48  01F0F00B		mov d0, d15
A0014E4C  0104AF09		ld.w d15, [sp+]4
A0014E50  F0A00F0F		or d15, d15, d0

#1407						JMPCN	$label57	{L:351}
(-) BOOL
A0014E54  006C0FDF		jeq d15, #0, #0x006C ; JUMP 0xA0014F2C

#1408		
#1409						(* THEN *)
#1410		
#1411							(* rise_time:=Time; *)
#1412							LD		Time	{L:352}
(*) UNDEF
A0014E58  8001C0BB		mov.u d8, #0x1C
A0014E5C  F600C801		addsc.a a15, a12, d8, #0
A0014E60  0000FF19		ld.w d15, [a15]

#1413							ST		rise_time	{L:352}
(*) REAL
A0014E64  800200BB		mov.u d8, #0x20
A0014E68  F600C801		addsc.a a15, a12, d8, #0
A0014E6C  0000FF59		st.w [a15], d15

#1414		
#1415		
#1416							(* IF rise_time<0.1*TrialTime *)
#1417							LD		rise_time	{L:353}
(*) UNDEF
A0014E70  800200BB		mov.u d8, #0x20
A0014E74  F600C801		addsc.a a15, a12, d8, #0
A0014E78  0000FF19		ld.w d15, [a15]

#1418							LT(		0.1	{L:353}
(*) REAL
A0014E7C  F53CAF89		st.w [-sp]4, d15 
A0014E80  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A0014E84  F3DCCF9B		addih d15, d15, #0x3DCC

#1419							MUL		TrialTime	{L:353}
(*) REAL
A0014E88  8002C0BB		mov.u d8, #0x2C
A0014E8C  F600C801		addsc.a a15, a12, d8, #0
A0014E90  0000F819		ld.w d8, [a15]
A0014E94  F0418F4B		mul.f d15, d15, d8

#1420							)	{L:353}
(*) REAL
A0014E98  01F0F00B		mov d0, d15
A0014E9C  0104AF09		ld.w d15, [sp+]4
A0014EA0  51F0000B		mov d5, d0
A0014EA4  F0015F4B		cmp.f d15, d15, d5
A0014EA8  F2001F8B		eq d15, d15, #1

#1421							JMPCN	$label58	{L:353}
(-) BOOL
A0014EAC  00140FDF		jeq d15, #0, #0x0014 ; JUMP 0xA0014ED4

#1422		
#1423							(* THEN *)
#1424		
#1425								(* rise_time:=0.1*TrialTime; *)
#1426								LD		0.1	{L:354}
(*) UNDEF
A0014EB0  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A0014EB4  F3DCCF9B		addih d15, d15, #0x3DCC

#1427								MUL		TrialTime	{L:354}
(*) REAL
A0014EB8  8002C0BB		mov.u d8, #0x2C
A0014EBC  F600C801		addsc.a a15, a12, d8, #0
A0014EC0  0000F819		ld.w d8, [a15]
A0014EC4  F0418F4B		mul.f d15, d15, d8

#1428								ST		rise_time	{L:354}
(*) REAL
A0014EC8  800200BB		mov.u d8, #0x20
A0014ECC  F600C801		addsc.a a15, a12, d8, #0
A0014ED0  0000FF59		st.w [a15], d15

#1429		
#1430		$label58:
#1431							(* END_IF *)
#1432		
#1433							(* fb_VARIANCE.ssMethodType:=0; *)
#1434							LD		0	{L:356}
(*) UNDEF
A0014ED4  F000003B		mov d15, #0

#1435							ST		fb_VARIANCE.ssMethodType	{L:356}
(*) USINT
A0014ED8  802A00BB		mov.u d8, #0x2A0
A0014EDC  F600C801		addsc.a a15, a12, d8, #0
A0014EE0  0800FF89		st.b [a15], d15

#1436		
#1437							(* fb_VARIANCE() *)
#1438							CAL		fb_VARIANCE	{L:357}
(*) SINT
A0014EE4  F53CAF89		st.w [-sp]4, d15 
A0014EE8  4000C001		mov.aa a4, a12
A0014EEC  802800BB		mov.u d8, #0x280 ; FB FRAME BASE 0x280
A0014EF0  8000089B		addih d8, d8, #0x0
A0014EF4  46004801		addsc.a a4, a4, d8, #0
A0014EF8  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0012460
A0014EFC  1260FFD9		lea a15,[a15]0x2460
A0014F00  0000000D		nop
A0014F04  00000F2D		calli a15
A0014F08  0104AF09		ld.w d15, [sp+]4

#1439		
#1440							(* fb_VARIANCE.ssMethodType:=1; *)
#1441							LD		1	{L:358}
(*) UNDEF
A0014F0C  F000103B		mov d15, #1

#1442							ST		fb_VARIANCE.ssMethodType	{L:358}
(*) USINT
A0014F10  802A00BB		mov.u d8, #0x2A0
A0014F14  F600C801		addsc.a a15, a12, d8, #0
A0014F18  0800FF89		st.b [a15], d15

#1443		
#1444							(* state:=7; *)
#1445							LD		7	{L:359}
(*) UNDEF
A0014F1C  F000703B		mov d15, #7

#1446							ST		state	{L:359}
(*) USINT
A0014F20  803400BB		mov.u d8, #0x340
A0014F24  F600C801		addsc.a a15, a12, d8, #0
A0014F28  0800FF89		st.b [a15], d15

#1447		
#1448		$label57:
#1449						(* END_IF *)
#1450		
#1451		
#1452						(* IF tmpF>0) AND (Speed>1.3*Vel_SP)) OR ((tmpF<0) AND (Speed<1.3*Vel_SP *)
#1453						LD		Speed	{L:361}
(*) UNDEF
A0014F2C  802F40BB		mov.u d8, #0x2F4
A0014F30  F600C801		addsc.a a15, a12, d8, #0
A0014F34  0000FF19		ld.w d15, [a15]

#1454						LT(		1.3	{L:361}
(*) REAL
A0014F38  F53CAF89		st.w [-sp]4, d15 
A0014F3C  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A0014F40  F3FA6F9B		addih d15, d15, #0x3FA6

#1455						MUL		Vel_SP	{L:361}
(*) REAL
A0014F44  803580BB		mov.u d8, #0x358
A0014F48  F600C801		addsc.a a15, a12, d8, #0
A0014F4C  0000F819		ld.w d8, [a15]
A0014F50  F0418F4B		mul.f d15, d15, d8

#1456						)	{L:361}
(*) REAL
A0014F54  01F0F00B		mov d0, d15
A0014F58  0104AF09		ld.w d15, [sp+]4
A0014F5C  51F0000B		mov d5, d0
A0014F60  F0015F4B		cmp.f d15, d15, d5
A0014F64  F2001F8B		eq d15, d15, #1

#1457						AND(		tmpF	{L:361}
(*) BOOL
A0014F68  F53CAF89		st.w [-sp]4, d15 
A0014F6C  800280BB		mov.u d8, #0x28
A0014F70  F600C801		addsc.a a15, a12, d8, #0
A0014F74  0000FF19		ld.w d15, [a15]

#1458						LT		0	{L:361}
(*) REAL
A0014F78  5000003B		mov d5, #0
A0014F7C  5161054B		utof d5, d5
A0014F80  F0015F4B		cmp.f d15, d15, d5
A0014F84  F2001F8B		eq d15, d15, #1

#1459						)	{L:361}
(*) BOOL
A0014F88  01F0F00B		mov d0, d15
A0014F8C  0104AF09		ld.w d15, [sp+]4
A0014F90  F0800F0F		and d15, d15, d0

#1460						OR(		Speed	{L:361}
(*) BOOL
A0014F94  F53CAF89		st.w [-sp]4, d15 
A0014F98  802F40BB		mov.u d8, #0x2F4
A0014F9C  F600C801		addsc.a a15, a12, d8, #0
A0014FA0  0000FF19		ld.w d15, [a15]

#1461						GT(		1.3	{L:361}
(*) REAL
A0014FA4  F53CAF89		st.w [-sp]4, d15 
A0014FA8  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A0014FAC  F3FA6F9B		addih d15, d15, #0x3FA6

#1462						MUL		Vel_SP	{L:361}
(*) REAL
A0014FB0  803580BB		mov.u d8, #0x358
A0014FB4  F600C801		addsc.a a15, a12, d8, #0
A0014FB8  0000F819		ld.w d8, [a15]
A0014FBC  F0418F4B		mul.f d15, d15, d8

#1463						)	{L:361}
(*) REAL
A0014FC0  01F0F00B		mov d0, d15
A0014FC4  0104AF09		ld.w d15, [sp+]4
A0014FC8  51F0000B		mov d5, d0
A0014FCC  F0015F4B		cmp.f d15, d15, d5
A0014FD0  F2004F8B		eq d15, d15, #4

#1464						AND(		tmpF	{L:361}
(*) BOOL
A0014FD4  F53CAF89		st.w [-sp]4, d15 
A0014FD8  800280BB		mov.u d8, #0x28
A0014FDC  F600C801		addsc.a a15, a12, d8, #0
A0014FE0  0000FF19		ld.w d15, [a15]

#1465						GT		0	{L:361}
(*) REAL
A0014FE4  5000003B		mov d5, #0
A0014FE8  5161054B		utof d5, d5
A0014FEC  F0015F4B		cmp.f d15, d15, d5
A0014FF0  F2004F8B		eq d15, d15, #4

#1466						)	{L:361}
(*) BOOL
A0014FF4  01F0F00B		mov d0, d15
A0014FF8  0104AF09		ld.w d15, [sp+]4
A0014FFC  F0800F0F		and d15, d15, d0

#1467						)	{L:361}
(*) BOOL
A0015000  01F0F00B		mov d0, d15
A0015004  0104AF09		ld.w d15, [sp+]4
A0015008  F0A00F0F		or d15, d15, d0

#1468						JMPCN	$label59	{L:361}
(-) BOOL
A001500C  00240FDF		jeq d15, #0, #0x0024 ; JUMP 0xA0015054

#1469		
#1470						(* THEN *)
#1471		
#1472							(* Wc_act:=Wc_act*0.75; *)
#1473							LD		Wc_act	{L:362}
(*) UNDEF
A0015010  800340BB		mov.u d8, #0x34
A0015014  F600C801		addsc.a a15, a12, d8, #0
A0015018  0000FF19		ld.w d15, [a15]

#1474							MUL		0.75	{L:362}
(*) REAL
A001501C  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.750000
A0015020  83F4089B		addih d8, d8, #0x3F40
A0015024  F0418F4B		mul.f d15, d15, d8

#1475							ST		Wc_act	{L:362}
(*) REAL
A0015028  800340BB		mov.u d8, #0x34
A001502C  F600C801		addsc.a a15, a12, d8, #0
A0015030  0000FF59		st.w [a15], d15

#1476		
#1477							(* TUNED:=TRUE; *)
#1478							LD		TRUE	{L:363}
(*) UNDEF
A0015034  F000103B		mov d15, #1

#1479							ST		TUNED	{L:363}
(*) BOOL
A0015038  800040BB		mov.u d8, #0x4
A001503C  F600C801		addsc.a a15, a12, d8, #0
A0015040  0000FF59		st.w [a15], d15

#1480		
#1481							(* state	:=	9; *)
#1482							LD		9	{L:364}
(*) UNDEF
A0015044  F000903B		mov d15, #9

#1483							ST		state	{L:364}
(*) USINT
A0015048  803400BB		mov.u d8, #0x340
A001504C  F600C801		addsc.a a15, a12, d8, #0
A0015050  0800FF89		st.b [a15], d15

#1484		
#1485		$label59:
#1486						(* END_IF *)
#1487		
#1488		
#1489						(* IF Time>=TrialTime *)
#1490						LD		Time	{L:366}
(*) UNDEF
A0015054  8001C0BB		mov.u d8, #0x1C
A0015058  F600C801		addsc.a a15, a12, d8, #0
A001505C  0000FF19		ld.w d15, [a15]

#1491						GE		TrialTime	{L:366}
(*) REAL
A0015060  8002C0BB		mov.u d8, #0x2C
A0015064  F600C801		addsc.a a15, a12, d8, #0
A0015068  0000F519		ld.w d5, [a15]
A001506C  F0015F4B		cmp.f d15, d15, d5
A0015070  F2201F8B		ne d15, d15, #1

#1492						JMPCN	$label60	{L:366}
(-) BOOL
A0015074  00C20FDF		jeq d15, #0, #0x00C2 ; JUMP 0xA00151F8

#1493		
#1494						(* THEN *)
#1495		
#1496							(* Wc_act := Wc_act + Wc_Step; *)
#1497							LD		Wc_act	{L:367}
(*) UNDEF
A0015078  800340BB		mov.u d8, #0x34
A001507C  F600C801		addsc.a a15, a12, d8, #0
A0015080  0000FF19		ld.w d15, [a15]

#1498							ADD		Wc_Step	{L:367}
(*) REAL
A0015084  800440BB		mov.u d8, #0x44
A0015088  F600C801		addsc.a a15, a12, d8, #0
A001508C  0000F819		ld.w d8, [a15]
A0015090  FF21086B		add.f d15, d15, d8

#1499							ST		Wc_act	{L:367}
(*) REAL
A0015094  800340BB		mov.u d8, #0x34
A0015098  F600C801		addsc.a a15, a12, d8, #0
A001509C  0000FF59		st.w [a15], d15

#1500		
#1501		
#1502							(* IF Wc_act >= MaxWc *)
#1503							LD		Wc_act	{L:368}
(*) UNDEF
A00150A0  800340BB		mov.u d8, #0x34
A00150A4  F600C801		addsc.a a15, a12, d8, #0
A00150A8  0000FF19		ld.w d15, [a15]

#1504							GE		MaxWc	{L:368}
(*) REAL
A00150AC  803280BB		mov.u d8, #0x328
A00150B0  F600C801		addsc.a a15, a12, d8, #0
A00150B4  0000F519		ld.w d5, [a15]
A00150B8  F0015F4B		cmp.f d15, d15, d5
A00150BC  F2201F8B		ne d15, d15, #1

#1505							JMPCN	$label61	{L:368}
(-) BOOL
A00150C0  008A0FDF		jeq d15, #0, #0x008A ; JUMP 0xA00151D4

#1506		
#1507							(* THEN *)
#1508		
#1509								(* Wc_act:=MinWc; *)
#1510								LD		MinWc	{L:369}
(*) UNDEF
A00150C4  8032C0BB		mov.u d8, #0x32C
A00150C8  F600C801		addsc.a a15, a12, d8, #0
A00150CC  0000FF19		ld.w d15, [a15]

#1511								ST		Wc_act	{L:369}
(*) REAL
A00150D0  800340BB		mov.u d8, #0x34
A00150D4  F600C801		addsc.a a15, a12, d8, #0
A00150D8  0000FF59		st.w [a15], d15

#1512		
#1513								(* TUNED := FALSE; *)
#1514								LD		FALSE	{L:370}
(*) UNDEF
A00150DC  F000003B		mov d15, #0

#1515								ST		TUNED	{L:370}
(*) BOOL
A00150E0  800040BB		mov.u d8, #0x4
A00150E4  F600C801		addsc.a a15, a12, d8, #0
A00150E8  0000FF59		st.w [a15], d15

#1516		
#1517		
#1518								(* IF estimation_trials>3 *)
#1519								LD		estimation_trials	{L:372}
(*) UNDEF
A00150EC  802B20BB		mov.u d8, #0x2B2
A00150F0  F600C801		addsc.a a15, a12, d8, #0
A00150F4  0880FF09		ld.h d15, [a15]

#1520								GT		3	{L:372}
(*) INT
A00150F8  8000303B		mov d8, #3
A00150FC  F120F80B		lt d15, d8, d15

#1521								JMPCN	$label63	{L:372}
(-) BOOL
A0015100  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0015118

#1522		
#1523								(* THEN *)
#1524		
#1525									(* state:=91; *)
#1526									LD		91	{L:373}
(*) UNDEF
A0015104  F005B03B		mov d15, #91

#1527									ST		state	{L:373}
(*) USINT
A0015108  803400BB		mov.u d8, #0x340
A001510C  F600C801		addsc.a a15, a12, d8, #0
A0015110  0800FF89		st.b [a15], d15

#1528									JMP		$label64
(-) USINT
A0015114  0054001D		j #0x000054 ; JUMP 0xA00151BC

#1529		$label63:
#1530		
#1531								(* ELSIF Time > TrialTime) OR (ABS(Speed)<noiseLevel *)
#1532								LD		Time	{L:374}
(*) UNDEF
A0015118  8001C0BB		mov.u d8, #0x1C
A001511C  F600C801		addsc.a a15, a12, d8, #0
A0015120  0000FF19		ld.w d15, [a15]

#1533								GT		TrialTime	{L:374}
(*) REAL
A0015124  8002C0BB		mov.u d8, #0x2C
A0015128  F600C801		addsc.a a15, a12, d8, #0
A001512C  0000F519		ld.w d5, [a15]
A0015130  F0015F4B		cmp.f d15, d15, d5
A0015134  F2004F8B		eq d15, d15, #4

#1534								ST		$$TMP35	{L:374}
(*) BOOL
A0015138  802DC0BB		mov.u d8, #0x2DC
A001513C  F600C801		addsc.a a15, a12, d8, #0
A0015140  0000FF59		st.w [a15], d15

#1535								LD		Speed	{L:374}
(*) UNDEF
A0015144  802F40BB		mov.u d8, #0x2F4
A0015148  F600C801		addsc.a a15, a12, d8, #0
A001514C  0000FF19		ld.w d15, [a15]

#1536								ABS	{L:374}
(*) REAL
A0015150  41F0F00B		mov d4, d15
A0015154  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A0015158  31F0FFD9		lea a15,[a15]0x1CF0
A001515C  0000000D		nop
A0015160  00000F2D		calli a15
A0015164  F1F0200B		mov d15, d2

#1537								LT		noiseLevel	{L:374}
(*) REAL
A0015168  803440BB		mov.u d8, #0x344
A001516C  F600C801		addsc.a a15, a12, d8, #0
A0015170  0000F519		ld.w d5, [a15]
A0015174  F0015F4B		cmp.f d15, d15, d5
A0015178  F2001F8B		eq d15, d15, #1

#1538								OR		$$TMP35	{L:374}
(*) BOOL
A001517C  802DC0BB		mov.u d8, #0x2DC
A0015180  F600C801		addsc.a a15, a12, d8, #0
A0015184  0000F819		ld.w d8, [a15]
A0015188  F0A08F0F		or d15, d15, d8

#1539								JMPCN	$label64	{L:374}
(-) BOOL
A001518C  00180FDF		jeq d15, #0, #0x0018 ; JUMP 0xA00151BC

#1540		
#1541								(* THEN *)
#1542		
#1543									(* state:=4; *)
#1544									LD		4	{L:375}
(*) UNDEF
A0015190  F000403B		mov d15, #4

#1545									ST		state	{L:375}
(*) USINT
A0015194  803400BB		mov.u d8, #0x340
A0015198  F600C801		addsc.a a15, a12, d8, #0
A001519C  0800FF89		st.b [a15], d15

#1546		
#1547									(* estimation_trials:=estimation_trials+1; *)
#1548									LD		estimation_trials	{L:376}
(*) UNDEF
A00151A0  802B20BB		mov.u d8, #0x2B2
A00151A4  F600C801		addsc.a a15, a12, d8, #0
A00151A8  0880FF09		ld.h d15, [a15]

#1549									ADD		1	{L:376}
(*) INT
A00151AC  F0001F8B		add d15, d15, #1

#1550									ST		estimation_trials	{L:376}
(*) INT
A00151B0  802B20BB		mov.u d8, #0x2B2
A00151B4  F600C801		addsc.a a15, a12, d8, #0
A00151B8  0880FF89		st.h [a15], d15

#1551		
#1552		$label64:
#1553								(* END_IF *)
#1554		
#1555								(* Vel_SP:=0.0; *)
#1556								LD		0.0	{L:378}
(*) UNDEF
A00151BC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00151C0  F0000F9B		addih d15, d15, #0x0000

#1557								ST		Vel_SP	{L:378}
(*) REAL
A00151C4  803580BB		mov.u d8, #0x358
A00151C8  F600C801		addsc.a a15, a12, d8, #0
A00151CC  0000FF59		st.w [a15], d15

#1558								JMP		$label62
(-) REAL
A00151D0  0014001D		j #0x000014 ; JUMP 0xA00151F8

#1559		$label61:
#1560		
#1561							(* ELSE *)
#1562		
#1563								(* state := 4; *)
#1564								LD		4	{L:380}
(*) UNDEF
A00151D4  F000403B		mov d15, #4

#1565								ST		state	{L:380}
(*) USINT
A00151D8  803400BB		mov.u d8, #0x340
A00151DC  F600C801		addsc.a a15, a12, d8, #0
A00151E0  0800FF89		st.b [a15], d15

#1566		
#1567								(* Time:=0.0; *)
#1568								LD		0.0	{L:381}
(*) UNDEF
A00151E4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00151E8  F0000F9B		addih d15, d15, #0x0000

#1569								ST		Time	{L:381}
(*) REAL
A00151EC  8001C0BB		mov.u d8, #0x1C
A00151F0  F600C801		addsc.a a15, a12, d8, #0
A00151F4  0000FF59		st.w [a15], d15

#1570		
#1571		$label62:
#1572							(* END_IF *)
#1573		
#1574		$label60:
#1575						(* END_IF *)
#1576						JMP		$label22
(-) REAL
A00151F8  0878001D		j #0x000878 ; JUMP 0xA00162E8

#1577		
#1578		$label31:
#1579		
#1580						(* IF Time>3.0*rise_time) OR (Time>0.4*TrialTime *)
#1581						LD		Time	{L:385}
(*) UNDEF
A00151FC  8001C0BB		mov.u d8, #0x1C
A0015200  F600C801		addsc.a a15, a12, d8, #0
A0015204  0000FF19		ld.w d15, [a15]

#1582						GT(		0.4	{L:385}
(*) REAL
A0015208  F53CAF89		st.w [-sp]4, d15 
A001520C  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.400000
A0015210  F3ECCF9B		addih d15, d15, #0x3ECC

#1583						MUL		TrialTime	{L:385}
(*) REAL
A0015214  8002C0BB		mov.u d8, #0x2C
A0015218  F600C801		addsc.a a15, a12, d8, #0
A001521C  0000F819		ld.w d8, [a15]
A0015220  F0418F4B		mul.f d15, d15, d8

#1584						)	{L:385}
(*) REAL
A0015224  01F0F00B		mov d0, d15
A0015228  0104AF09		ld.w d15, [sp+]4
A001522C  51F0000B		mov d5, d0
A0015230  F0015F4B		cmp.f d15, d15, d5
A0015234  F2004F8B		eq d15, d15, #4

#1585						OR(		Time	{L:385}
(*) BOOL
A0015238  F53CAF89		st.w [-sp]4, d15 
A001523C  8001C0BB		mov.u d8, #0x1C
A0015240  F600C801		addsc.a a15, a12, d8, #0
A0015244  0000FF19		ld.w d15, [a15]

#1586						GT(		3.0	{L:385}
(*) REAL
A0015248  F53CAF89		st.w [-sp]4, d15 
A001524C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 3.000000
A0015250  F4040F9B		addih d15, d15, #0x4040

#1587						MUL		rise_time	{L:385}
(*) REAL
A0015254  800200BB		mov.u d8, #0x20
A0015258  F600C801		addsc.a a15, a12, d8, #0
A001525C  0000F819		ld.w d8, [a15]
A0015260  F0418F4B		mul.f d15, d15, d8

#1588						)	{L:385}
(*) REAL
A0015264  01F0F00B		mov d0, d15
A0015268  0104AF09		ld.w d15, [sp+]4
A001526C  51F0000B		mov d5, d0
A0015270  F0015F4B		cmp.f d15, d15, d5
A0015274  F2004F8B		eq d15, d15, #4

#1589						)	{L:385}
(*) BOOL
A0015278  01F0F00B		mov d0, d15
A001527C  0104AF09		ld.w d15, [sp+]4
A0015280  F0A00F0F		or d15, d15, d0

#1590						JMPCN	$label65	{L:385}
(-) BOOL
A0015284  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA0015298

#1591		
#1592						(* THEN *)
#1593		
#1594							(* state:=8; *)
#1595							LD		8	{L:386}
(*) UNDEF
A0015288  F000803B		mov d15, #8

#1596							ST		state	{L:386}
(*) USINT
A001528C  803400BB		mov.u d8, #0x340
A0015290  F600C801		addsc.a a15, a12, d8, #0
A0015294  0800FF89		st.b [a15], d15

#1597		
#1598		$label65:
#1599						(* END_IF *)
#1600		
#1601						(* tmpF := Vel_SP * 0.95; *)
#1602						LD		Vel_SP	{L:388}
(*) UNDEF
A0015298  803580BB		mov.u d8, #0x358
A001529C  F600C801		addsc.a a15, a12, d8, #0
A00152A0  0000FF19		ld.w d15, [a15]

#1603						MUL		0.95	{L:388}
(*) REAL
A00152A4  833330BB		mov.u d8, #0x3333 ; COSTREAL 0.950000
A00152A8  83F7389B		addih d8, d8, #0x3F73
A00152AC  F0418F4B		mul.f d15, d15, d8

#1604						ST		tmpF	{L:388}
(*) REAL
A00152B0  800280BB		mov.u d8, #0x28
A00152B4  F600C801		addsc.a a15, a12, d8, #0
A00152B8  0000FF59		st.w [a15], d15

#1605		
#1606		
#1607						(* IF tmpF>0) AND (Speed>1.3*Vel_SP)) OR ((tmpF<0) AND (Speed<1.3*Vel_SP *)
#1608						LD		Speed	{L:389}
(*) UNDEF
A00152BC  802F40BB		mov.u d8, #0x2F4
A00152C0  F600C801		addsc.a a15, a12, d8, #0
A00152C4  0000FF19		ld.w d15, [a15]

#1609						LT(		1.3	{L:389}
(*) REAL
A00152C8  F53CAF89		st.w [-sp]4, d15 
A00152CC  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A00152D0  F3FA6F9B		addih d15, d15, #0x3FA6

#1610						MUL		Vel_SP	{L:389}
(*) REAL
A00152D4  803580BB		mov.u d8, #0x358
A00152D8  F600C801		addsc.a a15, a12, d8, #0
A00152DC  0000F819		ld.w d8, [a15]
A00152E0  F0418F4B		mul.f d15, d15, d8

#1611						)	{L:389}
(*) REAL
A00152E4  01F0F00B		mov d0, d15
A00152E8  0104AF09		ld.w d15, [sp+]4
A00152EC  51F0000B		mov d5, d0
A00152F0  F0015F4B		cmp.f d15, d15, d5
A00152F4  F2001F8B		eq d15, d15, #1

#1612						AND(		tmpF	{L:389}
(*) BOOL
A00152F8  F53CAF89		st.w [-sp]4, d15 
A00152FC  800280BB		mov.u d8, #0x28
A0015300  F600C801		addsc.a a15, a12, d8, #0
A0015304  0000FF19		ld.w d15, [a15]

#1613						LT		0	{L:389}
(*) REAL
A0015308  5000003B		mov d5, #0
A001530C  5161054B		utof d5, d5
A0015310  F0015F4B		cmp.f d15, d15, d5
A0015314  F2001F8B		eq d15, d15, #1

#1614						)	{L:389}
(*) BOOL
A0015318  01F0F00B		mov d0, d15
A001531C  0104AF09		ld.w d15, [sp+]4
A0015320  F0800F0F		and d15, d15, d0

#1615						OR(		Speed	{L:389}
(*) BOOL
A0015324  F53CAF89		st.w [-sp]4, d15 
A0015328  802F40BB		mov.u d8, #0x2F4
A001532C  F600C801		addsc.a a15, a12, d8, #0
A0015330  0000FF19		ld.w d15, [a15]

#1616						GT(		1.3	{L:389}
(*) REAL
A0015334  F53CAF89		st.w [-sp]4, d15 
A0015338  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A001533C  F3FA6F9B		addih d15, d15, #0x3FA6

#1617						MUL		Vel_SP	{L:389}
(*) REAL
A0015340  803580BB		mov.u d8, #0x358
A0015344  F600C801		addsc.a a15, a12, d8, #0
A0015348  0000F819		ld.w d8, [a15]
A001534C  F0418F4B		mul.f d15, d15, d8

#1618						)	{L:389}
(*) REAL
A0015350  01F0F00B		mov d0, d15
A0015354  0104AF09		ld.w d15, [sp+]4
A0015358  51F0000B		mov d5, d0
A001535C  F0015F4B		cmp.f d15, d15, d5
A0015360  F2004F8B		eq d15, d15, #4

#1619						AND(		tmpF	{L:389}
(*) BOOL
A0015364  F53CAF89		st.w [-sp]4, d15 
A0015368  800280BB		mov.u d8, #0x28
A001536C  F600C801		addsc.a a15, a12, d8, #0
A0015370  0000FF19		ld.w d15, [a15]

#1620						GT		0	{L:389}
(*) REAL
A0015374  5000003B		mov d5, #0
A0015378  5161054B		utof d5, d5
A001537C  F0015F4B		cmp.f d15, d15, d5
A0015380  F2004F8B		eq d15, d15, #4

#1621						)	{L:389}
(*) BOOL
A0015384  01F0F00B		mov d0, d15
A0015388  0104AF09		ld.w d15, [sp+]4
A001538C  F0800F0F		and d15, d15, d0

#1622						)	{L:389}
(*) BOOL
A0015390  01F0F00B		mov d0, d15
A0015394  0104AF09		ld.w d15, [sp+]4
A0015398  F0A00F0F		or d15, d15, d0

#1623						JMPCN	$label66	{L:389}
(-) BOOL
A001539C  00240FDF		jeq d15, #0, #0x0024 ; JUMP 0xA00153E4

#1624		
#1625						(* THEN *)
#1626		
#1627							(* Wc_act:=Wc_act*0.75; *)
#1628							LD		Wc_act	{L:390}
(*) UNDEF
A00153A0  800340BB		mov.u d8, #0x34
A00153A4  F600C801		addsc.a a15, a12, d8, #0
A00153A8  0000FF19		ld.w d15, [a15]

#1629							MUL		0.75	{L:390}
(*) REAL
A00153AC  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.750000
A00153B0  83F4089B		addih d8, d8, #0x3F40
A00153B4  F0418F4B		mul.f d15, d15, d8

#1630							ST		Wc_act	{L:390}
(*) REAL
A00153B8  800340BB		mov.u d8, #0x34
A00153BC  F600C801		addsc.a a15, a12, d8, #0
A00153C0  0000FF59		st.w [a15], d15

#1631		
#1632							(* TUNED:=TRUE; *)
#1633							LD		TRUE	{L:391}
(*) UNDEF
A00153C4  F000103B		mov d15, #1

#1634							ST		TUNED	{L:391}
(*) BOOL
A00153C8  800040BB		mov.u d8, #0x4
A00153CC  F600C801		addsc.a a15, a12, d8, #0
A00153D0  0000FF59		st.w [a15], d15

#1635		
#1636							(* state	:=	9; *)
#1637							LD		9	{L:392}
(*) UNDEF
A00153D4  F000903B		mov d15, #9

#1638							ST		state	{L:392}
(*) USINT
A00153D8  803400BB		mov.u d8, #0x340
A00153DC  F600C801		addsc.a a15, a12, d8, #0
A00153E0  0800FF89		st.b [a15], d15

#1639		
#1640		$label66:
#1641						(* END_IF *)
#1642						JMP		$label22
(-) USINT
A00153E4  0782001D		j #0x000782 ; JUMP 0xA00162E8

#1643		
#1644		$label32:
#1645		
#1646						(* IF Time>5.0*rise_time) OR (Time>0.7*TrialTime *)
#1647						LD		Time	{L:395}
(*) UNDEF
A00153E8  8001C0BB		mov.u d8, #0x1C
A00153EC  F600C801		addsc.a a15, a12, d8, #0
A00153F0  0000FF19		ld.w d15, [a15]

#1648						GT(		0.7	{L:395}
(*) REAL
A00153F4  F53CAF89		st.w [-sp]4, d15 
A00153F8  F33330BB		mov.u d15, #0x3333 ; COSTREAL 0.700000
A00153FC  F3F33F9B		addih d15, d15, #0x3F33

#1649						MUL		TrialTime	{L:395}
(*) REAL
A0015400  8002C0BB		mov.u d8, #0x2C
A0015404  F600C801		addsc.a a15, a12, d8, #0
A0015408  0000F819		ld.w d8, [a15]
A001540C  F0418F4B		mul.f d15, d15, d8

#1650						)	{L:395}
(*) REAL
A0015410  01F0F00B		mov d0, d15
A0015414  0104AF09		ld.w d15, [sp+]4
A0015418  51F0000B		mov d5, d0
A001541C  F0015F4B		cmp.f d15, d15, d5
A0015420  F2004F8B		eq d15, d15, #4

#1651						OR(		Time	{L:395}
(*) BOOL
A0015424  F53CAF89		st.w [-sp]4, d15 
A0015428  8001C0BB		mov.u d8, #0x1C
A001542C  F600C801		addsc.a a15, a12, d8, #0
A0015430  0000FF19		ld.w d15, [a15]

#1652						GT(		5.0	{L:395}
(*) REAL
A0015434  F53CAF89		st.w [-sp]4, d15 
A0015438  F00000BB		mov.u d15, #0x0000 ; COSTREAL 5.000000
A001543C  F40A0F9B		addih d15, d15, #0x40A0

#1653						MUL		rise_time	{L:395}
(*) REAL
A0015440  800200BB		mov.u d8, #0x20
A0015444  F600C801		addsc.a a15, a12, d8, #0
A0015448  0000F819		ld.w d8, [a15]
A001544C  F0418F4B		mul.f d15, d15, d8

#1654						)	{L:395}
(*) REAL
A0015450  01F0F00B		mov d0, d15
A0015454  0104AF09		ld.w d15, [sp+]4
A0015458  51F0000B		mov d5, d0
A001545C  F0015F4B		cmp.f d15, d15, d5
A0015460  F2004F8B		eq d15, d15, #4

#1655						)	{L:395}
(*) BOOL
A0015464  01F0F00B		mov d0, d15
A0015468  0104AF09		ld.w d15, [sp+]4
A001546C  F0A00F0F		or d15, d15, d0

#1656						JMPCN	$label67	{L:395}
(-) BOOL
A0015470  00980FDF		jeq d15, #0, #0x0098 ; JUMP 0xA00155A0

#1657		
#1658						(* THEN *)
#1659		
#1660							(* Time:=0.0; *)
#1661							LD		0.0	{L:396}
(*) UNDEF
A0015474  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0015478  F0000F9B		addih d15, d15, #0x0000

#1662							ST		Time	{L:396}
(*) REAL
A001547C  8001C0BB		mov.u d8, #0x1C
A0015480  F600C801		addsc.a a15, a12, d8, #0
A0015484  0000FF59		st.w [a15], d15

#1663		
#1664		
#1665							(* IF fb_VARIANCE.SIGMA>VARIANCE_THRESHOLD *)
#1666							LD		fb_VARIANCE.SIGMA	{L:397}
(*) UNDEF
A0015488  802A40BB		mov.u d8, #0x2A4
A001548C  F600C801		addsc.a a15, a12, d8, #0
A0015490  0000FF19		ld.w d15, [a15]

#1667							GT		VARIANCE_THRESHOLD	{L:397}
(*) REAL
A0015494  800300BB		mov.u d8, #0x30
A0015498  F600C801		addsc.a a15, a12, d8, #0
A001549C  0000F519		ld.w d5, [a15]
A00154A0  F0015F4B		cmp.f d15, d15, d5
A00154A4  F2004F8B		eq d15, d15, #4

#1668							JMPCN	$label68	{L:397}
(-) BOOL
A00154A8  00260FDF		jeq d15, #0, #0x0026 ; JUMP 0xA00154F4

#1669		
#1670							(* THEN *)
#1671		
#1672								(* Wc_act:=Wc_act*0.75; *)
#1673								LD		Wc_act	{L:398}
(*) UNDEF
A00154AC  800340BB		mov.u d8, #0x34
A00154B0  F600C801		addsc.a a15, a12, d8, #0
A00154B4  0000FF19		ld.w d15, [a15]

#1674								MUL		0.75	{L:398}
(*) REAL
A00154B8  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.750000
A00154BC  83F4089B		addih d8, d8, #0x3F40
A00154C0  F0418F4B		mul.f d15, d15, d8

#1675								ST		Wc_act	{L:398}
(*) REAL
A00154C4  800340BB		mov.u d8, #0x34
A00154C8  F600C801		addsc.a a15, a12, d8, #0
A00154CC  0000FF59		st.w [a15], d15

#1676		
#1677								(* TUNED:=TRUE; *)
#1678								LD		TRUE	{L:399}
(*) UNDEF
A00154D0  F000103B		mov d15, #1

#1679								ST		TUNED	{L:399}
(*) BOOL
A00154D4  800040BB		mov.u d8, #0x4
A00154D8  F600C801		addsc.a a15, a12, d8, #0
A00154DC  0000FF59		st.w [a15], d15

#1680		
#1681								(* state	:=	9; *)
#1682								LD		9	{L:400}
(*) UNDEF
A00154E0  F000903B		mov d15, #9

#1683								ST		state	{L:400}
(*) USINT
A00154E4  803400BB		mov.u d8, #0x340
A00154E8  F600C801		addsc.a a15, a12, d8, #0
A00154EC  0800FF89		st.b [a15], d15

#1684								JMP		$label69
(-) USINT
A00154F0  004E001D		j #0x00004E ; JUMP 0xA001558C

#1685		$label68:
#1686		
#1687							(* ELSE *)
#1688		
#1689		
#1690								(* IF Wc_act >= MaxWc *)
#1691								LD		Wc_act	{L:402}
(*) UNDEF
A00154F4  800340BB		mov.u d8, #0x34
A00154F8  F600C801		addsc.a a15, a12, d8, #0
A00154FC  0000FF19		ld.w d15, [a15]

#1692								GE		MaxWc	{L:402}
(*) REAL
A0015500  803280BB		mov.u d8, #0x328
A0015504  F600C801		addsc.a a15, a12, d8, #0
A0015508  0000F519		ld.w d5, [a15]
A001550C  F0015F4B		cmp.f d15, d15, d5
A0015510  F2201F8B		ne d15, d15, #1

#1693								JMPCN	$label70	{L:402}
(-) BOOL
A0015514  00200FDF		jeq d15, #0, #0x0020 ; JUMP 0xA0015554

#1694		
#1695								(* THEN *)
#1696		
#1697									(* Wc_act:=MaxWc; *)
#1698									LD		MaxWc	{L:403}
(*) UNDEF
A0015518  803280BB		mov.u d8, #0x328
A001551C  F600C801		addsc.a a15, a12, d8, #0
A0015520  0000FF19		ld.w d15, [a15]

#1699									ST		Wc_act	{L:403}
(*) REAL
A0015524  800340BB		mov.u d8, #0x34
A0015528  F600C801		addsc.a a15, a12, d8, #0
A001552C  0000FF59		st.w [a15], d15

#1700		
#1701									(* TUNED := TRUE; *)
#1702									LD		TRUE	{L:404}
(*) UNDEF
A0015530  F000103B		mov d15, #1

#1703									ST		TUNED	{L:404}
(*) BOOL
A0015534  800040BB		mov.u d8, #0x4
A0015538  F600C801		addsc.a a15, a12, d8, #0
A001553C  0000FF59		st.w [a15], d15

#1704		
#1705									(* state := 9; *)
#1706									LD		9	{L:405}
(*) UNDEF
A0015540  F000903B		mov d15, #9

#1707									ST		state	{L:405}
(*) USINT
A0015544  803400BB		mov.u d8, #0x340
A0015548  F600C801		addsc.a a15, a12, d8, #0
A001554C  0800FF89		st.b [a15], d15

#1708									JMP		$label71
(-) USINT
A0015550  000A001D		j #0x00000A ; JUMP 0xA0015564

#1709		$label70:
#1710		
#1711								(* ELSE *)
#1712		
#1713									(* state := 4; *)
#1714									LD		4	{L:407}
(*) UNDEF
A0015554  F000403B		mov d15, #4

#1715									ST		state	{L:407}
(*) USINT
A0015558  803400BB		mov.u d8, #0x340
A001555C  F600C801		addsc.a a15, a12, d8, #0
A0015560  0800FF89		st.b [a15], d15

#1716		
#1717		$label71:
#1718								(* END_IF *)
#1719		
#1720								(* Wc_act := Wc_act + Wc_Step; *)
#1721								LD		Wc_act	{L:409}
(*) UNDEF
A0015564  800340BB		mov.u d8, #0x34
A0015568  F600C801		addsc.a a15, a12, d8, #0
A001556C  0000FF19		ld.w d15, [a15]

#1722								ADD		Wc_Step	{L:409}
(*) REAL
A0015570  800440BB		mov.u d8, #0x44
A0015574  F600C801		addsc.a a15, a12, d8, #0
A0015578  0000F819		ld.w d8, [a15]
A001557C  FF21086B		add.f d15, d15, d8

#1723								ST		Wc_act	{L:409}
(*) REAL
A0015580  800340BB		mov.u d8, #0x34
A0015584  F600C801		addsc.a a15, a12, d8, #0
A0015588  0000FF59		st.w [a15], d15

#1724		
#1725		$label69:
#1726							(* END_IF *)
#1727		
#1728							(* Vel_SP:=0.0; *)
#1729							LD		0.0	{L:411}
(*) UNDEF
A001558C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0015590  F0000F9B		addih d15, d15, #0x0000

#1730							ST		Vel_SP	{L:411}
(*) REAL
A0015594  803580BB		mov.u d8, #0x358
A0015598  F600C801		addsc.a a15, a12, d8, #0
A001559C  0000FF59		st.w [a15], d15

#1731		
#1732		$label67:
#1733						(* END_IF *)
#1734						JMP		$label22
(-) REAL
A00155A0  06A4001D		j #0x0006A4 ; JUMP 0xA00162E8

#1735		
#1736		$label33:
#1737		
#1738						(* IF PARAMETERS_UPDATED *)
#1739						LD		PARAMETERS_UPDATED	{L:414}
(*) UNDEF
A00155A4  803180BB		mov.u d8, #0x318
A00155A8  F600C801		addsc.a a15, a12, d8, #0
A00155AC  0000FF19		ld.w d15, [a15]

#1740						JMPCN	$label72	{L:414}
(-) BOOL
A00155B0  00560FDF		jeq d15, #0, #0x0056 ; JUMP 0xA001565C

#1741		
#1742						(* THEN *)
#1743		
#1744							(* Time:=0.0; *)
#1745							LD		0.0	{L:415}
(*) UNDEF
A00155B4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00155B8  F0000F9B		addih d15, d15, #0x0000

#1746							ST		Time	{L:415}
(*) REAL
A00155BC  8001C0BB		mov.u d8, #0x1C
A00155C0  F600C801		addsc.a a15, a12, d8, #0
A00155C4  0000FF59		st.w [a15], d15

#1747		
#1748							(* UPDATE_PARAMETERS:=FALSE; *)
#1749							LD		FALSE	{L:416}
(*) UNDEF
A00155C8  F000003B		mov d15, #0

#1750							ST		UPDATE_PARAMETERS	{L:416}
(*) BOOL
A00155CC  8035C0BB		mov.u d8, #0x35C
A00155D0  F600C801		addsc.a a15, a12, d8, #0
A00155D4  0000FF59		st.w [a15], d15

#1751		
#1752							(* PARAMETERS_UPDATED:=FALSE; *)
#1753							LD		FALSE	{L:417}
(*) UNDEF
A00155D8  F000003B		mov d15, #0

#1754							ST		PARAMETERS_UPDATED	{L:417}
(*) BOOL
A00155DC  803180BB		mov.u d8, #0x318
A00155E0  F600C801		addsc.a a15, a12, d8, #0
A00155E4  0000FF59		st.w [a15], d15

#1755		
#1756		
#1757							(* IF TUNE_LOW_VEL *)
#1758							LD		TUNE_LOW_VEL	{L:418}
(*) UNDEF
A00155E8  803640BB		mov.u d8, #0x364
A00155EC  F600C801		addsc.a a15, a12, d8, #0
A00155F0  0000FF19		ld.w d15, [a15]

#1759							JMPCN	$label73	{L:418}
(-) BOOL
A00155F4  00220FDF		jeq d15, #0, #0x0022 ; JUMP 0xA0015638

#1760		
#1761							(* THEN *)
#1762		
#1763								(* TUNE_LOW_VEL:=FALSE; *)
#1764								LD		FALSE	{L:419}
(*) UNDEF
A00155F8  F000003B		mov d15, #0

#1765								ST		TUNE_LOW_VEL	{L:419}
(*) BOOL
A00155FC  803640BB		mov.u d8, #0x364
A0015600  F600C801		addsc.a a15, a12, d8, #0
A0015604  0000FF59		st.w [a15], d15

#1766		
#1767								(* Wc_low_speed:=Wc_act; *)
#1768								LD		Wc_act	{L:420}
(*) UNDEF
A0015608  800340BB		mov.u d8, #0x34
A001560C  F600C801		addsc.a a15, a12, d8, #0
A0015610  0000FF19		ld.w d15, [a15]

#1769								ST		Wc_low_speed	{L:420}
(*) REAL
A0015614  802A80BB		mov.u d8, #0x2A8
A0015618  F600C801		addsc.a a15, a12, d8, #0
A001561C  0000FF59		st.w [a15], d15

#1770		
#1771								(* Wc_act:=MinWc; *)
#1772								LD		MinWc	{L:421}
(*) UNDEF
A0015620  8032C0BB		mov.u d8, #0x32C
A0015624  F600C801		addsc.a a15, a12, d8, #0
A0015628  0000FF19		ld.w d15, [a15]

#1773								ST		Wc_act	{L:421}
(*) REAL
A001562C  800340BB		mov.u d8, #0x34
A0015630  F600C801		addsc.a a15, a12, d8, #0
A0015634  0000FF59		st.w [a15], d15

#1774		
#1775		$label73:
#1776							(* END_IF *)
#1777		
#1778							(* state:=10; *)
#1779							LD		10	{L:423}
(*) UNDEF
A0015638  F000A03B		mov d15, #10

#1780							ST		state	{L:423}
(*) USINT
A001563C  803400BB		mov.u d8, #0x340
A0015640  F600C801		addsc.a a15, a12, d8, #0
A0015644  0800FF89		st.b [a15], d15

#1781		
#1782							(* Vel_SP:=0.0; *)
#1783							LD		0.0	{L:424}
(*) UNDEF
A0015648  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A001564C  F0000F9B		addih d15, d15, #0x0000

#1784							ST		Vel_SP	{L:424}
(*) REAL
A0015650  803580BB		mov.u d8, #0x358
A0015654  F600C801		addsc.a a15, a12, d8, #0
A0015658  0000FF59		st.w [a15], d15

#1785		
#1786		$label72:
#1787						(* END_IF *)
#1788						JMP		$label22
(-) REAL
A001565C  0646001D		j #0x000646 ; JUMP 0xA00162E8

#1789		
#1790		$label34:
#1791		
#1792						(* IF Time > TrialTime) OR (ABS(Speed)<noiseLevel)  AND (Time>0.2*TrialTime *)
#1793						LD		Time	{L:427}
(*) UNDEF
A0015660  8001C0BB		mov.u d8, #0x1C
A0015664  F600C801		addsc.a a15, a12, d8, #0
A0015668  0000FF19		ld.w d15, [a15]

#1794						GT		TrialTime	{L:427}
(*) REAL
A001566C  8002C0BB		mov.u d8, #0x2C
A0015670  F600C801		addsc.a a15, a12, d8, #0
A0015674  0000F519		ld.w d5, [a15]
A0015678  F0015F4B		cmp.f d15, d15, d5
A001567C  F2004F8B		eq d15, d15, #4

#1795						ST		$$TMP47	{L:427}
(*) BOOL
A0015680  802E00BB		mov.u d8, #0x2E0
A0015684  F600C801		addsc.a a15, a12, d8, #0
A0015688  0000FF59		st.w [a15], d15

#1796						LD		Speed	{L:427}
(*) UNDEF
A001568C  802F40BB		mov.u d8, #0x2F4
A0015690  F600C801		addsc.a a15, a12, d8, #0
A0015694  0000FF19		ld.w d15, [a15]

#1797						ABS	{L:427}
(*) REAL
A0015698  41F0F00B		mov d4, d15
A001569C  F8009091		movh.a a15, #0x8009 ; _do_float_abs AT 0x80091CF0
A00156A0  31F0FFD9		lea a15,[a15]0x1CF0
A00156A4  0000000D		nop
A00156A8  00000F2D		calli a15
A00156AC  F1F0200B		mov d15, d2

#1798						LT		noiseLevel	{L:427}
(*) REAL
A00156B0  803440BB		mov.u d8, #0x344
A00156B4  F600C801		addsc.a a15, a12, d8, #0
A00156B8  0000F519		ld.w d5, [a15]
A00156BC  F0015F4B		cmp.f d15, d15, d5
A00156C0  F2001F8B		eq d15, d15, #1

#1799						ST		$$TMP48	{L:427}
(*) BOOL
A00156C4  802E40BB		mov.u d8, #0x2E4
A00156C8  F600C801		addsc.a a15, a12, d8, #0
A00156CC  0000FF59		st.w [a15], d15

#1800						LD		0.2	{L:427}
(*) UNDEF
A00156D0  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.200000
A00156D4  F3E4CF9B		addih d15, d15, #0x3E4C

#1801						MUL		TrialTime	{L:427}
(*) REAL
A00156D8  8002C0BB		mov.u d8, #0x2C
A00156DC  F600C801		addsc.a a15, a12, d8, #0
A00156E0  0000F819		ld.w d8, [a15]
A00156E4  F0418F4B		mul.f d15, d15, d8

#1802						ST		$$TMP49	{L:427}
(*) REAL
A00156E8  802E80BB		mov.u d8, #0x2E8
A00156EC  F600C801		addsc.a a15, a12, d8, #0
A00156F0  0000FF59		st.w [a15], d15

#1803						LD		Time	{L:427}
(*) UNDEF
A00156F4  8001C0BB		mov.u d8, #0x1C
A00156F8  F600C801		addsc.a a15, a12, d8, #0
A00156FC  0000FF19		ld.w d15, [a15]

#1804						GT		$$TMP49	{L:427}
(*) REAL
A0015700  802E80BB		mov.u d8, #0x2E8
A0015704  F600C801		addsc.a a15, a12, d8, #0
A0015708  0000F519		ld.w d5, [a15]
A001570C  F0015F4B		cmp.f d15, d15, d5
A0015710  F2004F8B		eq d15, d15, #4

#1805						AND		$$TMP48	{L:427}
(*) BOOL
A0015714  802E40BB		mov.u d8, #0x2E4
A0015718  F600C801		addsc.a a15, a12, d8, #0
A001571C  0000F819		ld.w d8, [a15]
A0015720  F0808F0F		and d15, d15, d8

#1806						OR		$$TMP47	{L:427}
(*) BOOL
A0015724  802E00BB		mov.u d8, #0x2E0
A0015728  F600C801		addsc.a a15, a12, d8, #0
A001572C  0000F819		ld.w d8, [a15]
A0015730  F0A08F0F		or d15, d15, d8

#1807						JMPCN	$label74	{L:427}
(-) BOOL
A0015734  01FA0FDF		jeq d15, #0, #0x01FA ; JUMP 0xA0015B28

#1808		
#1809						(* THEN *)
#1810		
#1811							(* tmpF := (minPos+maxPos)*0.5; *)
#1812							LD		minPos	{L:428}
(*) UNDEF
A0015738  803200BB		mov.u d8, #0x320
A001573C  F600C801		addsc.a a15, a12, d8, #0
A0015740  0000FF19		ld.w d15, [a15]

#1813							ADD		maxPos	{L:428}
(*) REAL
A0015744  803040BB		mov.u d8, #0x304
A0015748  F600C801		addsc.a a15, a12, d8, #0
A001574C  0000F819		ld.w d8, [a15]
A0015750  FF21086B		add.f d15, d15, d8

#1814							MUL		0.5	{L:428}
(*) REAL
A0015754  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A0015758  83F0089B		addih d8, d8, #0x3F00
A001575C  F0418F4B		mul.f d15, d15, d8

#1815							ST		tmpF	{L:428}
(*) REAL
A0015760  800280BB		mov.u d8, #0x28
A0015764  F600C801		addsc.a a15, a12, d8, #0
A0015768  0000FF59		st.w [a15], d15

#1816		
#1817		
#1818							(* IF Position>tmpF *)
#1819							LD		Position	{L:429}
(*) UNDEF
A001576C  802F80BB		mov.u d8, #0x2F8
A0015770  F600C801		addsc.a a15, a12, d8, #0
A0015774  0000FF19		ld.w d15, [a15]

#1820							GT		tmpF	{L:429}
(*) REAL
A0015778  800280BB		mov.u d8, #0x28
A001577C  F600C801		addsc.a a15, a12, d8, #0
A0015780  0000F519		ld.w d5, [a15]
A0015784  F0015F4B		cmp.f d15, d15, d5
A0015788  F2004F8B		eq d15, d15, #4

#1821							JMPCN	$label75	{L:429}
(-) BOOL
A001578C  00200FDF		jeq d15, #0, #0x0020 ; JUMP 0xA00157CC

#1822		
#1823							(* THEN *)
#1824		
#1825								(* Vel_SP:=(minPos-Position)/(TrialTime); *)
#1826								LD		minPos	{L:430}
(*) UNDEF
A0015790  803200BB		mov.u d8, #0x320
A0015794  F600C801		addsc.a a15, a12, d8, #0
A0015798  0000FF19		ld.w d15, [a15]

#1827								SUB		Position	{L:430}
(*) REAL
A001579C  802F80BB		mov.u d8, #0x2F8
A00157A0  F600C801		addsc.a a15, a12, d8, #0
A00157A4  0000F819		ld.w d8, [a15]
A00157A8  FF31086B		sub.f d15, d15, d8

#1828								DIV		TrialTime	{L:430}
(*) REAL
A00157AC  8002C0BB		mov.u d8, #0x2C
A00157B0  F600C801		addsc.a a15, a12, d8, #0
A00157B4  0000F819		ld.w d8, [a15]
A00157B8  F0518F4B		div.f d15, d15, d8

#1829								ST		Vel_SP	{L:430}
(*) REAL
A00157BC  803580BB		mov.u d8, #0x358
A00157C0  F600C801		addsc.a a15, a12, d8, #0
A00157C4  0000FF59		st.w [a15], d15

#1830								JMP		$label76
(-) REAL
A00157C8  001E001D		j #0x00001E ; JUMP 0xA0015804

#1831		$label75:
#1832		
#1833							(* ELSE *)
#1834		
#1835								(* Vel_SP:=(maxPos-Position)/(TrialTime); *)
#1836								LD		maxPos	{L:432}
(*) UNDEF
A00157CC  803040BB		mov.u d8, #0x304
A00157D0  F600C801		addsc.a a15, a12, d8, #0
A00157D4  0000FF19		ld.w d15, [a15]

#1837								SUB		Position	{L:432}
(*) REAL
A00157D8  802F80BB		mov.u d8, #0x2F8
A00157DC  F600C801		addsc.a a15, a12, d8, #0
A00157E0  0000F819		ld.w d8, [a15]
A00157E4  FF31086B		sub.f d15, d15, d8

#1838								DIV		TrialTime	{L:432}
(*) REAL
A00157E8  8002C0BB		mov.u d8, #0x2C
A00157EC  F600C801		addsc.a a15, a12, d8, #0
A00157F0  0000F819		ld.w d8, [a15]
A00157F4  F0518F4B		div.f d15, d15, d8

#1839								ST		Vel_SP	{L:432}
(*) REAL
A00157F8  803580BB		mov.u d8, #0x358
A00157FC  F600C801		addsc.a a15, a12, d8, #0
A0015800  0000FF59		st.w [a15], d15

#1840		
#1841		$label76:
#1842							(* END_IF *)
#1843		
#1844							(* RAND() *)
#1845							CAL		RAND	{L:434}
(*) REAL
A0015804  F53CAF89		st.w [-sp]4, d15 
A0015808  4000C001		mov.aa a4, a12
A001580C  800780BB		mov.u d8, #0x78 ; FB FRAME BASE 0x78
A0015810  8000089B		addih d8, d8, #0x0
A0015814  46004801		addsc.a a4, a4, d8, #0
A0015818  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0011244
A001581C  9104FFD9		lea a15,[a15]0x1244
A0015820  0000000D		nop
A0015824  00000F2D		calli a15
A0015828  0104AF09		ld.w d15, [sp+]4

#1846		
#1847		
#1848							(* IF Vel_SP > 0.0 *)
#1849							LD		Vel_SP	{L:435}
(*) UNDEF
A001582C  803580BB		mov.u d8, #0x358
A0015830  F600C801		addsc.a a15, a12, d8, #0
A0015834  0000FF19		ld.w d15, [a15]

#1850							GT		0.0	{L:435}
(*) REAL
A0015838  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A001583C  5000059B		addih d5, d5, #0x0000
A0015840  F0015F4B		cmp.f d15, d15, d5
A0015844  F2004F8B		eq d15, d15, #4

#1851							JMPCN	$label77	{L:435}
(-) BOOL
A0015848  00940FDF		jeq d15, #0, #0x0094 ; JUMP 0xA0015970

#1852		
#1853							(* THEN *)
#1854		
#1855								(* Vel_SP:= maxVel*(0.2+0.4*RAND.rnd); *)
#1856								LD		0.4	{L:436}
(*) UNDEF
A001584C  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.400000
A0015850  F3ECCF9B		addih d15, d15, #0x3ECC

#1857								MUL		RAND.rnd	{L:436}
(*) REAL
A0015854  8008C0BB		mov.u d8, #0x8C
A0015858  F600C801		addsc.a a15, a12, d8, #0
A001585C  0000F819		ld.w d8, [a15]
A0015860  F0418F4B		mul.f d15, d15, d8

#1858								ADD		0.2	{L:436}
(*) REAL
A0015864  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.200000
A0015868  83E4C89B		addih d8, d8, #0x3E4C
A001586C  FF21086B		add.f d15, d15, d8

#1859								MUL		maxVel	{L:436}
(*) REAL
A0015870  803000BB		mov.u d8, #0x300
A0015874  F600C801		addsc.a a15, a12, d8, #0
A0015878  0000F819		ld.w d8, [a15]
A001587C  F0418F4B		mul.f d15, d15, d8

#1860								ST		Vel_SP	{L:436}
(*) REAL
A0015880  803580BB		mov.u d8, #0x358
A0015884  F600C801		addsc.a a15, a12, d8, #0
A0015888  0000FF59		st.w [a15], d15

#1861		
#1862								(* Time_HIGH_VEL:=(maxPos-Position)/Vel_SP*0.5; *)
#1863								LD		maxPos	{L:437}
(*) UNDEF
A001588C  803040BB		mov.u d8, #0x304
A0015890  F600C801		addsc.a a15, a12, d8, #0
A0015894  0000FF19		ld.w d15, [a15]

#1864								SUB		Position	{L:437}
(*) REAL
A0015898  802F80BB		mov.u d8, #0x2F8
A001589C  F600C801		addsc.a a15, a12, d8, #0
A00158A0  0000F819		ld.w d8, [a15]
A00158A4  FF31086B		sub.f d15, d15, d8

#1865								DIV		Vel_SP	{L:437}
(*) REAL
A00158A8  803580BB		mov.u d8, #0x358
A00158AC  F600C801		addsc.a a15, a12, d8, #0
A00158B0  0000F819		ld.w d8, [a15]
A00158B4  F0518F4B		div.f d15, d15, d8

#1866								MUL		0.5	{L:437}
(*) REAL
A00158B8  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A00158BC  83F0089B		addih d8, d8, #0x3F00
A00158C0  F0418F4B		mul.f d15, d15, d8

#1867								ST		Time_HIGH_VEL	{L:437}
(*) REAL
A00158C4  800240BB		mov.u d8, #0x24
A00158C8  F600C801		addsc.a a15, a12, d8, #0
A00158CC  0000FF59		st.w [a15], d15

#1868		
#1869		
#1870								(* IF Time_HIGH_VEL<0.1*TrialTime *)
#1871								LD		Time_HIGH_VEL	{L:438}
(*) UNDEF
A00158D0  800240BB		mov.u d8, #0x24
A00158D4  F600C801		addsc.a a15, a12, d8, #0
A00158D8  0000FF19		ld.w d15, [a15]

#1872								LT(		0.1	{L:438}
(*) REAL
A00158DC  F53CAF89		st.w [-sp]4, d15 
A00158E0  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A00158E4  F3DCCF9B		addih d15, d15, #0x3DCC

#1873								MUL		TrialTime	{L:438}
(*) REAL
A00158E8  8002C0BB		mov.u d8, #0x2C
A00158EC  F600C801		addsc.a a15, a12, d8, #0
A00158F0  0000F819		ld.w d8, [a15]
A00158F4  F0418F4B		mul.f d15, d15, d8

#1874								)	{L:438}
(*) REAL
A00158F8  01F0F00B		mov d0, d15
A00158FC  0104AF09		ld.w d15, [sp+]4
A0015900  51F0000B		mov d5, d0
A0015904  F0015F4B		cmp.f d15, d15, d5
A0015908  F2001F8B		eq d15, d15, #1

#1875								JMPCN	$label79	{L:438}
(-) BOOL
A001590C  00300FDF		jeq d15, #0, #0x0030 ; JUMP 0xA001596C

#1876		
#1877								(* THEN *)
#1878		
#1879									(* Time_HIGH_VEL:=0.1*TrialTime; *)
#1880									LD		0.1	{L:439}
(*) UNDEF
A0015910  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A0015914  F3DCCF9B		addih d15, d15, #0x3DCC

#1881									MUL		TrialTime	{L:439}
(*) REAL
A0015918  8002C0BB		mov.u d8, #0x2C
A001591C  F600C801		addsc.a a15, a12, d8, #0
A0015920  0000F819		ld.w d8, [a15]
A0015924  F0418F4B		mul.f d15, d15, d8

#1882									ST		Time_HIGH_VEL	{L:439}
(*) REAL
A0015928  800240BB		mov.u d8, #0x24
A001592C  F600C801		addsc.a a15, a12, d8, #0
A0015930  0000FF59		st.w [a15], d15

#1883		
#1884									(* Vel_SP:=(maxPos-Position)/(Time_HIGH_VEL); *)
#1885									LD		maxPos	{L:440}
(*) UNDEF
A0015934  803040BB		mov.u d8, #0x304
A0015938  F600C801		addsc.a a15, a12, d8, #0
A001593C  0000FF19		ld.w d15, [a15]

#1886									SUB		Position	{L:440}
(*) REAL
A0015940  802F80BB		mov.u d8, #0x2F8
A0015944  F600C801		addsc.a a15, a12, d8, #0
A0015948  0000F819		ld.w d8, [a15]
A001594C  FF31086B		sub.f d15, d15, d8

#1887									DIV		Time_HIGH_VEL	{L:440}
(*) REAL
A0015950  800240BB		mov.u d8, #0x24
A0015954  F600C801		addsc.a a15, a12, d8, #0
A0015958  0000F819		ld.w d8, [a15]
A001595C  F0518F4B		div.f d15, d15, d8

#1888									ST		Vel_SP	{L:440}
(*) REAL
A0015960  803580BB		mov.u d8, #0x358
A0015964  F600C801		addsc.a a15, a12, d8, #0
A0015968  0000FF59		st.w [a15], d15

#1889		
#1890		$label79:
#1891								(* END_IF *)
#1892								JMP		$label78
(-) REAL
A001596C  00AE001D		j #0x0000AE ; JUMP 0xA0015AC8

#1893		$label77:
#1894		
#1895							(* ELSIF Vel_SP< 0.0 *)
#1896							LD		Vel_SP	{L:442}
(*) UNDEF
A0015970  803580BB		mov.u d8, #0x358
A0015974  F600C801		addsc.a a15, a12, d8, #0
A0015978  0000FF19		ld.w d15, [a15]

#1897							LT		0.0	{L:442}
(*) REAL
A001597C  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0015980  5000059B		addih d5, d5, #0x0000
A0015984  F0015F4B		cmp.f d15, d15, d5
A0015988  F2001F8B		eq d15, d15, #1

#1898							JMPCN	$label78	{L:442}
(-) BOOL
A001598C  009E0FDF		jeq d15, #0, #0x009E ; JUMP 0xA0015AC8

#1899		
#1900							(* THEN *)
#1901		
#1902								(* Vel_SP:= -maxVel*(0.2+0.4*RAND.rnd); *)
#1903								LD		0.4	{L:443}
(*) UNDEF
A0015990  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.400000
A0015994  F3ECCF9B		addih d15, d15, #0x3ECC

#1904								MUL		RAND.rnd	{L:443}
(*) REAL
A0015998  8008C0BB		mov.u d8, #0x8C
A001599C  F600C801		addsc.a a15, a12, d8, #0
A00159A0  0000F819		ld.w d8, [a15]
A00159A4  F0418F4B		mul.f d15, d15, d8

#1905								ADD		0.2	{L:443}
(*) REAL
A00159A8  8CCCD0BB		mov.u d8, #0xCCCD ; COSTREAL 0.200000
A00159AC  83E4C89B		addih d8, d8, #0x3E4C
A00159B0  FF21086B		add.f d15, d15, d8

#1906								MUL(		maxVel	{L:443}
(*) REAL
A00159B4  F53CAF89		st.w [-sp]4, d15 
A00159B8  803000BB		mov.u d8, #0x300
A00159BC  F600C801		addsc.a a15, a12, d8, #0
A00159C0  0000FF19		ld.w d15, [a15]

#1907								MUL		-1	{L:443}
(*) REAL
A00159C4  8FFFF03B		mov d8, #-1
A00159C8  8141084B		itof d8, d8
A00159CC  F0418F4B		mul.f d15, d15, d8

#1908								)	{L:443}
(*) REAL
A00159D0  01F0F00B		mov d0, d15
A00159D4  0104AF09		ld.w d15, [sp+]4
A00159D8  F0410F4B		mul.f d15, d15, d0

#1909								ST		Vel_SP	{L:443}
(*) REAL
A00159DC  803580BB		mov.u d8, #0x358
A00159E0  F600C801		addsc.a a15, a12, d8, #0
A00159E4  0000FF59		st.w [a15], d15

#1910		
#1911								(* Time_HIGH_VEL:=(minPos-Position)/Vel_SP*0.5; *)
#1912								LD		minPos	{L:444}
(*) UNDEF
A00159E8  803200BB		mov.u d8, #0x320
A00159EC  F600C801		addsc.a a15, a12, d8, #0
A00159F0  0000FF19		ld.w d15, [a15]

#1913								SUB		Position	{L:444}
(*) REAL
A00159F4  802F80BB		mov.u d8, #0x2F8
A00159F8  F600C801		addsc.a a15, a12, d8, #0
A00159FC  0000F819		ld.w d8, [a15]
A0015A00  FF31086B		sub.f d15, d15, d8

#1914								DIV		Vel_SP	{L:444}
(*) REAL
A0015A04  803580BB		mov.u d8, #0x358
A0015A08  F600C801		addsc.a a15, a12, d8, #0
A0015A0C  0000F819		ld.w d8, [a15]
A0015A10  F0518F4B		div.f d15, d15, d8

#1915								MUL		0.5	{L:444}
(*) REAL
A0015A14  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A0015A18  83F0089B		addih d8, d8, #0x3F00
A0015A1C  F0418F4B		mul.f d15, d15, d8

#1916								ST		Time_HIGH_VEL	{L:444}
(*) REAL
A0015A20  800240BB		mov.u d8, #0x24
A0015A24  F600C801		addsc.a a15, a12, d8, #0
A0015A28  0000FF59		st.w [a15], d15

#1917		
#1918		
#1919								(* IF Time_HIGH_VEL<0.1*TrialTime *)
#1920								LD		Time_HIGH_VEL	{L:445}
(*) UNDEF
A0015A2C  800240BB		mov.u d8, #0x24
A0015A30  F600C801		addsc.a a15, a12, d8, #0
A0015A34  0000FF19		ld.w d15, [a15]

#1921								LT(		0.1	{L:445}
(*) REAL
A0015A38  F53CAF89		st.w [-sp]4, d15 
A0015A3C  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A0015A40  F3DCCF9B		addih d15, d15, #0x3DCC

#1922								MUL		TrialTime	{L:445}
(*) REAL
A0015A44  8002C0BB		mov.u d8, #0x2C
A0015A48  F600C801		addsc.a a15, a12, d8, #0
A0015A4C  0000F819		ld.w d8, [a15]
A0015A50  F0418F4B		mul.f d15, d15, d8

#1923								)	{L:445}
(*) REAL
A0015A54  01F0F00B		mov d0, d15
A0015A58  0104AF09		ld.w d15, [sp+]4
A0015A5C  51F0000B		mov d5, d0
A0015A60  F0015F4B		cmp.f d15, d15, d5
A0015A64  F2001F8B		eq d15, d15, #1

#1924								JMPCN	$label80	{L:445}
(-) BOOL
A0015A68  00300FDF		jeq d15, #0, #0x0030 ; JUMP 0xA0015AC8

#1925		
#1926								(* THEN *)
#1927		
#1928									(* Time_HIGH_VEL:=0.1*TrialTime; *)
#1929									LD		0.1	{L:446}
(*) UNDEF
A0015A6C  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A0015A70  F3DCCF9B		addih d15, d15, #0x3DCC

#1930									MUL		TrialTime	{L:446}
(*) REAL
A0015A74  8002C0BB		mov.u d8, #0x2C
A0015A78  F600C801		addsc.a a15, a12, d8, #0
A0015A7C  0000F819		ld.w d8, [a15]
A0015A80  F0418F4B		mul.f d15, d15, d8

#1931									ST		Time_HIGH_VEL	{L:446}
(*) REAL
A0015A84  800240BB		mov.u d8, #0x24
A0015A88  F600C801		addsc.a a15, a12, d8, #0
A0015A8C  0000FF59		st.w [a15], d15

#1932		
#1933									(* Vel_SP:=(minPos-Position)/(Time_HIGH_VEL); *)
#1934									LD		minPos	{L:447}
(*) UNDEF
A0015A90  803200BB		mov.u d8, #0x320
A0015A94  F600C801		addsc.a a15, a12, d8, #0
A0015A98  0000FF19		ld.w d15, [a15]

#1935									SUB		Position	{L:447}
(*) REAL
A0015A9C  802F80BB		mov.u d8, #0x2F8
A0015AA0  F600C801		addsc.a a15, a12, d8, #0
A0015AA4  0000F819		ld.w d8, [a15]
A0015AA8  FF31086B		sub.f d15, d15, d8

#1936									DIV		Time_HIGH_VEL	{L:447}
(*) REAL
A0015AAC  800240BB		mov.u d8, #0x24
A0015AB0  F600C801		addsc.a a15, a12, d8, #0
A0015AB4  0000F819		ld.w d8, [a15]
A0015AB8  F0518F4B		div.f d15, d15, d8

#1937									ST		Vel_SP	{L:447}
(*) REAL
A0015ABC  803580BB		mov.u d8, #0x358
A0015AC0  F600C801		addsc.a a15, a12, d8, #0
A0015AC4  0000FF59		st.w [a15], d15

#1938		
#1939		$label80:
#1940								(* END_IF *)
#1941		
#1942		$label78:
#1943							(* END_IF *)
#1944		
#1945		
#1946							(* IF Time_HIGH_VEL>TrialTime *)
#1947							LD		Time_HIGH_VEL	{L:450}
(*) UNDEF
A0015AC8  800240BB		mov.u d8, #0x24
A0015ACC  F600C801		addsc.a a15, a12, d8, #0
A0015AD0  0000FF19		ld.w d15, [a15]

#1948							GT		TrialTime	{L:450}
(*) REAL
A0015AD4  8002C0BB		mov.u d8, #0x2C
A0015AD8  F600C801		addsc.a a15, a12, d8, #0
A0015ADC  0000F519		ld.w d5, [a15]
A0015AE0  F0015F4B		cmp.f d15, d15, d5
A0015AE4  F2004F8B		eq d15, d15, #4

#1949							JMPCN	$label81	{L:450}
(-) BOOL
A0015AE8  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0015B04

#1950		
#1951							(* THEN *)
#1952		
#1953								(* Time_HIGH_VEL:=TrialTime; *)
#1954								LD		TrialTime	{L:451}
(*) UNDEF
A0015AEC  8002C0BB		mov.u d8, #0x2C
A0015AF0  F600C801		addsc.a a15, a12, d8, #0
A0015AF4  0000FF19		ld.w d15, [a15]

#1955								ST		Time_HIGH_VEL	{L:451}
(*) REAL
A0015AF8  800240BB		mov.u d8, #0x24
A0015AFC  F600C801		addsc.a a15, a12, d8, #0
A0015B00  0000FF59		st.w [a15], d15

#1956		
#1957		$label81:
#1958							(* END_IF *)
#1959		
#1960							(* state := 11; *)
#1961							LD		11	{L:453}
(*) UNDEF
A0015B04  F000B03B		mov d15, #11

#1962							ST		state	{L:453}
(*) USINT
A0015B08  803400BB		mov.u d8, #0x340
A0015B0C  F600C801		addsc.a a15, a12, d8, #0
A0015B10  0800FF89		st.b [a15], d15

#1963		
#1964							(* Time:=0.0; *)
#1965							LD		0.0	{L:454}
(*) UNDEF
A0015B14  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0015B18  F0000F9B		addih d15, d15, #0x0000

#1966							ST		Time	{L:454}
(*) REAL
A0015B1C  8001C0BB		mov.u d8, #0x1C
A0015B20  F600C801		addsc.a a15, a12, d8, #0
A0015B24  0000FF59		st.w [a15], d15

#1967		
#1968		$label74:
#1969						(* END_IF *)
#1970						JMP		$label22
(-) REAL
A0015B28  03E0001D		j #0x0003E0 ; JUMP 0xA00162E8

#1971		
#1972		$label35:
#1973						(* tmpF := Vel_SP * 0.95; *)
#1974						LD		Vel_SP	{L:457}
(*) UNDEF
A0015B2C  803580BB		mov.u d8, #0x358
A0015B30  F600C801		addsc.a a15, a12, d8, #0
A0015B34  0000FF19		ld.w d15, [a15]

#1975						MUL		0.95	{L:457}
(*) REAL
A0015B38  833330BB		mov.u d8, #0x3333 ; COSTREAL 0.950000
A0015B3C  83F7389B		addih d8, d8, #0x3F73
A0015B40  F0418F4B		mul.f d15, d15, d8

#1976						ST		tmpF	{L:457}
(*) REAL
A0015B44  800280BB		mov.u d8, #0x28
A0015B48  F600C801		addsc.a a15, a12, d8, #0
A0015B4C  0000FF59		st.w [a15], d15

#1977		
#1978		
#1979						(* IF tmpF>0) AND (Speed>tmpF)) OR ((tmpF<0) AND (Speed<tmpF *)
#1980						LD		Speed	{L:458}
(*) UNDEF
A0015B50  802F40BB		mov.u d8, #0x2F4
A0015B54  F600C801		addsc.a a15, a12, d8, #0
A0015B58  0000FF19		ld.w d15, [a15]

#1981						LT		tmpF	{L:458}
(*) REAL
A0015B5C  800280BB		mov.u d8, #0x28
A0015B60  F600C801		addsc.a a15, a12, d8, #0
A0015B64  0000F519		ld.w d5, [a15]
A0015B68  F0015F4B		cmp.f d15, d15, d5
A0015B6C  F2001F8B		eq d15, d15, #1

#1982						AND(		tmpF	{L:458}
(*) BOOL
A0015B70  F53CAF89		st.w [-sp]4, d15 
A0015B74  800280BB		mov.u d8, #0x28
A0015B78  F600C801		addsc.a a15, a12, d8, #0
A0015B7C  0000FF19		ld.w d15, [a15]

#1983						LT		0	{L:458}
(*) REAL
A0015B80  5000003B		mov d5, #0
A0015B84  5161054B		utof d5, d5
A0015B88  F0015F4B		cmp.f d15, d15, d5
A0015B8C  F2001F8B		eq d15, d15, #1

#1984						)	{L:458}
(*) BOOL
A0015B90  01F0F00B		mov d0, d15
A0015B94  0104AF09		ld.w d15, [sp+]4
A0015B98  F0800F0F		and d15, d15, d0

#1985						OR(		Speed	{L:458}
(*) BOOL
A0015B9C  F53CAF89		st.w [-sp]4, d15 
A0015BA0  802F40BB		mov.u d8, #0x2F4
A0015BA4  F600C801		addsc.a a15, a12, d8, #0
A0015BA8  0000FF19		ld.w d15, [a15]

#1986						GT		tmpF	{L:458}
(*) REAL
A0015BAC  800280BB		mov.u d8, #0x28
A0015BB0  F600C801		addsc.a a15, a12, d8, #0
A0015BB4  0000F519		ld.w d5, [a15]
A0015BB8  F0015F4B		cmp.f d15, d15, d5
A0015BBC  F2004F8B		eq d15, d15, #4

#1987						AND(		tmpF	{L:458}
(*) BOOL
A0015BC0  F53CAF89		st.w [-sp]4, d15 
A0015BC4  800280BB		mov.u d8, #0x28
A0015BC8  F600C801		addsc.a a15, a12, d8, #0
A0015BCC  0000FF19		ld.w d15, [a15]

#1988						GT		0	{L:458}
(*) REAL
A0015BD0  5000003B		mov d5, #0
A0015BD4  5161054B		utof d5, d5
A0015BD8  F0015F4B		cmp.f d15, d15, d5
A0015BDC  F2004F8B		eq d15, d15, #4

#1989						)	{L:458}
(*) BOOL
A0015BE0  01F0F00B		mov d0, d15
A0015BE4  0104AF09		ld.w d15, [sp+]4
A0015BE8  F0800F0F		and d15, d15, d0

#1990						)	{L:458}
(*) BOOL
A0015BEC  01F0F00B		mov d0, d15
A0015BF0  0104AF09		ld.w d15, [sp+]4
A0015BF4  F0A00F0F		or d15, d15, d0

#1991						JMPCN	$label82	{L:458}
(-) BOOL
A0015BF8  006C0FDF		jeq d15, #0, #0x006C ; JUMP 0xA0015CD0

#1992		
#1993						(* THEN *)
#1994		
#1995							(* rise_time:=Time; *)
#1996							LD		Time	{L:459}
(*) UNDEF
A0015BFC  8001C0BB		mov.u d8, #0x1C
A0015C00  F600C801		addsc.a a15, a12, d8, #0
A0015C04  0000FF19		ld.w d15, [a15]

#1997							ST		rise_time	{L:459}
(*) REAL
A0015C08  800200BB		mov.u d8, #0x20
A0015C0C  F600C801		addsc.a a15, a12, d8, #0
A0015C10  0000FF59		st.w [a15], d15

#1998		
#1999		
#2000							(* IF rise_time<0.1*Time_HIGH_VEL *)
#2001							LD		rise_time	{L:460}
(*) UNDEF
A0015C14  800200BB		mov.u d8, #0x20
A0015C18  F600C801		addsc.a a15, a12, d8, #0
A0015C1C  0000FF19		ld.w d15, [a15]

#2002							LT(		0.1	{L:460}
(*) REAL
A0015C20  F53CAF89		st.w [-sp]4, d15 
A0015C24  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A0015C28  F3DCCF9B		addih d15, d15, #0x3DCC

#2003							MUL		Time_HIGH_VEL	{L:460}
(*) REAL
A0015C2C  800240BB		mov.u d8, #0x24
A0015C30  F600C801		addsc.a a15, a12, d8, #0
A0015C34  0000F819		ld.w d8, [a15]
A0015C38  F0418F4B		mul.f d15, d15, d8

#2004							)	{L:460}
(*) REAL
A0015C3C  01F0F00B		mov d0, d15
A0015C40  0104AF09		ld.w d15, [sp+]4
A0015C44  51F0000B		mov d5, d0
A0015C48  F0015F4B		cmp.f d15, d15, d5
A0015C4C  F2001F8B		eq d15, d15, #1

#2005							JMPCN	$label83	{L:460}
(-) BOOL
A0015C50  00140FDF		jeq d15, #0, #0x0014 ; JUMP 0xA0015C78

#2006		
#2007							(* THEN *)
#2008		
#2009								(* rise_time:=0.1*Time_HIGH_VEL; *)
#2010								LD		0.1	{L:461}
(*) UNDEF
A0015C54  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.100000
A0015C58  F3DCCF9B		addih d15, d15, #0x3DCC

#2011								MUL		Time_HIGH_VEL	{L:461}
(*) REAL
A0015C5C  800240BB		mov.u d8, #0x24
A0015C60  F600C801		addsc.a a15, a12, d8, #0
A0015C64  0000F819		ld.w d8, [a15]
A0015C68  F0418F4B		mul.f d15, d15, d8

#2012								ST		rise_time	{L:461}
(*) REAL
A0015C6C  800200BB		mov.u d8, #0x20
A0015C70  F600C801		addsc.a a15, a12, d8, #0
A0015C74  0000FF59		st.w [a15], d15

#2013		
#2014		$label83:
#2015							(* END_IF *)
#2016		
#2017							(* fb_VARIANCE.ssMethodType:=0; *)
#2018							LD		0	{L:463}
(*) UNDEF
A0015C78  F000003B		mov d15, #0

#2019							ST		fb_VARIANCE.ssMethodType	{L:463}
(*) USINT
A0015C7C  802A00BB		mov.u d8, #0x2A0
A0015C80  F600C801		addsc.a a15, a12, d8, #0
A0015C84  0800FF89		st.b [a15], d15

#2020		
#2021							(* fb_VARIANCE() *)
#2022							CAL		fb_VARIANCE	{L:464}
(*) SINT
A0015C88  F53CAF89		st.w [-sp]4, d15 
A0015C8C  4000C001		mov.aa a4, a12
A0015C90  802800BB		mov.u d8, #0x280 ; FB FRAME BASE 0x280
A0015C94  8000089B		addih d8, d8, #0x0
A0015C98  46004801		addsc.a a4, a4, d8, #0
A0015C9C  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0012460
A0015CA0  1260FFD9		lea a15,[a15]0x2460
A0015CA4  0000000D		nop
A0015CA8  00000F2D		calli a15
A0015CAC  0104AF09		ld.w d15, [sp+]4

#2023		
#2024							(* fb_VARIANCE.ssMethodType:=1; *)
#2025							LD		1	{L:465}
(*) UNDEF
A0015CB0  F000103B		mov d15, #1

#2026							ST		fb_VARIANCE.ssMethodType	{L:465}
(*) USINT
A0015CB4  802A00BB		mov.u d8, #0x2A0
A0015CB8  F600C801		addsc.a a15, a12, d8, #0
A0015CBC  0800FF89		st.b [a15], d15

#2027		
#2028							(* state:=12; *)
#2029							LD		12	{L:466}
(*) UNDEF
A0015CC0  F000C03B		mov d15, #12

#2030							ST		state	{L:466}
(*) USINT
A0015CC4  803400BB		mov.u d8, #0x340
A0015CC8  F600C801		addsc.a a15, a12, d8, #0
A0015CCC  0800FF89		st.b [a15], d15

#2031		
#2032		$label82:
#2033						(* END_IF *)
#2034		
#2035		
#2036						(* IF tmpF>0) AND (Speed>1.3*Vel_SP)) OR ((tmpF<0) AND (Speed<1.3*Vel_SP *)
#2037						LD		Speed	{L:468}
(*) UNDEF
A0015CD0  802F40BB		mov.u d8, #0x2F4
A0015CD4  F600C801		addsc.a a15, a12, d8, #0
A0015CD8  0000FF19		ld.w d15, [a15]

#2038						LT(		1.3	{L:468}
(*) REAL
A0015CDC  F53CAF89		st.w [-sp]4, d15 
A0015CE0  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A0015CE4  F3FA6F9B		addih d15, d15, #0x3FA6

#2039						MUL		Vel_SP	{L:468}
(*) REAL
A0015CE8  803580BB		mov.u d8, #0x358
A0015CEC  F600C801		addsc.a a15, a12, d8, #0
A0015CF0  0000F819		ld.w d8, [a15]
A0015CF4  F0418F4B		mul.f d15, d15, d8

#2040						)	{L:468}
(*) REAL
A0015CF8  01F0F00B		mov d0, d15
A0015CFC  0104AF09		ld.w d15, [sp+]4
A0015D00  51F0000B		mov d5, d0
A0015D04  F0015F4B		cmp.f d15, d15, d5
A0015D08  F2001F8B		eq d15, d15, #1

#2041						AND(		tmpF	{L:468}
(*) BOOL
A0015D0C  F53CAF89		st.w [-sp]4, d15 
A0015D10  800280BB		mov.u d8, #0x28
A0015D14  F600C801		addsc.a a15, a12, d8, #0
A0015D18  0000FF19		ld.w d15, [a15]

#2042						LT		0	{L:468}
(*) REAL
A0015D1C  5000003B		mov d5, #0
A0015D20  5161054B		utof d5, d5
A0015D24  F0015F4B		cmp.f d15, d15, d5
A0015D28  F2001F8B		eq d15, d15, #1

#2043						)	{L:468}
(*) BOOL
A0015D2C  01F0F00B		mov d0, d15
A0015D30  0104AF09		ld.w d15, [sp+]4
A0015D34  F0800F0F		and d15, d15, d0

#2044						OR(		Speed	{L:468}
(*) BOOL
A0015D38  F53CAF89		st.w [-sp]4, d15 
A0015D3C  802F40BB		mov.u d8, #0x2F4
A0015D40  F600C801		addsc.a a15, a12, d8, #0
A0015D44  0000FF19		ld.w d15, [a15]

#2045						GT(		1.3	{L:468}
(*) REAL
A0015D48  F53CAF89		st.w [-sp]4, d15 
A0015D4C  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A0015D50  F3FA6F9B		addih d15, d15, #0x3FA6

#2046						MUL		Vel_SP	{L:468}
(*) REAL
A0015D54  803580BB		mov.u d8, #0x358
A0015D58  F600C801		addsc.a a15, a12, d8, #0
A0015D5C  0000F819		ld.w d8, [a15]
A0015D60  F0418F4B		mul.f d15, d15, d8

#2047						)	{L:468}
(*) REAL
A0015D64  01F0F00B		mov d0, d15
A0015D68  0104AF09		ld.w d15, [sp+]4
A0015D6C  51F0000B		mov d5, d0
A0015D70  F0015F4B		cmp.f d15, d15, d5
A0015D74  F2004F8B		eq d15, d15, #4

#2048						AND(		tmpF	{L:468}
(*) BOOL
A0015D78  F53CAF89		st.w [-sp]4, d15 
A0015D7C  800280BB		mov.u d8, #0x28
A0015D80  F600C801		addsc.a a15, a12, d8, #0
A0015D84  0000FF19		ld.w d15, [a15]

#2049						GT		0	{L:468}
(*) REAL
A0015D88  5000003B		mov d5, #0
A0015D8C  5161054B		utof d5, d5
A0015D90  F0015F4B		cmp.f d15, d15, d5
A0015D94  F2004F8B		eq d15, d15, #4

#2050						)	{L:468}
(*) BOOL
A0015D98  01F0F00B		mov d0, d15
A0015D9C  0104AF09		ld.w d15, [sp+]4
A0015DA0  F0800F0F		and d15, d15, d0

#2051						)	{L:468}
(*) BOOL
A0015DA4  01F0F00B		mov d0, d15
A0015DA8  0104AF09		ld.w d15, [sp+]4
A0015DAC  F0A00F0F		or d15, d15, d0

#2052						JMPCN	$label84	{L:468}
(-) BOOL
A0015DB0  00240FDF		jeq d15, #0, #0x0024 ; JUMP 0xA0015DF8

#2053		
#2054						(* THEN *)
#2055		
#2056							(* Wc_act:=Wc_act*0.75; *)
#2057							LD		Wc_act	{L:469}
(*) UNDEF
A0015DB4  800340BB		mov.u d8, #0x34
A0015DB8  F600C801		addsc.a a15, a12, d8, #0
A0015DBC  0000FF19		ld.w d15, [a15]

#2058							MUL		0.75	{L:469}
(*) REAL
A0015DC0  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.750000
A0015DC4  83F4089B		addih d8, d8, #0x3F40
A0015DC8  F0418F4B		mul.f d15, d15, d8

#2059							ST		Wc_act	{L:469}
(*) REAL
A0015DCC  800340BB		mov.u d8, #0x34
A0015DD0  F600C801		addsc.a a15, a12, d8, #0
A0015DD4  0000FF59		st.w [a15], d15

#2060		
#2061							(* TUNED:=TRUE; *)
#2062							LD		TRUE	{L:470}
(*) UNDEF
A0015DD8  F000103B		mov d15, #1

#2063							ST		TUNED	{L:470}
(*) BOOL
A0015DDC  800040BB		mov.u d8, #0x4
A0015DE0  F600C801		addsc.a a15, a12, d8, #0
A0015DE4  0000FF59		st.w [a15], d15

#2064		
#2065							(* state	:=	14; *)
#2066							LD		14	{L:471}
(*) UNDEF
A0015DE8  F000E03B		mov d15, #14

#2067							ST		state	{L:471}
(*) USINT
A0015DEC  803400BB		mov.u d8, #0x340
A0015DF0  F600C801		addsc.a a15, a12, d8, #0
A0015DF4  0800FF89		st.b [a15], d15

#2068		
#2069		$label84:
#2070						(* END_IF *)
#2071		
#2072		
#2073						(* IF Time>=Time_HIGH_VEL *)
#2074						LD		Time	{L:473}
(*) UNDEF
A0015DF8  8001C0BB		mov.u d8, #0x1C
A0015DFC  F600C801		addsc.a a15, a12, d8, #0
A0015E00  0000FF19		ld.w d15, [a15]

#2075						GE		Time_HIGH_VEL	{L:473}
(*) REAL
A0015E04  800240BB		mov.u d8, #0x24
A0015E08  F600C801		addsc.a a15, a12, d8, #0
A0015E0C  0000F519		ld.w d5, [a15]
A0015E10  F0015F4B		cmp.f d15, d15, d5
A0015E14  F2201F8B		ne d15, d15, #1

#2076						JMPCN	$label85	{L:473}
(-) BOOL
A0015E18  00580FDF		jeq d15, #0, #0x0058 ; JUMP 0xA0015EC8

#2077		
#2078						(* THEN *)
#2079		
#2080							(* Wc_act := Wc_act + Wc_Step; *)
#2081							LD		Wc_act	{L:474}
(*) UNDEF
A0015E1C  800340BB		mov.u d8, #0x34
A0015E20  F600C801		addsc.a a15, a12, d8, #0
A0015E24  0000FF19		ld.w d15, [a15]

#2082							ADD		Wc_Step	{L:474}
(*) REAL
A0015E28  800440BB		mov.u d8, #0x44
A0015E2C  F600C801		addsc.a a15, a12, d8, #0
A0015E30  0000F819		ld.w d8, [a15]
A0015E34  FF21086B		add.f d15, d15, d8

#2083							ST		Wc_act	{L:474}
(*) REAL
A0015E38  800340BB		mov.u d8, #0x34
A0015E3C  F600C801		addsc.a a15, a12, d8, #0
A0015E40  0000FF59		st.w [a15], d15

#2084		
#2085		
#2086							(* IF Wc_act >= MaxWc *)
#2087							LD		Wc_act	{L:475}
(*) UNDEF
A0015E44  800340BB		mov.u d8, #0x34
A0015E48  F600C801		addsc.a a15, a12, d8, #0
A0015E4C  0000FF19		ld.w d15, [a15]

#2088							GE		MaxWc	{L:475}
(*) REAL
A0015E50  803280BB		mov.u d8, #0x328
A0015E54  F600C801		addsc.a a15, a12, d8, #0
A0015E58  0000F519		ld.w d5, [a15]
A0015E5C  F0015F4B		cmp.f d15, d15, d5
A0015E60  F2201F8B		ne d15, d15, #1

#2089							JMPCN	$label86	{L:475}
(-) BOOL
A0015E64  002A0FDF		jeq d15, #0, #0x002A ; JUMP 0xA0015EB8

#2090		
#2091							(* THEN *)
#2092		
#2093								(* Wc_act:=MaxWc; *)
#2094								LD		MaxWc	{L:476}
(*) UNDEF
A0015E68  803280BB		mov.u d8, #0x328
A0015E6C  F600C801		addsc.a a15, a12, d8, #0
A0015E70  0000FF19		ld.w d15, [a15]

#2095								ST		Wc_act	{L:476}
(*) REAL
A0015E74  800340BB		mov.u d8, #0x34
A0015E78  F600C801		addsc.a a15, a12, d8, #0
A0015E7C  0000FF59		st.w [a15], d15

#2096		
#2097								(* TUNED := FALSE; *)
#2098								LD		FALSE	{L:477}
(*) UNDEF
A0015E80  F000003B		mov d15, #0

#2099								ST		TUNED	{L:477}
(*) BOOL
A0015E84  800040BB		mov.u d8, #0x4
A0015E88  F600C801		addsc.a a15, a12, d8, #0
A0015E8C  0000FF59		st.w [a15], d15

#2100		
#2101								(* state := 91; *)
#2102								LD		91	{L:478}
(*) UNDEF
A0015E90  F005B03B		mov d15, #91

#2103								ST		state	{L:478}
(*) USINT
A0015E94  803400BB		mov.u d8, #0x340
A0015E98  F600C801		addsc.a a15, a12, d8, #0
A0015E9C  0800FF89		st.b [a15], d15

#2104		
#2105								(* Vel_SP:=0.0; *)
#2106								LD		0.0	{L:479}
(*) UNDEF
A0015EA0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0015EA4  F0000F9B		addih d15, d15, #0x0000

#2107								ST		Vel_SP	{L:479}
(*) REAL
A0015EA8  803580BB		mov.u d8, #0x358
A0015EAC  F600C801		addsc.a a15, a12, d8, #0
A0015EB0  0000FF59		st.w [a15], d15

#2108								JMP		$label87
(-) REAL
A0015EB4  000A001D		j #0x00000A ; JUMP 0xA0015EC8

#2109		$label86:
#2110		
#2111							(* ELSE *)
#2112		
#2113								(* state := 9; *)
#2114								LD		9	{L:481}
(*) UNDEF
A0015EB8  F000903B		mov d15, #9

#2115								ST		state	{L:481}
(*) USINT
A0015EBC  803400BB		mov.u d8, #0x340
A0015EC0  F600C801		addsc.a a15, a12, d8, #0
A0015EC4  0800FF89		st.b [a15], d15

#2116		
#2117		$label87:
#2118							(* END_IF *)
#2119		
#2120		$label85:
#2121						(* END_IF *)
#2122						JMP		$label22
(-) USINT
A0015EC8  0210001D		j #0x000210 ; JUMP 0xA00162E8

#2123		
#2124		$label36:
#2125		
#2126						(* IF Time>3.0*rise_time) OR (Time>0.5*Time_HIGH_VEL *)
#2127						LD		Time	{L:485}
(*) UNDEF
A0015ECC  8001C0BB		mov.u d8, #0x1C
A0015ED0  F600C801		addsc.a a15, a12, d8, #0
A0015ED4  0000FF19		ld.w d15, [a15]

#2128						GT(		0.5	{L:485}
(*) REAL
A0015ED8  F53CAF89		st.w [-sp]4, d15 
A0015EDC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.500000
A0015EE0  F3F00F9B		addih d15, d15, #0x3F00

#2129						MUL		Time_HIGH_VEL	{L:485}
(*) REAL
A0015EE4  800240BB		mov.u d8, #0x24
A0015EE8  F600C801		addsc.a a15, a12, d8, #0
A0015EEC  0000F819		ld.w d8, [a15]
A0015EF0  F0418F4B		mul.f d15, d15, d8

#2130						)	{L:485}
(*) REAL
A0015EF4  01F0F00B		mov d0, d15
A0015EF8  0104AF09		ld.w d15, [sp+]4
A0015EFC  51F0000B		mov d5, d0
A0015F00  F0015F4B		cmp.f d15, d15, d5
A0015F04  F2004F8B		eq d15, d15, #4

#2131						OR(		Time	{L:485}
(*) BOOL
A0015F08  F53CAF89		st.w [-sp]4, d15 
A0015F0C  8001C0BB		mov.u d8, #0x1C
A0015F10  F600C801		addsc.a a15, a12, d8, #0
A0015F14  0000FF19		ld.w d15, [a15]

#2132						GT(		3.0	{L:485}
(*) REAL
A0015F18  F53CAF89		st.w [-sp]4, d15 
A0015F1C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 3.000000
A0015F20  F4040F9B		addih d15, d15, #0x4040

#2133						MUL		rise_time	{L:485}
(*) REAL
A0015F24  800200BB		mov.u d8, #0x20
A0015F28  F600C801		addsc.a a15, a12, d8, #0
A0015F2C  0000F819		ld.w d8, [a15]
A0015F30  F0418F4B		mul.f d15, d15, d8

#2134						)	{L:485}
(*) REAL
A0015F34  01F0F00B		mov d0, d15
A0015F38  0104AF09		ld.w d15, [sp+]4
A0015F3C  51F0000B		mov d5, d0
A0015F40  F0015F4B		cmp.f d15, d15, d5
A0015F44  F2004F8B		eq d15, d15, #4

#2135						)	{L:485}
(*) BOOL
A0015F48  01F0F00B		mov d0, d15
A0015F4C  0104AF09		ld.w d15, [sp+]4
A0015F50  F0A00F0F		or d15, d15, d0

#2136						JMPCN	$label88	{L:485}
(-) BOOL
A0015F54  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA0015F68

#2137		
#2138						(* THEN *)
#2139		
#2140							(* state:=13; *)
#2141							LD		13	{L:486}
(*) UNDEF
A0015F58  F000D03B		mov d15, #13

#2142							ST		state	{L:486}
(*) USINT
A0015F5C  803400BB		mov.u d8, #0x340
A0015F60  F600C801		addsc.a a15, a12, d8, #0
A0015F64  0800FF89		st.b [a15], d15

#2143		
#2144		$label88:
#2145						(* END_IF *)
#2146		
#2147						(* tmpF := Vel_SP * 0.95; *)
#2148						LD		Vel_SP	{L:488}
(*) UNDEF
A0015F68  803580BB		mov.u d8, #0x358
A0015F6C  F600C801		addsc.a a15, a12, d8, #0
A0015F70  0000FF19		ld.w d15, [a15]

#2149						MUL		0.95	{L:488}
(*) REAL
A0015F74  833330BB		mov.u d8, #0x3333 ; COSTREAL 0.950000
A0015F78  83F7389B		addih d8, d8, #0x3F73
A0015F7C  F0418F4B		mul.f d15, d15, d8

#2150						ST		tmpF	{L:488}
(*) REAL
A0015F80  800280BB		mov.u d8, #0x28
A0015F84  F600C801		addsc.a a15, a12, d8, #0
A0015F88  0000FF59		st.w [a15], d15

#2151		
#2152		
#2153						(* IF tmpF>0) AND (Speed>1.3*Vel_SP)) OR ((tmpF<0) AND (Speed<1.3*Vel_SP *)
#2154						LD		Speed	{L:489}
(*) UNDEF
A0015F8C  802F40BB		mov.u d8, #0x2F4
A0015F90  F600C801		addsc.a a15, a12, d8, #0
A0015F94  0000FF19		ld.w d15, [a15]

#2155						LT(		1.3	{L:489}
(*) REAL
A0015F98  F53CAF89		st.w [-sp]4, d15 
A0015F9C  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A0015FA0  F3FA6F9B		addih d15, d15, #0x3FA6

#2156						MUL		Vel_SP	{L:489}
(*) REAL
A0015FA4  803580BB		mov.u d8, #0x358
A0015FA8  F600C801		addsc.a a15, a12, d8, #0
A0015FAC  0000F819		ld.w d8, [a15]
A0015FB0  F0418F4B		mul.f d15, d15, d8

#2157						)	{L:489}
(*) REAL
A0015FB4  01F0F00B		mov d0, d15
A0015FB8  0104AF09		ld.w d15, [sp+]4
A0015FBC  51F0000B		mov d5, d0
A0015FC0  F0015F4B		cmp.f d15, d15, d5
A0015FC4  F2001F8B		eq d15, d15, #1

#2158						AND(		tmpF	{L:489}
(*) BOOL
A0015FC8  F53CAF89		st.w [-sp]4, d15 
A0015FCC  800280BB		mov.u d8, #0x28
A0015FD0  F600C801		addsc.a a15, a12, d8, #0
A0015FD4  0000FF19		ld.w d15, [a15]

#2159						LT		0	{L:489}
(*) REAL
A0015FD8  5000003B		mov d5, #0
A0015FDC  5161054B		utof d5, d5
A0015FE0  F0015F4B		cmp.f d15, d15, d5
A0015FE4  F2001F8B		eq d15, d15, #1

#2160						)	{L:489}
(*) BOOL
A0015FE8  01F0F00B		mov d0, d15
A0015FEC  0104AF09		ld.w d15, [sp+]4
A0015FF0  F0800F0F		and d15, d15, d0

#2161						OR(		Speed	{L:489}
(*) BOOL
A0015FF4  F53CAF89		st.w [-sp]4, d15 
A0015FF8  802F40BB		mov.u d8, #0x2F4
A0015FFC  F600C801		addsc.a a15, a12, d8, #0
A0016000  0000FF19		ld.w d15, [a15]

#2162						GT(		1.3	{L:489}
(*) REAL
A0016004  F53CAF89		st.w [-sp]4, d15 
A0016008  F66660BB		mov.u d15, #0x6666 ; COSTREAL 1.300000
A001600C  F3FA6F9B		addih d15, d15, #0x3FA6

#2163						MUL		Vel_SP	{L:489}
(*) REAL
A0016010  803580BB		mov.u d8, #0x358
A0016014  F600C801		addsc.a a15, a12, d8, #0
A0016018  0000F819		ld.w d8, [a15]
A001601C  F0418F4B		mul.f d15, d15, d8

#2164						)	{L:489}
(*) REAL
A0016020  01F0F00B		mov d0, d15
A0016024  0104AF09		ld.w d15, [sp+]4
A0016028  51F0000B		mov d5, d0
A001602C  F0015F4B		cmp.f d15, d15, d5
A0016030  F2004F8B		eq d15, d15, #4

#2165						AND(		tmpF	{L:489}
(*) BOOL
A0016034  F53CAF89		st.w [-sp]4, d15 
A0016038  800280BB		mov.u d8, #0x28
A001603C  F600C801		addsc.a a15, a12, d8, #0
A0016040  0000FF19		ld.w d15, [a15]

#2166						GT		0	{L:489}
(*) REAL
A0016044  5000003B		mov d5, #0
A0016048  5161054B		utof d5, d5
A001604C  F0015F4B		cmp.f d15, d15, d5
A0016050  F2004F8B		eq d15, d15, #4

#2167						)	{L:489}
(*) BOOL
A0016054  01F0F00B		mov d0, d15
A0016058  0104AF09		ld.w d15, [sp+]4
A001605C  F0800F0F		and d15, d15, d0

#2168						)	{L:489}
(*) BOOL
A0016060  01F0F00B		mov d0, d15
A0016064  0104AF09		ld.w d15, [sp+]4
A0016068  F0A00F0F		or d15, d15, d0

#2169						JMPCN	$label89	{L:489}
(-) BOOL
A001606C  00240FDF		jeq d15, #0, #0x0024 ; JUMP 0xA00160B4

#2170		
#2171						(* THEN *)
#2172		
#2173							(* Wc_act:=Wc_act*0.75; *)
#2174							LD		Wc_act	{L:490}
(*) UNDEF
A0016070  800340BB		mov.u d8, #0x34
A0016074  F600C801		addsc.a a15, a12, d8, #0
A0016078  0000FF19		ld.w d15, [a15]

#2175							MUL		0.75	{L:490}
(*) REAL
A001607C  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.750000
A0016080  83F4089B		addih d8, d8, #0x3F40
A0016084  F0418F4B		mul.f d15, d15, d8

#2176							ST		Wc_act	{L:490}
(*) REAL
A0016088  800340BB		mov.u d8, #0x34
A001608C  F600C801		addsc.a a15, a12, d8, #0
A0016090  0000FF59		st.w [a15], d15

#2177		
#2178							(* TUNED:=TRUE; *)
#2179							LD		TRUE	{L:491}
(*) UNDEF
A0016094  F000103B		mov d15, #1

#2180							ST		TUNED	{L:491}
(*) BOOL
A0016098  800040BB		mov.u d8, #0x4
A001609C  F600C801		addsc.a a15, a12, d8, #0
A00160A0  0000FF59		st.w [a15], d15

#2181		
#2182							(* state	:=	14; *)
#2183							LD		14	{L:492}
(*) UNDEF
A00160A4  F000E03B		mov d15, #14

#2184							ST		state	{L:492}
(*) USINT
A00160A8  803400BB		mov.u d8, #0x340
A00160AC  F600C801		addsc.a a15, a12, d8, #0
A00160B0  0800FF89		st.b [a15], d15

#2185		
#2186		$label89:
#2187						(* END_IF *)
#2188						JMP		$label22
(-) USINT
A00160B4  011A001D		j #0x00011A ; JUMP 0xA00162E8

#2189		
#2190		$label37:
#2191		
#2192						(* IF Time>5.0*rise_time) OR (Time>Time_HIGH_VEL *)
#2193						LD		Time	{L:495}
(*) UNDEF
A00160B8  8001C0BB		mov.u d8, #0x1C
A00160BC  F600C801		addsc.a a15, a12, d8, #0
A00160C0  0000FF19		ld.w d15, [a15]

#2194						GT		Time_HIGH_VEL	{L:495}
(*) REAL
A00160C4  800240BB		mov.u d8, #0x24
A00160C8  F600C801		addsc.a a15, a12, d8, #0
A00160CC  0000F519		ld.w d5, [a15]
A00160D0  F0015F4B		cmp.f d15, d15, d5
A00160D4  F2004F8B		eq d15, d15, #4

#2195						OR(		Time	{L:495}
(*) BOOL
A00160D8  F53CAF89		st.w [-sp]4, d15 
A00160DC  8001C0BB		mov.u d8, #0x1C
A00160E0  F600C801		addsc.a a15, a12, d8, #0
A00160E4  0000FF19		ld.w d15, [a15]

#2196						GT(		5.0	{L:495}
(*) REAL
A00160E8  F53CAF89		st.w [-sp]4, d15 
A00160EC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 5.000000
A00160F0  F40A0F9B		addih d15, d15, #0x40A0

#2197						MUL		rise_time	{L:495}
(*) REAL
A00160F4  800200BB		mov.u d8, #0x20
A00160F8  F600C801		addsc.a a15, a12, d8, #0
A00160FC  0000F819		ld.w d8, [a15]
A0016100  F0418F4B		mul.f d15, d15, d8

#2198						)	{L:495}
(*) REAL
A0016104  01F0F00B		mov d0, d15
A0016108  0104AF09		ld.w d15, [sp+]4
A001610C  51F0000B		mov d5, d0
A0016110  F0015F4B		cmp.f d15, d15, d5
A0016114  F2004F8B		eq d15, d15, #4

#2199						)	{L:495}
(*) BOOL
A0016118  01F0F00B		mov d0, d15
A001611C  0104AF09		ld.w d15, [sp+]4
A0016120  F0A00F0F		or d15, d15, d0

#2200						JMPCN	$label90	{L:495}
(-) BOOL
A0016124  00980FDF		jeq d15, #0, #0x0098 ; JUMP 0xA0016254

#2201		
#2202						(* THEN *)
#2203		
#2204							(* Time:=0.0; *)
#2205							LD		0.0	{L:496}
(*) UNDEF
A0016128  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A001612C  F0000F9B		addih d15, d15, #0x0000

#2206							ST		Time	{L:496}
(*) REAL
A0016130  8001C0BB		mov.u d8, #0x1C
A0016134  F600C801		addsc.a a15, a12, d8, #0
A0016138  0000FF59		st.w [a15], d15

#2207		
#2208		
#2209							(* IF fb_VARIANCE.SIGMA>VARIANCE_THRESHOLD *)
#2210							LD		fb_VARIANCE.SIGMA	{L:497}
(*) UNDEF
A001613C  802A40BB		mov.u d8, #0x2A4
A0016140  F600C801		addsc.a a15, a12, d8, #0
A0016144  0000FF19		ld.w d15, [a15]

#2211							GT		VARIANCE_THRESHOLD	{L:497}
(*) REAL
A0016148  800300BB		mov.u d8, #0x30
A001614C  F600C801		addsc.a a15, a12, d8, #0
A0016150  0000F519		ld.w d5, [a15]
A0016154  F0015F4B		cmp.f d15, d15, d5
A0016158  F2004F8B		eq d15, d15, #4

#2212							JMPCN	$label91	{L:497}
(-) BOOL
A001615C  00260FDF		jeq d15, #0, #0x0026 ; JUMP 0xA00161A8

#2213		
#2214							(* THEN *)
#2215		
#2216								(* Wc_act:=Wc_act*0.75; *)
#2217								LD		Wc_act	{L:498}
(*) UNDEF
A0016160  800340BB		mov.u d8, #0x34
A0016164  F600C801		addsc.a a15, a12, d8, #0
A0016168  0000FF19		ld.w d15, [a15]

#2218								MUL		0.75	{L:498}
(*) REAL
A001616C  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.750000
A0016170  83F4089B		addih d8, d8, #0x3F40
A0016174  F0418F4B		mul.f d15, d15, d8

#2219								ST		Wc_act	{L:498}
(*) REAL
A0016178  800340BB		mov.u d8, #0x34
A001617C  F600C801		addsc.a a15, a12, d8, #0
A0016180  0000FF59		st.w [a15], d15

#2220		
#2221								(* TUNED:=TRUE; *)
#2222								LD		TRUE	{L:499}
(*) UNDEF
A0016184  F000103B		mov d15, #1

#2223								ST		TUNED	{L:499}
(*) BOOL
A0016188  800040BB		mov.u d8, #0x4
A001618C  F600C801		addsc.a a15, a12, d8, #0
A0016190  0000FF59		st.w [a15], d15

#2224		
#2225								(* state	:=	14; *)
#2226								LD		14	{L:500}
(*) UNDEF
A0016194  F000E03B		mov d15, #14

#2227								ST		state	{L:500}
(*) USINT
A0016198  803400BB		mov.u d8, #0x340
A001619C  F600C801		addsc.a a15, a12, d8, #0
A00161A0  0800FF89		st.b [a15], d15

#2228								JMP		$label92
(-) USINT
A00161A4  004E001D		j #0x00004E ; JUMP 0xA0016240

#2229		$label91:
#2230		
#2231							(* ELSE *)
#2232		
#2233		
#2234								(* IF Wc_act >= MaxWc *)
#2235								LD		Wc_act	{L:502}
(*) UNDEF
A00161A8  800340BB		mov.u d8, #0x34
A00161AC  F600C801		addsc.a a15, a12, d8, #0
A00161B0  0000FF19		ld.w d15, [a15]

#2236								GE		MaxWc	{L:502}
(*) REAL
A00161B4  803280BB		mov.u d8, #0x328
A00161B8  F600C801		addsc.a a15, a12, d8, #0
A00161BC  0000F519		ld.w d5, [a15]
A00161C0  F0015F4B		cmp.f d15, d15, d5
A00161C4  F2201F8B		ne d15, d15, #1

#2237								JMPCN	$label93	{L:502}
(-) BOOL
A00161C8  00200FDF		jeq d15, #0, #0x0020 ; JUMP 0xA0016208

#2238		
#2239								(* THEN *)
#2240		
#2241									(* Wc_act:=MaxWc; *)
#2242									LD		MaxWc	{L:503}
(*) UNDEF
A00161CC  803280BB		mov.u d8, #0x328
A00161D0  F600C801		addsc.a a15, a12, d8, #0
A00161D4  0000FF19		ld.w d15, [a15]

#2243									ST		Wc_act	{L:503}
(*) REAL
A00161D8  800340BB		mov.u d8, #0x34
A00161DC  F600C801		addsc.a a15, a12, d8, #0
A00161E0  0000FF59		st.w [a15], d15

#2244		
#2245									(* TUNED := TRUE; *)
#2246									LD		TRUE	{L:504}
(*) UNDEF
A00161E4  F000103B		mov d15, #1

#2247									ST		TUNED	{L:504}
(*) BOOL
A00161E8  800040BB		mov.u d8, #0x4
A00161EC  F600C801		addsc.a a15, a12, d8, #0
A00161F0  0000FF59		st.w [a15], d15

#2248		
#2249									(* state := 14; *)
#2250									LD		14	{L:505}
(*) UNDEF
A00161F4  F000E03B		mov d15, #14

#2251									ST		state	{L:505}
(*) USINT
A00161F8  803400BB		mov.u d8, #0x340
A00161FC  F600C801		addsc.a a15, a12, d8, #0
A0016200  0800FF89		st.b [a15], d15

#2252									JMP		$label94
(-) USINT
A0016204  000A001D		j #0x00000A ; JUMP 0xA0016218

#2253		$label93:
#2254		
#2255								(* ELSE *)
#2256		
#2257									(* state := 9; *)
#2258									LD		9	{L:507}
(*) UNDEF
A0016208  F000903B		mov d15, #9

#2259									ST		state	{L:507}
(*) USINT
A001620C  803400BB		mov.u d8, #0x340
A0016210  F600C801		addsc.a a15, a12, d8, #0
A0016214  0800FF89		st.b [a15], d15

#2260		
#2261		$label94:
#2262								(* END_IF *)
#2263		
#2264								(* Wc_act := Wc_act + Wc_Step; *)
#2265								LD		Wc_act	{L:509}
(*) UNDEF
A0016218  800340BB		mov.u d8, #0x34
A001621C  F600C801		addsc.a a15, a12, d8, #0
A0016220  0000FF19		ld.w d15, [a15]

#2266								ADD		Wc_Step	{L:509}
(*) REAL
A0016224  800440BB		mov.u d8, #0x44
A0016228  F600C801		addsc.a a15, a12, d8, #0
A001622C  0000F819		ld.w d8, [a15]
A0016230  FF21086B		add.f d15, d15, d8

#2267								ST		Wc_act	{L:509}
(*) REAL
A0016234  800340BB		mov.u d8, #0x34
A0016238  F600C801		addsc.a a15, a12, d8, #0
A001623C  0000FF59		st.w [a15], d15

#2268		
#2269		$label92:
#2270							(* END_IF *)
#2271		
#2272							(* Vel_SP:=0.0; *)
#2273							LD		0.0	{L:511}
(*) UNDEF
A0016240  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0016244  F0000F9B		addih d15, d15, #0x0000

#2274							ST		Vel_SP	{L:511}
(*) REAL
A0016248  803580BB		mov.u d8, #0x358
A001624C  F600C801		addsc.a a15, a12, d8, #0
A0016250  0000FF59		st.w [a15], d15

#2275		
#2276		$label90:
#2277						(* END_IF *)
#2278						JMP		$label22
(-) REAL
A0016254  004A001D		j #0x00004A ; JUMP 0xA00162E8

#2279		
#2280		$label38:
#2281		
#2282						(* IF PARAMETERS_UPDATED *)
#2283						LD		PARAMETERS_UPDATED	{L:514}
(*) UNDEF
A0016258  803180BB		mov.u d8, #0x318
A001625C  F600C801		addsc.a a15, a12, d8, #0
A0016260  0000FF19		ld.w d15, [a15]

#2284						JMPCN	$label95	{L:514}
(-) BOOL
A0016264  00420FDF		jeq d15, #0, #0x0042 ; JUMP 0xA00162E8

#2285		
#2286						(* THEN *)
#2287		
#2288							(* Time:=0.0; *)
#2289							LD		0.0	{L:515}
(*) UNDEF
A0016268  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A001626C  F0000F9B		addih d15, d15, #0x0000

#2290							ST		Time	{L:515}
(*) REAL
A0016270  8001C0BB		mov.u d8, #0x1C
A0016274  F600C801		addsc.a a15, a12, d8, #0
A0016278  0000FF59		st.w [a15], d15

#2291		
#2292							(* UPDATE_PARAMETERS:=FALSE; *)
#2293							LD		FALSE	{L:516}
(*) UNDEF
A001627C  F000003B		mov d15, #0

#2294							ST		UPDATE_PARAMETERS	{L:516}
(*) BOOL
A0016280  8035C0BB		mov.u d8, #0x35C
A0016284  F600C801		addsc.a a15, a12, d8, #0
A0016288  0000FF59		st.w [a15], d15

#2295		
#2296							(* PARAMETERS_UPDATED:=FALSE; *)
#2297							LD		FALSE	{L:517}
(*) UNDEF
A001628C  F000003B		mov d15, #0

#2298							ST		PARAMETERS_UPDATED	{L:517}
(*) BOOL
A0016290  803180BB		mov.u d8, #0x318
A0016294  F600C801		addsc.a a15, a12, d8, #0
A0016298  0000FF59		st.w [a15], d15

#2299		
#2300							(* TUNE_LOW_VEL:=FALSE; *)
#2301							LD		FALSE	{L:518}
(*) UNDEF
A001629C  F000003B		mov d15, #0

#2302							ST		TUNE_LOW_VEL	{L:518}
(*) BOOL
A00162A0  803640BB		mov.u d8, #0x364
A00162A4  F600C801		addsc.a a15, a12, d8, #0
A00162A8  0000FF59		st.w [a15], d15

#2303		
#2304							(* Wc_high_speed:=Wc_act; *)
#2305							LD		Wc_act	{L:519}
(*) UNDEF
A00162AC  800340BB		mov.u d8, #0x34
A00162B0  F600C801		addsc.a a15, a12, d8, #0
A00162B4  0000FF19		ld.w d15, [a15]

#2306							ST		Wc_high_speed	{L:519}
(*) REAL
A00162B8  802AC0BB		mov.u d8, #0x2AC
A00162BC  F600C801		addsc.a a15, a12, d8, #0
A00162C0  0000FF59		st.w [a15], d15

#2307		
#2308							(* state:=15; *)
#2309							LD		15	{L:520}
(*) UNDEF
A00162C4  F000F03B		mov d15, #15

#2310							ST		state	{L:520}
(*) USINT
A00162C8  803400BB		mov.u d8, #0x340
A00162CC  F600C801		addsc.a a15, a12, d8, #0
A00162D0  0800FF89		st.b [a15], d15

#2311		
#2312							(* Vel_SP:=0.0; *)
#2313							LD		0.0	{L:521}
(*) UNDEF
A00162D4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00162D8  F0000F9B		addih d15, d15, #0x0000

#2314							ST		Vel_SP	{L:521}
(*) REAL
A00162DC  803580BB		mov.u d8, #0x358
A00162E0  F600C801		addsc.a a15, a12, d8, #0
A00162E4  0000FF59		st.w [a15], d15

#2315		
#2316		$label95:
#2317						(* END_IF *)
#2318		$label22:
#2319		
#2320					(* END_CASE *)
#2321					JMP		$label3
(-) REAL
A00162E8  0016001D		j #0x000016 ; JUMP 0xA0016314

#2322		$label2:
#2323		
#2324				(* ELSE *)
#2325		
#2326					(* Torque:=0.0; *)
#2327					LD		0.0	{L:526}
(*) UNDEF
A00162EC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00162F0  F0000F9B		addih d15, d15, #0x0000

#2328					ST		Torque	{L:526}
(*) REAL
A00162F4  803380BB		mov.u d8, #0x338
A00162F8  F600C801		addsc.a a15, a12, d8, #0
A00162FC  0000FF59		st.w [a15], d15

#2329		
#2330					(* Vel_SP:=0.0; *)
#2331					LD		0.0	{L:527}
(*) UNDEF
A0016300  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0016304  F0000F9B		addih d15, d15, #0x0000

#2332					ST		Vel_SP	{L:527}
(*) REAL
A0016308  803580BB		mov.u d8, #0x358
A001630C  F600C801		addsc.a a15, a12, d8, #0
A0016310  0000FF59		st.w [a15], d15

#2333		
#2334		$label3:
#2335				(* END_IF *)
#2336		
#2337		$label1:
#2338			(* END_IF *)
#2339		
#2340			(* vEstInertia := fb_RLS.Jm; *)
#2341			LD		fb_RLS.Jm	{L:534}
(*) UNDEF
A0016314  801D00BB		mov.u d8, #0x1D0
A0016318  F600C801		addsc.a a15, a12, d8, #0
A001631C  0000FF19		ld.w d15, [a15]

#2342			ST		vEstInertia	{L:534}
(*) REAL
A0016320  1208CFA5		st.w #0x32048, d15 ; ADR 0xC0002048
A0016324  0000000D		nop

#2343		
#2344			(* vEstStatFrict := staticFriction; *)
#2345			LD		staticFriction	{L:535}
(*) UNDEF
A0016328  8033C0BB		mov.u d8, #0x33C
A001632C  F600C801		addsc.a a15, a12, d8, #0
A0016330  0000FF19		ld.w d15, [a15]

#2346			ST		vEstStatFrict	{L:535}
(*) REAL
A0016334  120CCFA5		st.w #0x3204C, d15 ; ADR 0xC000204C
A0016338  0000000D		nop

#2347		
#2348			(* vEstDynFrict := fb_RLS.Bm; *)
#2349			LD		fb_RLS.Bm	{L:536}
(*) UNDEF
A001633C  801D40BB		mov.u d8, #0x1D4
A0016340  F600C801		addsc.a a15, a12, d8, #0
A0016344  0000FF19		ld.w d15, [a15]

#2350			ST		vEstDynFrict	{L:536}
(*) REAL
A0016348  1210CFA5		st.w #0x32050, d15 ; ADR 0xC0002050
A001634C  0000000D		nop

#2351		
#2352			(* vCalcKpSp := Kp_v * RPM2RAD; *)
#2353			LD		Kp_v	{L:537}
(*) UNDEF
A0016350  803480BB		mov.u d8, #0x348
A0016354  F600C801		addsc.a a15, a12, d8, #0
A0016358  0000FF19		ld.w d15, [a15]

#2354			MUL		RPM2RAD	{L:537}
(*) REAL
A001635C  877500BB		mov.u d8, #0x7750 ; COSTREAL 0.104720
A0016360  83DD689B		addih d8, d8, #0x3DD6
A0016364  F0418F4B		mul.f d15, d15, d8

#2355			ST		vCalcKpSp	{L:537}
(*) REAL
A0016368  1214CFA5		st.w #0x32054, d15 ; ADR 0xC0002054
A001636C  0000000D		nop

#2356		
#2357			(* vCalcTiSp := Ti_v * 1000.0; *)
#2358			LD		Ti_v	{L:538}
(*) UNDEF
A0016370  803500BB		mov.u d8, #0x350
A0016374  F600C801		addsc.a a15, a12, d8, #0
A0016378  0000FF19		ld.w d15, [a15]

#2359			MUL		1000.0	{L:538}
(*) REAL
A001637C  800000BB		mov.u d8, #0x0000 ; COSTREAL 1000.000000
A0016380  8447A89B		addih d8, d8, #0x447A
A0016384  F0418F4B		mul.f d15, d15, d8

#2360			ST		vCalcTiSp	{L:538}
(*) REAL
A0016388  1218CFA5		st.w #0x32058, d15 ; ADR 0xC0002058
A001638C  0000000D		nop

#2361		
#2362			(* vEstBandwidth := Wc_low_speed; *)
#2363			LD		Wc_low_speed	{L:539}
(*) UNDEF
A0016390  802A80BB		mov.u d8, #0x2A8
A0016394  F600C801		addsc.a a15, a12, d8, #0
A0016398  0000FF19		ld.w d15, [a15]

#2364			ST		vEstBandwidth	{L:539}
(*) REAL
A001639C  121CCFA5		st.w #0x3205C, d15 ; ADR 0xC000205C
A00163A0  0000000D		nop

A00163A4  0180000D		ret


Frame allocation:

	02EC bit  0: VAR fbInit
	02F0 bit  0: VAR ENABLE
	02F4       : VAR Speed
	02F8       : VAR Position
	02FC       : VAR maxTrq
	0300       : VAR maxVel
	0304       : VAR maxPos
	0308       : VAR Ts
	030C       : VAR Time_identification
	0310       : VAR phi_m_v
	0314       : VAR phi_m_p
	0318 bit  0: VAR PARAMETERS_UPDATED
	031C       : VAR Torque_ref
	0320       : VAR minPos
	0324       : VAR minVel
	0328       : VAR MaxWc
	032C       : VAR MinWc
	0330       : VAR low_vel_thr
	0334 bit  0: VAR END
	0338       : VAR Torque
	033C       : VAR staticFriction
	0340       : VAR state
	0344       : VAR noiseLevel
	0348       : VAR Kp_v
	034C       : VAR Kp_p
	0350       : VAR Ti_v
	0354       : VAR Ti_p
	0358       : VAR Vel_SP
	035C bit  0: VAR UPDATE_PARAMETERS
	0360       : VAR Jm
	0364 bit  0: VAR TUNE_LOW_VEL
	0368       : VAR Kp_high_vel_perc
	036A       : VAR Ti_high_vel_perc
	0000 bit  0: VAR FLAG_LIMITS
	0004 bit  0: VAR TUNED
	0008       : VAR NO_OF_TRIAL
	000A       : VAR Wc_counter
	000C       : VAR aux
	0010       : VAR Bm
	0014       : VAR Pos_SP
	0018       : VAR PosPreTial
	001C       : VAR Time
	0020       : VAR rise_time
	0024       : VAR Time_HIGH_VEL
	0028       : VAR tmpF
	002C       : VAR TrialTime
	0030       : VAR VARIANCE_THRESHOLD
	0034       : VAR Wc_act
	0038       : VAR Wc_high
	003C       : VAR Wc_low
	0040       : VAR Wc_pos
	0044       : VAR Wc_Step
	0048       : FB  NoiseLevelID
	0068       : FB  NoiseLevelID_Trj
	0078       : FB  RAND
	0090       : FB  StaticFrictionID
	00C0       : FB  StaticFrictionID_Trj
	00E4       : FB  OL_trj_generator
	014C       : FB  fb_RLS
	01DC       : FB  fb_Tune_PID
	0280       : FB  fb_VARIANCE
	02A8       : VAR Wc_low_speed
	02AC       : VAR Wc_high_speed
	02B0       : VAR state_before_error
	02B2       : VAR estimation_trials
	02B4       : VAR friction_trial
	02B8 bit  0: VAR $$TMP2
	02BC bit  0: VAR $$TMP3
	02C0       : VAR $$TMP12
	02C4       : VAR $$TMP13
	02C8       : VAR $$TMP14
	02CC bit  0: VAR $$TMP15
	02D0 bit  0: VAR $$TMP19
	02D4 bit  0: VAR $$TMP20
	02D8       : VAR $$TMP21
	02DC bit  0: VAR $$TMP35
	02E0 bit  0: VAR $$TMP47
	02E4 bit  0: VAR $$TMP48
	02E8       : VAR $$TMP49

END_FUNCTION_BLOCK
**************************************************
	List function block: fb_motor_sim
**************************************************

FUNCTION_BLOCK fb_motor_sim

	VAR_INPUT
	fbInit : BOOL; 
	I : REAL; { DE:"inertia" } 
	Bm : REAL; { DE:"viscous friction" } 
	Fc : REAL; { DE:"static friction" } 
	st : REAL; { DE:"discretization period" } 
	torque : REAL; { DE:"torque [Nm]" } 
	END_VAR

	VAR_OUTPUT
	position : REAL; { DE:"position [rad]" } 
	velocity : REAL; { DE:"velocity [rad/s]" } 
	END_VAR

	VAR
	position_internal : REAL; 
	velocity_internal : REAL; 
	sum_torques : REAL; 
	inv_inertia_st : REAL; 
	sum_torques_old : REAL; 
	END_VAR

A00163A8  C0004001		mov.aa a12, a4

#0		{SRC:fb_motor_sim}
#1		
#2		
#3			(* IF fbInit *)
#4			LD		fbInit	{L:1}
(*) UNDEF
A00163AC  800140BB		mov.u d8, #0x14
A00163B0  F600C801		addsc.a a15, a12, d8, #0
A00163B4  0000FF19		ld.w d15, [a15]

#5			JMPCN	$label0	{L:1}
(-) BOOL
A00163B8  00520FDF		jeq d15, #0, #0x0052 ; JUMP 0xA001645C

#6		
#7			(* THEN *)
#8		
#9				(* position:=0.0; *)
#10				LD		0.0	{L:4}
(*) UNDEF
A00163BC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00163C0  F0000F9B		addih d15, d15, #0x0000

#11				ST		position	{L:4}
(*) REAL
A00163C4  8002C0BB		mov.u d8, #0x2C
A00163C8  F600C801		addsc.a a15, a12, d8, #0
A00163CC  0000FF59		st.w [a15], d15

#12		
#13				(* velocity:=0.0; *)
#14				LD		0.0	{L:5}
(*) UNDEF
A00163D0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00163D4  F0000F9B		addih d15, d15, #0x0000

#15				ST		velocity	{L:5}
(*) REAL
A00163D8  800300BB		mov.u d8, #0x30
A00163DC  F600C801		addsc.a a15, a12, d8, #0
A00163E0  0000FF59		st.w [a15], d15

#16		
#17		
#18				(* IF I>0 *)
#19				LD		I	{L:6}
(*) UNDEF
A00163E4  800180BB		mov.u d8, #0x18
A00163E8  F600C801		addsc.a a15, a12, d8, #0
A00163EC  0000FF19		ld.w d15, [a15]

#20				GT		0	{L:6}
(*) REAL
A00163F0  5000003B		mov d5, #0
A00163F4  5161054B		utof d5, d5
A00163F8  F0015F4B		cmp.f d15, d15, d5
A00163FC  F2004F8B		eq d15, d15, #4

#21				JMPCN	$label2	{L:6}
(-) BOOL
A0016400  00180FDF		jeq d15, #0, #0x0018 ; JUMP 0xA0016430

#22		
#23				(* THEN *)
#24		
#25					(* inv_inertia_st:=st/I; *)
#26					LD		st	{L:7}
(*) UNDEF
A0016404  800240BB		mov.u d8, #0x24
A0016408  F600C801		addsc.a a15, a12, d8, #0
A001640C  0000FF19		ld.w d15, [a15]

#27					DIV		I	{L:7}
(*) REAL
A0016410  800180BB		mov.u d8, #0x18
A0016414  F600C801		addsc.a a15, a12, d8, #0
A0016418  0000F819		ld.w d8, [a15]
A001641C  F0518F4B		div.f d15, d15, d8

#28					ST		inv_inertia_st	{L:7}
(*) REAL
A0016420  8000C0BB		mov.u d8, #0xC
A0016424  F600C801		addsc.a a15, a12, d8, #0
A0016428  0000FF59		st.w [a15], d15

#29					JMP		$label3
(-) REAL
A001642C  000C001D		j #0x00000C ; JUMP 0xA0016444

#30		$label2:
#31		
#32				(* ELSE *)
#33		
#34					(* inv_inertia_st:=0.0; *)
#35					LD		0.0	{L:9}
(*) UNDEF
A0016430  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0016434  F0000F9B		addih d15, d15, #0x0000

#36					ST		inv_inertia_st	{L:9}
(*) REAL
A0016438  8000C0BB		mov.u d8, #0xC
A001643C  F600C801		addsc.a a15, a12, d8, #0
A0016440  0000FF59		st.w [a15], d15

#37		
#38		$label3:
#39				(* END_IF *)
#40		
#41				(* sum_torques_old:=0.0; *)
#42				LD		0.0	{L:11}
(*) UNDEF
A0016444  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0016448  F0000F9B		addih d15, d15, #0x0000

#43				ST		sum_torques_old	{L:11}
(*) REAL
A001644C  800100BB		mov.u d8, #0x10
A0016450  F600C801		addsc.a a15, a12, d8, #0
A0016454  0000FF59		st.w [a15], d15

#44				JMP		$label1
(-) REAL
A0016458  010E001D		j #0x00010E ; JUMP 0xA0016674

#45		$label0:
#46		
#47			(* ELSE *)
#48		
#49				(* position:=position_internal; *)
#50				LD		position_internal	{L:14}
(*) UNDEF
A001645C  F000C001		mov.aa a15, a12
A0016460  0000FF19		ld.w d15, [a15]

#51				ST		position	{L:14}
(*) REAL
A0016464  8002C0BB		mov.u d8, #0x2C
A0016468  F600C801		addsc.a a15, a12, d8, #0
A001646C  0000FF59		st.w [a15], d15

#52		
#53				(* velocity:=velocity_internal; *)
#54				LD		velocity_internal	{L:15}
(*) UNDEF
A0016470  800040BB		mov.u d8, #0x4
A0016474  F600C801		addsc.a a15, a12, d8, #0
A0016478  0000FF19		ld.w d15, [a15]

#55				ST		velocity	{L:15}
(*) REAL
A001647C  800300BB		mov.u d8, #0x30
A0016480  F600C801		addsc.a a15, a12, d8, #0
A0016484  0000FF59		st.w [a15], d15

#56		
#57				(* sum_torques:=torque-Bm*velocity_internal; *)
#58				LD		torque	{L:17}
(*) UNDEF
A0016488  800280BB		mov.u d8, #0x28
A001648C  F600C801		addsc.a a15, a12, d8, #0
A0016490  0000FF19		ld.w d15, [a15]

#59				SUB(		Bm	{L:17}
(*) REAL
A0016494  F53CAF89		st.w [-sp]4, d15 
A0016498  8001C0BB		mov.u d8, #0x1C
A001649C  F600C801		addsc.a a15, a12, d8, #0
A00164A0  0000FF19		ld.w d15, [a15]

#60				MUL		velocity_internal	{L:17}
(*) REAL
A00164A4  800040BB		mov.u d8, #0x4
A00164A8  F600C801		addsc.a a15, a12, d8, #0
A00164AC  0000F819		ld.w d8, [a15]
A00164B0  F0418F4B		mul.f d15, d15, d8

#61				)	{L:17}
(*) REAL
A00164B4  01F0F00B		mov d0, d15
A00164B8  0104AF09		ld.w d15, [sp+]4
A00164BC  FF31006B		sub.f d15, d15, d0

#62				ST		sum_torques	{L:17}
(*) REAL
A00164C0  800080BB		mov.u d8, #0x8
A00164C4  F600C801		addsc.a a15, a12, d8, #0
A00164C8  0000FF59		st.w [a15], d15

#63		
#64		
#65				(* IF velocity>0.0 *)
#66				LD		velocity	{L:18}
(*) UNDEF
A00164CC  800300BB		mov.u d8, #0x30
A00164D0  F600C801		addsc.a a15, a12, d8, #0
A00164D4  0000FF19		ld.w d15, [a15]

#67				GT		0.0	{L:18}
(*) REAL
A00164D8  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A00164DC  5000059B		addih d5, d5, #0x0000
A00164E0  F0015F4B		cmp.f d15, d15, d5
A00164E4  F2004F8B		eq d15, d15, #4

#68				JMPCN	$label4	{L:18}
(-) BOOL
A00164E8  00180FDF		jeq d15, #0, #0x0018 ; JUMP 0xA0016518

#69		
#70				(* THEN *)
#71		
#72					(* sum_torques:=sum_torques-Fc; *)
#73					LD		sum_torques	{L:19}
(*) UNDEF
A00164EC  800080BB		mov.u d8, #0x8
A00164F0  F600C801		addsc.a a15, a12, d8, #0
A00164F4  0000FF19		ld.w d15, [a15]

#74					SUB		Fc	{L:19}
(*) REAL
A00164F8  800200BB		mov.u d8, #0x20
A00164FC  F600C801		addsc.a a15, a12, d8, #0
A0016500  0000F819		ld.w d8, [a15]
A0016504  FF31086B		sub.f d15, d15, d8

#75					ST		sum_torques	{L:19}
(*) REAL
A0016508  800080BB		mov.u d8, #0x8
A001650C  F600C801		addsc.a a15, a12, d8, #0
A0016510  0000FF59		st.w [a15], d15

#76					JMP		$label5
(-) REAL
A0016514  0026001D		j #0x000026 ; JUMP 0xA0016560

#77		$label4:
#78		
#79				(* ELSIF velocity<0.0 *)
#80				LD		velocity	{L:20}
(*) UNDEF
A0016518  800300BB		mov.u d8, #0x30
A001651C  F600C801		addsc.a a15, a12, d8, #0
A0016520  0000FF19		ld.w d15, [a15]

#81				LT		0.0	{L:20}
(*) REAL
A0016524  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A0016528  5000059B		addih d5, d5, #0x0000
A001652C  F0015F4B		cmp.f d15, d15, d5
A0016530  F2001F8B		eq d15, d15, #1

#82				JMPCN	$label5	{L:20}
(-) BOOL
A0016534  00160FDF		jeq d15, #0, #0x0016 ; JUMP 0xA0016560

#83		
#84				(* THEN *)
#85		
#86					(* sum_torques:=sum_torques+Fc; *)
#87					LD		sum_torques	{L:21}
(*) UNDEF
A0016538  800080BB		mov.u d8, #0x8
A001653C  F600C801		addsc.a a15, a12, d8, #0
A0016540  0000FF19		ld.w d15, [a15]

#88					ADD		Fc	{L:21}
(*) REAL
A0016544  800200BB		mov.u d8, #0x20
A0016548  F600C801		addsc.a a15, a12, d8, #0
A001654C  0000F819		ld.w d8, [a15]
A0016550  FF21086B		add.f d15, d15, d8

#89					ST		sum_torques	{L:21}
(*) REAL
A0016554  800080BB		mov.u d8, #0x8
A0016558  F600C801		addsc.a a15, a12, d8, #0
A001655C  0000FF59		st.w [a15], d15

#90		
#91		$label5:
#92				(* END_IF *)
#93		
#94				(* velocity_internal:=velocity_internal+inv_inertia_st*0.5*(sum_torques+sum_torques_old); *)
#95				LD		sum_torques	{L:23}
(*) UNDEF
A0016560  800080BB		mov.u d8, #0x8
A0016564  F600C801		addsc.a a15, a12, d8, #0
A0016568  0000FF19		ld.w d15, [a15]

#96				ADD		sum_torques_old	{L:23}
(*) REAL
A001656C  800100BB		mov.u d8, #0x10
A0016570  F600C801		addsc.a a15, a12, d8, #0
A0016574  0000F819		ld.w d8, [a15]
A0016578  FF21086B		add.f d15, d15, d8

#97				MUL(		inv_inertia_st	{L:23}
(*) REAL
A001657C  F53CAF89		st.w [-sp]4, d15 
A0016580  8000C0BB		mov.u d8, #0xC
A0016584  F600C801		addsc.a a15, a12, d8, #0
A0016588  0000FF19		ld.w d15, [a15]

#98				MUL		0.5	{L:23}
(*) REAL
A001658C  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A0016590  83F0089B		addih d8, d8, #0x3F00
A0016594  F0418F4B		mul.f d15, d15, d8

#99				)	{L:23}
(*) REAL
A0016598  01F0F00B		mov d0, d15
A001659C  0104AF09		ld.w d15, [sp+]4
A00165A0  F0410F4B		mul.f d15, d15, d0

#100				ADD		velocity_internal	{L:23}
(*) REAL
A00165A4  800040BB		mov.u d8, #0x4
A00165A8  F600C801		addsc.a a15, a12, d8, #0
A00165AC  0000F819		ld.w d8, [a15]
A00165B0  FF21086B		add.f d15, d15, d8

#101				ST		velocity_internal	{L:23}
(*) REAL
A00165B4  800040BB		mov.u d8, #0x4
A00165B8  F600C801		addsc.a a15, a12, d8, #0
A00165BC  0000FF59		st.w [a15], d15

#102		
#103		
#104				(* IF velocity*velocity_internal<0.0 *)
#105				LD		velocity	{L:24}
(*) UNDEF
A00165C0  800300BB		mov.u d8, #0x30
A00165C4  F600C801		addsc.a a15, a12, d8, #0
A00165C8  0000FF19		ld.w d15, [a15]

#106				MUL		velocity_internal	{L:24}
(*) REAL
A00165CC  800040BB		mov.u d8, #0x4
A00165D0  F600C801		addsc.a a15, a12, d8, #0
A00165D4  0000F819		ld.w d8, [a15]
A00165D8  F0418F4B		mul.f d15, d15, d8

#107				LT		0.0	{L:24}
(*) REAL
A00165DC  500000BB		mov.u d5, #0x0000 ; COSTREAL 0.000000
A00165E0  5000059B		addih d5, d5, #0x0000
A00165E4  F0015F4B		cmp.f d15, d15, d5
A00165E8  F2001F8B		eq d15, d15, #1

#108				JMPCN	$label6	{L:24}
(-) BOOL
A00165EC  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0016604

#109		
#110				(* THEN *)
#111		
#112					(* velocity:=0.0; *)
#113					LD		0.0	{L:25}
(*) UNDEF
A00165F0  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A00165F4  F0000F9B		addih d15, d15, #0x0000

#114					ST		velocity	{L:25}
(*) REAL
A00165F8  800300BB		mov.u d8, #0x30
A00165FC  F600C801		addsc.a a15, a12, d8, #0
A0016600  0000FF59		st.w [a15], d15

#115		
#116		$label6:
#117				(* END_IF *)
#118		
#119				(* position_internal:=position_internal+st*0.5*(velocity_internal+velocity); *)
#120				LD		velocity_internal	{L:27}
(*) UNDEF
A0016604  800040BB		mov.u d8, #0x4
A0016608  F600C801		addsc.a a15, a12, d8, #0
A001660C  0000FF19		ld.w d15, [a15]

#121				ADD		velocity	{L:27}
(*) REAL
A0016610  800300BB		mov.u d8, #0x30
A0016614  F600C801		addsc.a a15, a12, d8, #0
A0016618  0000F819		ld.w d8, [a15]
A001661C  FF21086B		add.f d15, d15, d8

#122				MUL(		st	{L:27}
(*) REAL
A0016620  F53CAF89		st.w [-sp]4, d15 
A0016624  800240BB		mov.u d8, #0x24
A0016628  F600C801		addsc.a a15, a12, d8, #0
A001662C  0000FF19		ld.w d15, [a15]

#123				MUL		0.5	{L:27}
(*) REAL
A0016630  800000BB		mov.u d8, #0x0000 ; COSTREAL 0.500000
A0016634  83F0089B		addih d8, d8, #0x3F00
A0016638  F0418F4B		mul.f d15, d15, d8

#124				)	{L:27}
(*) REAL
A001663C  01F0F00B		mov d0, d15
A0016640  0104AF09		ld.w d15, [sp+]4
A0016644  F0410F4B		mul.f d15, d15, d0

#125				ADD		position_internal	{L:27}
(*) REAL
A0016648  F000C001		mov.aa a15, a12
A001664C  0000F819		ld.w d8, [a15]
A0016650  FF21086B		add.f d15, d15, d8

#126				ST		position_internal	{L:27}
(*) REAL
A0016654  F000C001		mov.aa a15, a12
A0016658  0000FF59		st.w [a15], d15

#127		
#128				(* sum_torques_old:=sum_torques; *)
#129				LD		sum_torques	{L:29}
(*) UNDEF
A001665C  800080BB		mov.u d8, #0x8
A0016660  F600C801		addsc.a a15, a12, d8, #0
A0016664  0000FF19		ld.w d15, [a15]

#130				ST		sum_torques_old	{L:29}
(*) REAL
A0016668  800100BB		mov.u d8, #0x10
A001666C  F600C801		addsc.a a15, a12, d8, #0
A0016670  0000FF59		st.w [a15], d15

A0016674  0180000D		ret


Frame allocation:

	0014 bit  0: VAR fbInit
	0018       : VAR I
	001C       : VAR Bm
	0020       : VAR Fc
	0024       : VAR st
	0028       : VAR torque
	002C       : VAR position
	0030       : VAR velocity
	0000       : VAR position_internal
	0004       : VAR velocity_internal
	0008       : VAR sum_torques
	000C       : VAR inv_inertia_st
	0010       : VAR sum_torques_old

END_FUNCTION_BLOCK
**************************************************
	List function block: Derivative_PB
**************************************************

FUNCTION_BLOCK Derivative_PB

{ DE:"DERIVATIVE + LOW PASS FILTER	(s/(1+s*TauP))

Rev.0	10/12/99 	by SSS
Suggestion: If there is no cpu time issue use DerivativeR.

Derivativ + Low pass filter with TAUP constant.
The basic values do not have to cause an overflow (2^31) in case two of them 
are multiplied each other.

I valori base devono essere tali da non provocare overflow
quando moltiplicati tra loro

Values to be used:
Signals	10000		Limits	-20000 -> +20000
Times	1000		Limits  0 -> 25000

Note:
1000 ms  max. filter (suggested < 80 ms)
Output: max. 32.000.000 counts" }

	VAR_INPUT
	inU : DINT; { DE:"Input signal. Referred to signals base value" } 
	fS : DINT; { DE:"sampling freq =1/Ts [1/s]. 
                     i.e. cycle time =1msec -> fS:=1000 sampling freq = 1kz" } 
	tauP : DINT; { DE:"Time constant. Referred to times base value" } 
	TiN : DINT; { DE:"Times base value
                        i.e. to set TimeBase = 1 sec, tau = 10msec
                        set
                        TiN := 1000
                        tauP:= 10" } 
	END_VAR

	VAR_OUTPUT
	outY : DINT; { DE:"Output signal. Referred to signals base value" } 
	END_VAR

	VAR
	Yint : DINT; { DE:"Internal signal. Rferred to Kr * signals base value" } 
	prevInU : DINT; { DE:"Prec step input signal" } 
	Kr : DINT; { DE:"signals scale" } 
	KrN : DINT; { DE:"signals scale numerator" } 
	KrD : DINT; { DE:"signals scale denominator" } 
	END_VAR

A0016678  C0004001		mov.aa a12, a4

#0		{SRC:Derivative_PB}
#1		
#2		
#3		
#4			(*	Calcolo Kr = KrN/KrD					*)
#5			(*	= (TAUi+TiC)/TiN = (fS*tauP+TiN/fS*TiN)	*)
#6		
#7			LD		fS
(*) UNDEF
A001667C  800180BB		mov.u d8, #0x18
A0016680  F600C801		addsc.a a15, a12, d8, #0
A0016684  0000FF19		ld.w d15, [a15]

#8			MUL		tauP
(*) DINT
A0016688  8001C0BB		mov.u d8, #0x1C
A001668C  F600C801		addsc.a a15, a12, d8, #0
A0016690  0000F819		ld.w d8, [a15]
A0016694  F00A8F73		mul d15, d15, d8

#9			ADD		TiN
(*) DINT
A0016698  800200BB		mov.u d8, #0x20
A001669C  F600C801		addsc.a a15, a12, d8, #0
A00166A0  0000F819		ld.w d8, [a15]
A00166A4  F0008F0B		add d15, d15, d8

#10			ST		KrN
(*) DINT
A00166A8  8000C0BB		mov.u d8, #0xC
A00166AC  F600C801		addsc.a a15, a12, d8, #0
A00166B0  0000FF59		st.w [a15], d15

#11		
#12			LD		fS
(*) UNDEF
A00166B4  800180BB		mov.u d8, #0x18
A00166B8  F600C801		addsc.a a15, a12, d8, #0
A00166BC  0000FF19		ld.w d15, [a15]

#13			MUL		TiN
(*) DINT
A00166C0  800200BB		mov.u d8, #0x20
A00166C4  F600C801		addsc.a a15, a12, d8, #0
A00166C8  0000F819		ld.w d8, [a15]
A00166CC  F00A8F73		mul d15, d15, d8

#14			ST		KrD
(*) DINT
A00166D0  800100BB		mov.u d8, #0x10
A00166D4  F600C801		addsc.a a15, a12, d8, #0
A00166D8  0000FF59		st.w [a15], d15

#15		
#16			(*	Corpo derivativo							*)
#17			(*	Yint[k]=tauP/TiN*outY[k-1]+inU[k]-inU[k-1]	*)
#18			(*  Il segnale è referred to Yint*Kr				*)
#19		
#20			LD		tauP
(*) UNDEF
A00166DC  8001C0BB		mov.u d8, #0x1C
A00166E0  F600C801		addsc.a a15, a12, d8, #0
A00166E4  0000FF19		ld.w d15, [a15]

#21			MUL		outY
(*) DINT
A00166E8  800240BB		mov.u d8, #0x24
A00166EC  F600C801		addsc.a a15, a12, d8, #0
A00166F0  0000F819		ld.w d8, [a15]
A00166F4  F00A8F73		mul d15, d15, d8

#22			DIV		TiN
(*) DINT
A00166F8  800200BB		mov.u d8, #0x20
A00166FC  F600C801		addsc.a a15, a12, d8, #0
A0016700  0000F819		ld.w d8, [a15]
A0016704  21A08F4B		dvinit d2/d3, d15, d8
A0016708  9000303B		mov d9, #3
A001670C  F6309001		mov.a a15, d9
A0016710  22F0806B		dvstep d2/d3, d2/d3, d8
A0016714  7FFEF0FD		loop a15, #-2
A0016718  22D0806B		dvadj d2/d3, d2/d3, d8
A001671C  F1F0200B		mov d15, d2

#23			ADD		inU
(*) DINT
A0016720  800140BB		mov.u d8, #0x14
A0016724  F600C801		addsc.a a15, a12, d8, #0
A0016728  0000F819		ld.w d8, [a15]
A001672C  F0008F0B		add d15, d15, d8

#24			SUB		prevInU
(*) DINT
A0016730  800040BB		mov.u d8, #0x4
A0016734  F600C801		addsc.a a15, a12, d8, #0
A0016738  0000F819		ld.w d8, [a15]
A001673C  F0808F0B		sub d15, d15, d8

#25			ST		Yint
(*) DINT
A0016740  F000C001		mov.aa a15, a12
A0016744  0000FF59		st.w [a15], d15

#26		
#27			(*	Scalatura uscita			*)
#28			(*	outY=Yint/Kr				*)
#29		
#30			LD		KrN
(*) UNDEF
A0016748  8000C0BB		mov.u d8, #0xC
A001674C  F600C801		addsc.a a15, a12, d8, #0
A0016750  0000FF19		ld.w d15, [a15]

#31			GE		KrD
(*) DINT
A0016754  800100BB		mov.u d8, #0x10
A0016758  F600C801		addsc.a a15, a12, d8, #0
A001675C  0000F819		ld.w d8, [a15]
A0016760  F1408F0B		ge d15, d15, d8

#32			JMPCN	l1
(-) BOOL
A0016764  002A0FDF		jeq d15, #0, #0x002A ; JUMP 0xA00167B8

#33		
#34			LD		Yint
(*) UNDEF
A0016768  F000C001		mov.aa a15, a12
A001676C  0000FF19		ld.w d15, [a15]

#35			DIV		KrN
(*) DINT
A0016770  8000C0BB		mov.u d8, #0xC
A0016774  F600C801		addsc.a a15, a12, d8, #0
A0016778  0000F819		ld.w d8, [a15]
A001677C  21A08F4B		dvinit d2/d3, d15, d8
A0016780  9000303B		mov d9, #3
A0016784  F6309001		mov.a a15, d9
A0016788  22F0806B		dvstep d2/d3, d2/d3, d8
A001678C  7FFEF0FD		loop a15, #-2
A0016790  22D0806B		dvadj d2/d3, d2/d3, d8
A0016794  F1F0200B		mov d15, d2

#36			MUL		KrD
(*) DINT
A0016798  800100BB		mov.u d8, #0x10
A001679C  F600C801		addsc.a a15, a12, d8, #0
A00167A0  0000F819		ld.w d8, [a15]
A00167A4  F00A8F73		mul d15, d15, d8

#37			ST		outY
(*) DINT
A00167A8  800240BB		mov.u d8, #0x24
A00167AC  F600C801		addsc.a a15, a12, d8, #0
A00167B0  0000FF59		st.w [a15], d15

#38			JMP		l2
(-) DINT
A00167B4  0034001D		j #0x000034 ; JUMP 0xA001681C

#39		
#40		l1:
#41		
#42			LD		KrD
(*) UNDEF
A00167B8  800100BB		mov.u d8, #0x10
A00167BC  F600C801		addsc.a a15, a12, d8, #0
A00167C0  0000FF19		ld.w d15, [a15]

#43			DIV		KrN
(*) DINT
A00167C4  8000C0BB		mov.u d8, #0xC
A00167C8  F600C801		addsc.a a15, a12, d8, #0
A00167CC  0000F819		ld.w d8, [a15]
A00167D0  21A08F4B		dvinit d2/d3, d15, d8
A00167D4  9000303B		mov d9, #3
A00167D8  F6309001		mov.a a15, d9
A00167DC  22F0806B		dvstep d2/d3, d2/d3, d8
A00167E0  7FFEF0FD		loop a15, #-2
A00167E4  22D0806B		dvadj d2/d3, d2/d3, d8
A00167E8  F1F0200B		mov d15, d2

#44			ST		Kr
(*) DINT
A00167EC  800080BB		mov.u d8, #0x8
A00167F0  F600C801		addsc.a a15, a12, d8, #0
A00167F4  0000FF59		st.w [a15], d15

#45			LD		Yint
(*) UNDEF
A00167F8  F000C001		mov.aa a15, a12
A00167FC  0000FF19		ld.w d15, [a15]

#46			MUL		Kr
(*) DINT
A0016800  800080BB		mov.u d8, #0x8
A0016804  F600C801		addsc.a a15, a12, d8, #0
A0016808  0000F819		ld.w d8, [a15]
A001680C  F00A8F73		mul d15, d15, d8

#47			ST		outY
(*) DINT
A0016810  800240BB		mov.u d8, #0x24
A0016814  F600C801		addsc.a a15, a12, d8, #0
A0016818  0000FF59		st.w [a15], d15

#48		
#49		l2:
#50		
#51			LD		inU
(*) UNDEF
A001681C  800140BB		mov.u d8, #0x14
A0016820  F600C801		addsc.a a15, a12, d8, #0
A0016824  0000FF19		ld.w d15, [a15]

#52			ST		prevInU
(*) DINT
A0016828  800040BB		mov.u d8, #0x4
A001682C  F600C801		addsc.a a15, a12, d8, #0
A0016830  0000FF59		st.w [a15], d15

A0016834  0180000D		ret


Frame allocation:

	0014       : VAR inU
	0018       : VAR fS
	001C       : VAR tauP
	0020       : VAR TiN
	0024       : VAR outY
	0000       : VAR Yint
	0004       : VAR prevInU
	0008       : VAR Kr
	000C       : VAR KrN
	0010       : VAR KrD

END_FUNCTION_BLOCK
**************************************************
	List function block: DerivativeR
**************************************************

FUNCTION_BLOCK DerivativeR

{ DE:"DERIVATIVE REAL

Version 1.0	3/8/2001		by SSS

Derivative with low passing filter with floating point variables

Transfer function:
Continous time:	outY(s)/inU(s)=s/(1+tauP*s)
Discrete time:	outY(z)/inU(z)={[1-z(-1)]/Ts}/{1+[1-z(-1)]*tauP/Ts}
" }

	VAR_INPUT
	inU : REAL; { DE:"input signal" } 
	tauP : REAL; { DE:"filter time constant in sec" } 
	Ts : REAL; { DE:"Sampling time; i.e. in Fast Cycle Ts := 0.001" } 
	END_VAR

	VAR_OUTPUT
	outY : REAL; { DE:"Output signal" } 
	END_VAR

	VAR
	prevInU : REAL; { DE:"input at prec step" } 
	END_VAR

A0016838  C0004001		mov.aa a12, a4

#0		{SRC:DerivativeR}
#1			(*	Corpo derivativo												*)
#2			(*	outY[k]=1/(tauP+Ts)*outY[k-1]+tauP/(tauP+Ts)*(inU[k]-inU[k-1])	*)
#3		
#4			LD		outY
(*) UNDEF
A001683C  800100BB		mov.u d8, #0x10
A0016840  F600C801		addsc.a a15, a12, d8, #0
A0016844  0000FF19		ld.w d15, [a15]

#5			MUL		tauP
(*) REAL
A0016848  800080BB		mov.u d8, #0x8
A001684C  F600C801		addsc.a a15, a12, d8, #0
A0016850  0000F819		ld.w d8, [a15]
A0016854  F0418F4B		mul.f d15, d15, d8

#6			ADD		inU
(*) REAL
A0016858  800040BB		mov.u d8, #0x4
A001685C  F600C801		addsc.a a15, a12, d8, #0
A0016860  0000F819		ld.w d8, [a15]
A0016864  FF21086B		add.f d15, d15, d8

#7			SUB		prevInU
(*) REAL
A0016868  F000C001		mov.aa a15, a12
A001686C  0000F819		ld.w d8, [a15]
A0016870  FF31086B		sub.f d15, d15, d8

#8			DIV(	tauP
(*) REAL
A0016874  F53CAF89		st.w [-sp]4, d15 
A0016878  800080BB		mov.u d8, #0x8
A001687C  F600C801		addsc.a a15, a12, d8, #0
A0016880  0000FF19		ld.w d15, [a15]

#9			ADD		Ts
(*) REAL
A0016884  8000C0BB		mov.u d8, #0xC
A0016888  F600C801		addsc.a a15, a12, d8, #0
A001688C  0000F819		ld.w d8, [a15]
A0016890  FF21086B		add.f d15, d15, d8

#10			)
(*) REAL
A0016894  01F0F00B		mov d0, d15
A0016898  0104AF09		ld.w d15, [sp+]4
A001689C  81F0000B		mov d8, d0
A00168A0  F0518F4B		div.f d15, d15, d8

#11			ST		outY
(*) REAL
A00168A4  800100BB		mov.u d8, #0x10
A00168A8  F600C801		addsc.a a15, a12, d8, #0
A00168AC  0000FF59		st.w [a15], d15

#12		
#13			(*	Aggiornamento prevInU	*)
#14		
#15			LD		inU
(*) UNDEF
A00168B0  800040BB		mov.u d8, #0x4
A00168B4  F600C801		addsc.a a15, a12, d8, #0
A00168B8  0000FF19		ld.w d15, [a15]

#16			ST		prevInU
(*) REAL
A00168BC  F000C001		mov.aa a15, a12
A00168C0  0000FF59		st.w [a15], d15

A00168C4  0180000D		ret


Frame allocation:

	0004       : VAR inU
	0008       : VAR tauP
	000C       : VAR Ts
	0010       : VAR outY
	0000       : VAR prevInU

END_FUNCTION_BLOCK
**************************************************
	List function block: IntegratorDW
**************************************************

FUNCTION_BLOCK IntegratorDW

{ DE:"INTEGRATOR DOUBLE WORD

Version 1.0	25/10/2001		by SSS

Integrator with anti-windup function with double word variables

Transfer functions
Continuous time:
outY(s)/inU(s)=1/s
Discrete time
OutY(z)/inU(z)=Ts/[1-z(-1)]

Particular functions:
- Preset of the starting value (presetValue) when presetBit=TRUE;
- Minimum and maximum limits with anti-windup function.

Basic values to  be used:
Signals	16384
Times	4000" }

	VAR_INPUT
	inU : DINT; { DE:"Input signal. Referred to signals base value" } 
	preset : DINT; { DE:"Preset value. Referred to signals base value" } 
	fS : DINT; { DE:"sampling frequency =1/Ts [1/s]." } 
	lowLimit : DINT; { DE:"Lower limit. Referred to signals base value" } 
	highLimit : DINT; { DE:"Upper limit. Referred to signals base value" } 
	presetBit : BOOL; { DE:"Preset bit" } 
	END_VAR

	VAR_OUTPUT
	outY : DINT; { DE:"Output signal. Referred to signals base value" } 
	END_VAR

	VAR
	Yint : DINT; { DE:"Integrated internal signal. Referred to fS * signals base value" } 
	prevYint : DINT; { DE:"preceeding value of integrated internal signal" } 
	intLowLim : DINT; { DE:"Min internal limt. referred to fS * signals base value" } 
	intHighLim : DINT; { DE:"Max internal limit. referred to fS * signals base value" } 
	END_VAR

A00168C8  C0004001		mov.aa a12, a4

#0		{SRC:IntegratorDW}
#1		
#2		
#3			(*	Calcolo limiti interni		*)
#4			(*	= extLimit*fS				*)
#5		
#6			LD		lowLimit
(*) UNDEF
A00168CC  8001C0BB		mov.u d8, #0x1C
A00168D0  F600C801		addsc.a a15, a12, d8, #0
A00168D4  0000FF19		ld.w d15, [a15]

#7			MUL		fS
(*) DINT
A00168D8  800180BB		mov.u d8, #0x18
A00168DC  F600C801		addsc.a a15, a12, d8, #0
A00168E0  0000F819		ld.w d8, [a15]
A00168E4  F00A8F73		mul d15, d15, d8

#8			ST		intLowLim
(*) DINT
A00168E8  800080BB		mov.u d8, #0x8
A00168EC  F600C801		addsc.a a15, a12, d8, #0
A00168F0  0000FF59		st.w [a15], d15

#9		
#10			LD		highLimit
(*) UNDEF
A00168F4  800200BB		mov.u d8, #0x20
A00168F8  F600C801		addsc.a a15, a12, d8, #0
A00168FC  0000FF19		ld.w d15, [a15]

#11			MUL		fS
(*) DINT
A0016900  800180BB		mov.u d8, #0x18
A0016904  F600C801		addsc.a a15, a12, d8, #0
A0016908  0000F819		ld.w d8, [a15]
A001690C  F00A8F73		mul d15, d15, d8

#12			ST		intHighLim
(*) DINT
A0016910  8000C0BB		mov.u d8, #0xC
A0016914  F600C801		addsc.a a15, a12, d8, #0
A0016918  0000FF59		st.w [a15], d15

#13		
#14			(*	Settaggio Preset value	*)
#15		
#16			LD		presetBit
(*) UNDEF
A001691C  800240BB		mov.u d8, #0x24
A0016920  F600C801		addsc.a a15, a12, d8, #0
A0016924  0000FF19		ld.w d15, [a15]

#17			JMPCN	l1
(-) BOOL
A0016928  00160FDF		jeq d15, #0, #0x0016 ; JUMP 0xA0016954

#18			LD		preset
(*) UNDEF
A001692C  800140BB		mov.u d8, #0x14
A0016930  F600C801		addsc.a a15, a12, d8, #0
A0016934  0000FF19		ld.w d15, [a15]

#19			MUL		fS
(*) DINT
A0016938  800180BB		mov.u d8, #0x18
A001693C  F600C801		addsc.a a15, a12, d8, #0
A0016940  0000F819		ld.w d8, [a15]
A0016944  F00A8F73		mul d15, d15, d8

#20			ST		Yint
(*) DINT
A0016948  F000C001		mov.aa a15, a12
A001694C  0000FF59		st.w [a15], d15

#21		
#22			JMP             l2
(-) DINT
A0016950  002A001D		j #0x00002A ; JUMP 0xA00169A4

#23		
#24		l1:
#25		
#26			(*	Corpo integratore								*)
#27			(*	Yint[k]=Yint[k-1]+inU[k]						*)
#28			(*  Il segnale è referred to Yin*fS					*)
#29		
#30			LD		inU
(*) UNDEF
A0016954  800100BB		mov.u d8, #0x10
A0016958  F600C801		addsc.a a15, a12, d8, #0
A001695C  0000FF19		ld.w d15, [a15]

#31			ADD		Yint
(*) DINT
A0016960  F000C001		mov.aa a15, a12
A0016964  0000F819		ld.w d8, [a15]
A0016968  F0008F0B		add d15, d15, d8

#32			ST		Yint
(*) DINT
A001696C  F000C001		mov.aa a15, a12
A0016970  0000FF59		st.w [a15], d15

#33		
#34			(*	Verifica limiti												*)
#35			(*  Se fuori limite Yint viene posto uguale al limite stesso	*)
#36		
#37			LD		Yint
(*) UNDEF
A0016974  F000C001		mov.aa a15, a12
A0016978  0000FF19		ld.w d15, [a15]

#38			LIMIT	intLowLim, intHighLim
(*) DINT
A001697C  800080BB		mov.u d8, #0x8
A0016980  F600C801		addsc.a a15, a12, d8, #0
A0016984  0000F819		ld.w d8, [a15]
A0016988  F1A0F80B		max d15, d8, d15
A001698C  8000C0BB		mov.u d8, #0xC
A0016990  F600C801		addsc.a a15, a12, d8, #0
A0016994  0000F819		ld.w d8, [a15]
A0016998  F180F80B		min d15, d8, d15

#39			ST		Yint
(*) DINT
A001699C  F000C001		mov.aa a15, a12
A00169A0  0000FF59		st.w [a15], d15

#40		
#41		l2:
#42		
#43			(*	Scalatura uscita			*)
#44			(*	outY=Yint*YiN*ts/(UiN*TiN)	*)
#45			(*	=Yint/fS -> i valori base per i segnali devono essere uguali	*)
#46		
#47			LD		Yint
(*) UNDEF
A00169A4  F000C001		mov.aa a15, a12
A00169A8  0000FF19		ld.w d15, [a15]

#48			DIV		fS
(*) DINT
A00169AC  800180BB		mov.u d8, #0x18
A00169B0  F600C801		addsc.a a15, a12, d8, #0
A00169B4  0000F819		ld.w d8, [a15]
A00169B8  21A08F4B		dvinit d2/d3, d15, d8
A00169BC  9000303B		mov d9, #3
A00169C0  F6309001		mov.a a15, d9
A00169C4  22F0806B		dvstep d2/d3, d2/d3, d8
A00169C8  7FFEF0FD		loop a15, #-2
A00169CC  22D0806B		dvadj d2/d3, d2/d3, d8
A00169D0  F1F0200B		mov d15, d2

#49			ST		outY
(*) DINT
A00169D4  800280BB		mov.u d8, #0x28
A00169D8  F600C801		addsc.a a15, a12, d8, #0
A00169DC  0000FF59		st.w [a15], d15

A00169E0  0180000D		ret


Frame allocation:

	0010       : VAR inU
	0014       : VAR preset
	0018       : VAR fS
	001C       : VAR lowLimit
	0020       : VAR highLimit
	0024 bit  0: VAR presetBit
	0028       : VAR outY
	0000       : VAR Yint
	0004       : VAR prevYint
	0008       : VAR intLowLim
	000C       : VAR intHighLim

END_FUNCTION_BLOCK
**************************************************
	List function block: IntegratorR
**************************************************

FUNCTION_BLOCK IntegratorR

{ DE:"INTEGRATOR REAL

Version 1.0	3/8/2001		by SSS

Integrator with anti-windup function with floating point variables

Transfer functions
Continuous time:outY(s)/inU(s)=1/s
Discrete timeOutY(z)/inU(z)=Ts/[1-z(-1)]

Particular functions:
- Preset of the starting value (presetValue) when presetBit=TRUE;
- Minimum and maximum limits with anti-windup function" }

	VAR_INPUT
	inU : REAL; { DE:"Input variable" } 
	Ts : REAL; { DE:"Sampling time [s]" } 
	presetValue : REAL; { DE:"Preset value" } 
	presetBit : BOOL; { DE:"Preset command" } 
	lowLimit : REAL; { DE:"Output Lower limit " } 
	highLimit : REAL; { DE:"Output Upper limit " } 
	END_VAR

	VAR_OUTPUT
	outY : REAL; { DE:"Output variable" } 
	END_VAR

A00169E4  C0004001		mov.aa a12, a4

#0		{SRC:IntegratorR}
#1		
#2			(*	Settaggio Preset value	*)
#3		
#4			LD		presetBit
(*) UNDEF
A00169E8  8000C0BB		mov.u d8, #0xC
A00169EC  F600C801		addsc.a a15, a12, d8, #0
A00169F0  0000FF19		ld.w d15, [a15]

#5			JMPCN	l1
(-) BOOL
A00169F4  000E0FDF		jeq d15, #0, #0x000E ; JUMP 0xA0016A10

#6			LD		presetValue
(*) UNDEF
A00169F8  800080BB		mov.u d8, #0x8
A00169FC  F600C801		addsc.a a15, a12, d8, #0
A0016A00  0000FF19		ld.w d15, [a15]

#7			ST		outY
(*) REAL
A0016A04  800180BB		mov.u d8, #0x18
A0016A08  F600C801		addsc.a a15, a12, d8, #0
A0016A0C  0000FF59		st.w [a15], d15

#8		
#9		l1:
#10		
#11			(*	Corpo integratore					*)
#12			(*	outY[k]=outY[k-1]+inU[k]*Ts			*)
#13		
#14			LD		inU
(*) UNDEF
A0016A10  F000C001		mov.aa a15, a12
A0016A14  0000FF19		ld.w d15, [a15]

#15			MUL		Ts
(*) REAL
A0016A18  800040BB		mov.u d8, #0x4
A0016A1C  F600C801		addsc.a a15, a12, d8, #0
A0016A20  0000F819		ld.w d8, [a15]
A0016A24  F0418F4B		mul.f d15, d15, d8

#16			ADD		outY
(*) REAL
A0016A28  800180BB		mov.u d8, #0x18
A0016A2C  F600C801		addsc.a a15, a12, d8, #0
A0016A30  0000F819		ld.w d8, [a15]
A0016A34  FF21086B		add.f d15, d15, d8

#17			ST		outY
(*) REAL
A0016A38  800180BB		mov.u d8, #0x18
A0016A3C  F600C801		addsc.a a15, a12, d8, #0
A0016A40  0000FF59		st.w [a15], d15

#18		
#19			(*	Verifica limiti												*)
#20			(*  Se fuori limite outY viene posto uguale al limite stesso	*)
#21		
#22			LD		outY
(*) UNDEF
A0016A44  800180BB		mov.u d8, #0x18
A0016A48  F600C801		addsc.a a15, a12, d8, #0
A0016A4C  0000FF19		ld.w d15, [a15]

#23			LIMIT_R	lowLimit, highLimit
(-) REAL
A0016A50  800140BB		mov.u d8, #0x14
A0016A54  F600C801		addsc.a a15, a12, d8, #0
A0016A58  0000F619		ld.w d6, [a15]
A0016A5C  800100BB		mov.u d8, #0x10
A0016A60  F600C801		addsc.a a15, a12, d8, #0
A0016A64  0000F519		ld.w d5, [a15]
A0016A68  41F0F00B		mov d4, d15
A0016A6C  CB66FF6D		call #0xFFCB66 ; CALL 0xA0010138
A0016A70  F1F0200B		mov d15, d2

#24			ST		outY
(*) REAL
A0016A74  800180BB		mov.u d8, #0x18
A0016A78  F600C801		addsc.a a15, a12, d8, #0
A0016A7C  0000FF59		st.w [a15], d15

A0016A80  0180000D		ret


Frame allocation:

	0000       : VAR inU
	0004       : VAR Ts
	0008       : VAR presetValue
	000C bit  0: VAR presetBit
	0010       : VAR lowLimit
	0014       : VAR highLimit
	0018       : VAR outY

END_FUNCTION_BLOCK
**************************************************
	List function block: LP_FilterDW
**************************************************

FUNCTION_BLOCK LP_FilterDW

{ DE:"LOW PASS FILTER DOUBLE WORD

Version 1.0	23/8/2001		by SSS

First order low passing filter with double integer variables (32 bits)

Transfer functions
Continuous time:outY(s)/inU(s)=1/(1+s*(tauP/TiN))
Discrete timeoutY(z)/inU(z)=1/{1+[1-z(-1)]*tauP*fS}
Particular functions:
-	Preset of the starting value (presetValue) when presetBit=TRUE.
Note:
The basic values do not have to cause an overflow (2^31) in case two of them are multiplied.
Values to be used:
Signals	16384
Times	1000-1024

" }

	VAR_INPUT
	inU : DINT; { DE:"Input signal. Referred to signals base value" } 
	fS : DINT; { DE:"sampling frequency =1/Ts [1/s]." } 
	tauP : DINT; { DE:"Time constant. Referred to times base value" } 
	TiN : DINT; { DE:"Times base value. Corresponds to 1s." } 
	presetValue : DINT; { DE:"Preset value. Referred to signals base value" } 
	presetBit : BOOL; { DE:"Preset command" } 
	END_VAR

	VAR_OUTPUT
	outY : DINT; { DE:"Output signal. Referred to signals base value" } 
	END_VAR

	VAR
	Yint : DINT; { DE:"Internal filered signal. referred to Kr * signals base value" } 
	prevYint : DINT; { DE:"Integrated internal signal. Valore precedente" } 
	Kr : DINT; { DE:"Signal scale" } 
	prevRest : DINT; { DE:"Reminder of prec step division" } 
	auxYint : DINT; { DE:"aux var for division" } 
	END_VAR

A0016A84  C0004001		mov.aa a12, a4

#0		{SRC:LP_FilterDW}
#1		
#2			(*	Settaggio Preset value	*)
#3		
#4			LD		presetBit
(*) UNDEF
A0016A88  800280BB		mov.u d8, #0x28
A0016A8C  F600C801		addsc.a a15, a12, d8, #0
A0016A90  0000FF19		ld.w d15, [a15]

#5			JMPCN	l1
(-) BOOL
A0016A94  00160FDF		jeq d15, #0, #0x0016 ; JUMP 0xA0016AC0

#6		
#7			LD		presetValue
(*) UNDEF
A0016A98  800240BB		mov.u d8, #0x24
A0016A9C  F600C801		addsc.a a15, a12, d8, #0
A0016AA0  0000FF19		ld.w d15, [a15]

#8			ST		outY
(*) DINT
A0016AA4  8002C0BB		mov.u d8, #0x2C
A0016AA8  F600C801		addsc.a a15, a12, d8, #0
A0016AAC  0000FF59		st.w [a15], d15

#9			RET
(-) DINT
A0016AB0  FA001091		movh.a a15, #0xA001 ; 0xA0016BEC
A0016AB4  F6ACFFD9		lea a15,[a15]0x6BEC
A0016AB8  0000000D		nop
A0016ABC  00300F2D		ji a15

#10		
#11		l1:
#12		
#13			(*	Calcolo Kr							*)
#14			(*	= (tauP+ts)/ts = 1+(fS*tauP/TiN)	*)
#15		
#16			LD		fS
(*) UNDEF
A0016AC0  800180BB		mov.u d8, #0x18
A0016AC4  F600C801		addsc.a a15, a12, d8, #0
A0016AC8  0000FF19		ld.w d15, [a15]

#17			MUL		tauP
(*) DINT
A0016ACC  8001C0BB		mov.u d8, #0x1C
A0016AD0  F600C801		addsc.a a15, a12, d8, #0
A0016AD4  0000F819		ld.w d8, [a15]
A0016AD8  F00A8F73		mul d15, d15, d8

#18			DIV		TiN
(*) DINT
A0016ADC  800200BB		mov.u d8, #0x20
A0016AE0  F600C801		addsc.a a15, a12, d8, #0
A0016AE4  0000F819		ld.w d8, [a15]
A0016AE8  21A08F4B		dvinit d2/d3, d15, d8
A0016AEC  9000303B		mov d9, #3
A0016AF0  F6309001		mov.a a15, d9
A0016AF4  22F0806B		dvstep d2/d3, d2/d3, d8
A0016AF8  7FFEF0FD		loop a15, #-2
A0016AFC  22D0806B		dvadj d2/d3, d2/d3, d8
A0016B00  F1F0200B		mov d15, d2

#19			ADD		1
(*) DINT
A0016B04  F0001F8B		add d15, d15, #1

#20			ST		Kr
(*) DINT
A0016B08  800080BB		mov.u d8, #0x8
A0016B0C  F600C801		addsc.a a15, a12, d8, #0
A0016B10  0000FF59		st.w [a15], d15

#21		
#22			(*	Corpo filtro								*)
#23			(*	Yint[k]=(Kr-1)*outY[k-1]+inU[k]				*)
#24			(*  Il segnale è referred to Yin*Kr				*)
#25		
#26			LD		Kr
(*) UNDEF
A0016B14  800080BB		mov.u d8, #0x8
A0016B18  F600C801		addsc.a a15, a12, d8, #0
A0016B1C  0000FF19		ld.w d15, [a15]

#27			SUB		1
(*) DINT
A0016B20  8000103B		mov d8, #1
A0016B24  F0808F0B		sub d15, d15, d8

#28			MUL		outY
(*) DINT
A0016B28  8002C0BB		mov.u d8, #0x2C
A0016B2C  F600C801		addsc.a a15, a12, d8, #0
A0016B30  0000F819		ld.w d8, [a15]
A0016B34  F00A8F73		mul d15, d15, d8

#29			ADD		inU
(*) DINT
A0016B38  800140BB		mov.u d8, #0x14
A0016B3C  F600C801		addsc.a a15, a12, d8, #0
A0016B40  0000F819		ld.w d8, [a15]
A0016B44  F0008F0B		add d15, d15, d8

#30			ST		Yint
(*) DINT
A0016B48  F000C001		mov.aa a15, a12
A0016B4C  0000FF59		st.w [a15], d15

#31		
#32			(*	Scalatura uscita con recupero resti			*)
#33			(*	outY=(Yint+/Kr								*)
#34		
#35			LD		Yint
(*) UNDEF
A0016B50  F000C001		mov.aa a15, a12
A0016B54  0000FF19		ld.w d15, [a15]

#36			ADD		prevRest
(*) DINT
A0016B58  8000C0BB		mov.u d8, #0xC
A0016B5C  F600C801		addsc.a a15, a12, d8, #0
A0016B60  0000F819		ld.w d8, [a15]
A0016B64  F0008F0B		add d15, d15, d8

#37			ST		auxYint
(*) DINT
A0016B68  800100BB		mov.u d8, #0x10
A0016B6C  F600C801		addsc.a a15, a12, d8, #0
A0016B70  0000FF59		st.w [a15], d15

#38			DIV		Kr
(*) DINT
A0016B74  800080BB		mov.u d8, #0x8
A0016B78  F600C801		addsc.a a15, a12, d8, #0
A0016B7C  0000F819		ld.w d8, [a15]
A0016B80  21A08F4B		dvinit d2/d3, d15, d8
A0016B84  9000303B		mov d9, #3
A0016B88  F6309001		mov.a a15, d9
A0016B8C  22F0806B		dvstep d2/d3, d2/d3, d8
A0016B90  7FFEF0FD		loop a15, #-2
A0016B94  22D0806B		dvadj d2/d3, d2/d3, d8
A0016B98  F1F0200B		mov d15, d2

#39			ST		outY
(*) DINT
A0016B9C  8002C0BB		mov.u d8, #0x2C
A0016BA0  F600C801		addsc.a a15, a12, d8, #0
A0016BA4  0000FF59		st.w [a15], d15

#40		
#41			(*	Calcolo resto per ciclo successivo	*)
#42		
#43			LD		auxYint
(*) UNDEF
A0016BA8  800100BB		mov.u d8, #0x10
A0016BAC  F600C801		addsc.a a15, a12, d8, #0
A0016BB0  0000FF19		ld.w d15, [a15]

#44			SUB(	Kr
(*) DINT
A0016BB4  F53CAF89		st.w [-sp]4, d15 
A0016BB8  800080BB		mov.u d8, #0x8
A0016BBC  F600C801		addsc.a a15, a12, d8, #0
A0016BC0  0000FF19		ld.w d15, [a15]

#45			MUL		outY
(*) DINT
A0016BC4  8002C0BB		mov.u d8, #0x2C
A0016BC8  F600C801		addsc.a a15, a12, d8, #0
A0016BCC  0000F819		ld.w d8, [a15]
A0016BD0  F00A8F73		mul d15, d15, d8

#46			)
(*) DINT
A0016BD4  01F0F00B		mov d0, d15
A0016BD8  0104AF09		ld.w d15, [sp+]4
A0016BDC  F0800F0B		sub d15, d15, d0

#47			ST		prevRest
(*) DINT
A0016BE0  8000C0BB		mov.u d8, #0xC
A0016BE4  F600C801		addsc.a a15, a12, d8, #0
A0016BE8  0000FF59		st.w [a15], d15

A0016BEC  0180000D		ret


Frame allocation:

	0014       : VAR inU
	0018       : VAR fS
	001C       : VAR tauP
	0020       : VAR TiN
	0024       : VAR presetValue
	0028 bit  0: VAR presetBit
	002C       : VAR outY
	0000       : VAR Yint
	0004       : VAR prevYint
	0008       : VAR Kr
	000C       : VAR prevRest
	0010       : VAR auxYint

END_FUNCTION_BLOCK
**************************************************
	List function block: LineFB
**************************************************

FUNCTION_BLOCK LineFB

{ DE:"4/10/2001			by SSS

Calculation of the line passing through two points with the following coordinates (xIni,yIni), (xEnd,yEnd)

Result=yIni+(yEnd-yIni)/(xEnd-xIni)*(x-xIni)" }

	VAR_INPUT
	inX : DINT; { DE:"Input X [cnts]" } 
	xIni : DINT; { DE:"Initial X [cnts]" } 
	yIni : DINT; { DE:"Initial Y [cnts]" } 
	xEnd : DINT; { DE:"Final X [cnts]" } 
	yEnd : DINT; { DE:"Final Y [cnts]" } 
	END_VAR

	VAR_OUTPUT
	outY : DINT; { DE:"Output Y [cnts]" } 
	END_VAR

A0016BF0  C0004001		mov.aa a12, a4

#0		{SRC:LineFB}
#1		
#2			LD		inX
(*) UNDEF
A0016BF4  F000C001		mov.aa a15, a12
A0016BF8  0000FF19		ld.w d15, [a15]

#3			SUB		xIni
(*) DINT
A0016BFC  800040BB		mov.u d8, #0x4
A0016C00  F600C801		addsc.a a15, a12, d8, #0
A0016C04  0000F819		ld.w d8, [a15]
A0016C08  F0808F0B		sub d15, d15, d8

#4			MUL(	yEnd
(*) DINT
A0016C0C  F53CAF89		st.w [-sp]4, d15 
A0016C10  800100BB		mov.u d8, #0x10
A0016C14  F600C801		addsc.a a15, a12, d8, #0
A0016C18  0000FF19		ld.w d15, [a15]

#5			SUB		yIni
(*) DINT
A0016C1C  800080BB		mov.u d8, #0x8
A0016C20  F600C801		addsc.a a15, a12, d8, #0
A0016C24  0000F819		ld.w d8, [a15]
A0016C28  F0808F0B		sub d15, d15, d8

#6			)
(*) DINT
A0016C2C  01F0F00B		mov d0, d15
A0016C30  0104AF09		ld.w d15, [sp+]4
A0016C34  F00A0F73		mul d15, d15, d0

#7			DIV(	xEnd
(*) DINT
A0016C38  F53CAF89		st.w [-sp]4, d15 
A0016C3C  8000C0BB		mov.u d8, #0xC
A0016C40  F600C801		addsc.a a15, a12, d8, #0
A0016C44  0000FF19		ld.w d15, [a15]

#8			SUB		xIni
(*) DINT
A0016C48  800040BB		mov.u d8, #0x4
A0016C4C  F600C801		addsc.a a15, a12, d8, #0
A0016C50  0000F819		ld.w d8, [a15]
A0016C54  F0808F0B		sub d15, d15, d8

#9			)
(*) DINT
A0016C58  01F0F00B		mov d0, d15
A0016C5C  0104AF09		ld.w d15, [sp+]4
A0016C60  81F0000B		mov d8, d0
A0016C64  21A08F4B		dvinit d2/d3, d15, d8
A0016C68  9000303B		mov d9, #3
A0016C6C  F6309001		mov.a a15, d9
A0016C70  22F0806B		dvstep d2/d3, d2/d3, d8
A0016C74  7FFEF0FD		loop a15, #-2
A0016C78  22D0806B		dvadj d2/d3, d2/d3, d8
A0016C7C  F1F0200B		mov d15, d2

#10			ADD		yIni
(*) DINT
A0016C80  800080BB		mov.u d8, #0x8
A0016C84  F600C801		addsc.a a15, a12, d8, #0
A0016C88  0000F819		ld.w d8, [a15]
A0016C8C  F0008F0B		add d15, d15, d8

#11			ST		outY
(*) DINT
A0016C90  800140BB		mov.u d8, #0x14
A0016C94  F600C801		addsc.a a15, a12, d8, #0
A0016C98  0000FF59		st.w [a15], d15

A0016C9C  0180000D		ret


Frame allocation:

	0000       : VAR inX
	0004       : VAR xIni
	0008       : VAR yIni
	000C       : VAR xEnd
	0010       : VAR yEnd
	0014       : VAR outY

END_FUNCTION_BLOCK
**************************************************
	List program: cyclic_prg
**************************************************

PROGRAM cyclic_prg

	VAR
	AUTOTUNING : BOOL; 
	Load : LOAD; 
	time : REAL; 
	TAU : REAL; 
	timeAT : REAL; 
	pos : REAL; 
	vel : REAL; 
	rnd : fb_Random; 
	NOISE : REAL; 
	aux00 : REAL; 
	Position_SP : REAL; 
	VEL_SP_ : REAL; 
	VEL_TESTING : REAL; 
	END_VAR

#0		{SRC:cyclic_prg}
#1		
#2			(* InputConv.sysSpd 	:= 	sysSpd; *)
#3			LD		sysSpd	{L:2}
(*) UNDEF
A0016CA0  10B4CF85		ld.w d15, #0x30874 ; ADR 0xC0000874

#4			ST		InputConv.sysSpd	{L:2}
(*) DINT
A0016CA4  3058CFA5		st.w #0x304D8, d15 ; ADR 0xC00004D8

#5		
#6			(* InputConv.sysPos 	:= 	sysPos; *)
#7			LD		sysPos	{L:3}
(*) UNDEF
A0016CA8  10B8CF85		ld.w d15, #0x30878 ; ADR 0xC0000878

#8			ST		InputConv.sysPos	{L:3}
(*) DINT
A0016CAC  3054CFA5		st.w #0x304D4, d15 ; ADR 0xC00004D4

#9		
#10			(* InputConv.sysIq 	:= 	sysIq; *)
#11			LD		sysIq	{L:4}
(*) UNDEF
A0016CB0  10BCCF85		ld.w d15, #0x3087C ; ADR 0xC000087C

#12			ST		InputConv.sysIq	{L:4}
(*) DINT
A0016CB4  305CCFA5		st.w #0x304DC, d15 ; ADR 0xC00004DC

#13		
#14			(* InputConv.sysTrqRef := 	sysTrqRef; *)
#15			LD		sysTrqRef	{L:5}
(*) UNDEF
A0016CB8  237CDF85		ld.w d15, #0x374BC ; ADR 0xD00034BC

#16			ST		InputConv.sysTrqRef	{L:5}
(*) DINT
A0016CBC  3060CFA5		st.w #0x304E0, d15 ; ADR 0xC00004E0

#17		
#18			(* InputConv.sysRev 	:= 	sysRev; *)
#19			LD		sysRev	{L:6}
(*) UNDEF
A0016CC0  2080CF85		ld.w d15, #0x30880 ; ADR 0xC0000880

#20			ST		InputConv.sysRev	{L:6}
(*) DINT
A0016CC4  306CCFA5		st.w #0x304EC, d15 ; ADR 0xC00004EC

#21		
#22			(* InputConv.PosDINT	:=	sysSpeedPosPulsesPerRev; *)
#23			LD		sysSpeedPosPulsesPerRev	{L:7}
(*) UNDEF
A0016CC8  22F8DF85		ld.w d15, #0x36CB8 ; ADR 0xD0002CB8

#24			ST		InputConv.PosDINT	{L:7}
(*) DINT
A0016CCC  3064CFA5		st.w #0x304E4, d15 ; ADR 0xC00004E4

#25		
#26			(* InputConv._sysTrqNoFilt := 	sysTrqRefNoFilt; *)
#27			LD		sysTrqRefNoFilt	{L:8}
(*) UNDEF
A0016CD0  2084CF85		ld.w d15, #0x30884 ; ADR 0xC0000884

#28			ST		InputConv._sysTrqNoFilt	{L:8}
(*) DINT
A0016CD4  3070CFA5		st.w #0x304F0, d15 ; ADR 0xC00004F0

#29		
#30			(* InputConv() *)
#31			CAL		InputConv	{L:9}
(*) DINT
A0016CD8  F53CAF89		st.w [-sp]4, d15 
A0016CDC  4C000091		movh.a a4, #0xC000 ; FB FRAME BASE 0xC00004C4
A0016CE0  304444D9		lea a4,[a4]0x04C4
A0016CE4  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0010C74
A0016CE8  10F4FFD9		lea a15,[a15]0x0C74
A0016CEC  0000000D		nop
A0016CF0  00000F2D		calli a15
A0016CF4  0104AF09		ld.w d15, [sp+]4

#32		
#33			(* Torque_bis := v_Torque; *)
#34			LD		v_Torque	{L:10}
(*) UNDEF
A0016CF8  0238CF85		ld.w d15, #0x32038 ; ADR 0xC0002038

#35			ST		Torque_bis	{L:10}
(*) REAL
A0016CFC  2088CFA5		st.w #0x30888, d15 ; ADR 0xC0000888

#36		
#37			(* sysPad10 := TO_DINT(Torque_bis * 1000.0); *)
#38			LD		Torque_bis	{L:11}
(*) UNDEF
A0016D00  2088CF85		ld.w d15, #0x30888 ; ADR 0xC0000888

#39			MUL		1000.0	{L:11}
(*) REAL
A0016D04  800000BB		mov.u d8, #0x0000 ; COSTREAL 1000.000000
A0016D08  8447A89B		addih d8, d8, #0x447A
A0016D0C  F0418F4B		mul.f d15, d15, d8

#40			TO_DINT	{L:11}
(*) REAL
A0016D10  F1010F4B		ftoi d15, d15

#41			ST		sysPad10	{L:11}
(*) DINT
A0016D14  72A8DFA5		st.w #0x369E8, d15 ; ADR 0xD00029E8

#42		
#43			(* sysPad11 := TO_DINT(TO_REAL(sysTrqRefNoFilt) * InputConv.KCnt2Nm * 1000.0); *)
#44			LD		sysTrqRefNoFilt	{L:12}
(*) UNDEF
A0016D18  2084CF85		ld.w d15, #0x30884 ; ADR 0xC0000884

#45			TO_REAL	{L:12}
(*) DINT
A0016D1C  F1410F4B		itof d15, d15

#46			MUL		InputConv.KCnt2Nm	{L:12}
(*) REAL
A0016D20  3050C885		ld.w d8, #0x304D0 ; ADR 0xC00004D0
A0016D24  F0418F4B		mul.f d15, d15, d8

#47			MUL		1000.0	{L:12}
(*) REAL
A0016D28  800000BB		mov.u d8, #0x0000 ; COSTREAL 1000.000000
A0016D2C  8447A89B		addih d8, d8, #0x447A
A0016D30  F0418F4B		mul.f d15, d15, d8

#48			TO_DINT	{L:12}
(*) REAL
A0016D34  F1010F4B		ftoi d15, d15

#49			ST		sysPad11	{L:12}
(*) DINT
A0016D38  72ACDFA5		st.w #0x369EC, d15 ; ADR 0xD00029EC

#50		
#51			(* StartCND := (pStartAuto) AND (sysEnableStatus) AND (sysStartStatus); *)
#52			LD		pStartAuto	{L:14}
(*) UNDEF
A0016D3C  D180CF85		ld.w d15, #0x31B40 ; ADR 0xC0001B40

#53			AND		sysEnableStatus	{L:14}
(*) BOOL
A0016D40  03CCD885		ld.w d8, #0x37C0C ; ADR 0xD0003C0C
A0016D44  F0808F0F		and d15, d15, d8

#54			AND		sysStartStatus	{L:14}
(*) BOOL
A0016D48  03D0D885		ld.w d8, #0x37C10 ; ADR 0xD0003C10
A0016D4C  F0808F0F		and d15, d15, d8

#55			ST		StartCND	{L:14}
(*) BOOL
A0016D50  208CCFA5		st.w #0x3088C, d15 ; ADR 0xC000088C

#56		
#57		
#58			(* CASE State_internal OF *)
#59		
#60			(* 1: *)
#61			LD		State_internal	{L:17}
(*) UNDEF
A0016D54  2890CF05		ld.h d15, #0x30890 ; ADR 0xC0000890

#62			EQ		1	{L:17}
(*) INT
A0016D58  8000103B		mov d8, #1
A0016D5C  F1008F0B		eq d15, d15, d8

#63			JMPC	$label1
(-) BOOL
A0016D60  80140FDF		jne d15, #0, #0x0014 ; JUMP 0xA0016D88

#64		
#65			(* 2: *)
#66			LD		State_internal	{L:27}
(*) UNDEF
A0016D64  2890CF05		ld.h d15, #0x30890 ; ADR 0xC0000890

#67			EQ		2	{L:27}
(*) INT
A0016D68  8000203B		mov d8, #2
A0016D6C  F1008F0B		eq d15, d15, d8

#68			JMPC	$label2
(-) BOOL
A0016D70  80360FDF		jne d15, #0, #0x0036 ; JUMP 0xA0016DDC

#69		
#70			(* 3: *)
#71			LD		State_internal	{L:32}
(*) UNDEF
A0016D74  2890CF05		ld.h d15, #0x30890 ; ADR 0xC0000890

#72			EQ		3	{L:32}
(*) INT
A0016D78  8000303B		mov d8, #3
A0016D7C  F1008F0B		eq d15, d15, d8

#73			JMPC	$label3
(-) BOOL
A0016D80  803A0FDF		jne d15, #0, #0x003A ; JUMP 0xA0016DF4

#74			JMP		$label0
(-) BOOL
A0016D84  0044001D		j #0x000044 ; JUMP 0xA0016E0C

#75		
#76			(* Istruzioni di ciascun CASE: *)
#77		
#78		$label1:
#79				(* AutotuningManager.ENABLE   := TRUE; *)
#80				LD		TRUE	{L:19}
(*) UNDEF
A0016D88  F000103B		mov d15, #1

#81				ST		AutotuningManager.ENABLE	{L:19}
(*) BOOL
A0016D8C  F078CFA5		st.w #0x307F8, d15 ; ADR 0xC00007F8

#82		
#83				(* AutotuningManager.Speed    := v_Speed; *)
#84				LD		v_Speed	{L:20}
(*) UNDEF
A0016D90  0234CF85		ld.w d15, #0x32034 ; ADR 0xC0002034

#85				ST		AutotuningManager.Speed	{L:20}
(*) REAL
A0016D94  F07CCFA5		st.w #0x307FC, d15 ; ADR 0xC00007FC

#86		
#87				(* AutotuningManager.Position := v_Position; *)
#88				LD		v_Position	{L:21}
(*) UNDEF
A0016D98  0230CF85		ld.w d15, #0x32030 ; ADR 0xC0002030

#89				ST		AutotuningManager.Position	{L:21}
(*) REAL
A0016D9C  0080CFA5		st.w #0x30800, d15 ; ADR 0xC0000800

#90		
#91				(* AutotuningManager.Torque_ref := Torque_bis; *)
#92				LD		Torque_bis	{L:22}
(*) UNDEF
A0016DA0  2088CF85		ld.w d15, #0x30888 ; ADR 0xC0000888

#93				ST		AutotuningManager.Torque_ref	{L:22}
(*) REAL
A0016DA4  00A4CFA5		st.w #0x30824, d15 ; ADR 0xC0000824

#94		
#95				(* AutotuningManager() *)
#96				CAL		AutotuningManager	{L:23}
(*) REAL
A0016DA8  F53CAF89		st.w [-sp]4, d15 
A0016DAC  4C000091		movh.a a4, #0xC000 ; FB FRAME BASE 0xC0000508
A0016DB0  404844D9		lea a4,[a4]0x0508
A0016DB4  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0012EF8
A0016DB8  B2F8FFD9		lea a15,[a15]0x2EF8
A0016DBC  0000000D		nop
A0016DC0  00000F2D		calli a15
A0016DC4  0104AF09		ld.w d15, [sp+]4

#97		
#98				(* v_Torque := AutotuningManager.Torque; *)
#99				LD		AutotuningManager.Torque	{L:24}
(*) UNDEF
A0016DC8  1080CF85		ld.w d15, #0x30840 ; ADR 0xC0000840

#100				ST		v_Torque	{L:24}
(*) REAL
A0016DCC  0238CFA5		st.w #0x32038, d15 ; ADR 0xC0002038

#101		
#102				(* VEL_SP_:=AutotuningManager.Vel_SP; *)
#103				LD		AutotuningManager.Vel_SP	{L:25}
(*) UNDEF
A0016DD0  10A0CF85		ld.w d15, #0x30860 ; ADR 0xC0000860

#104				ST		VEL_SP_	{L:25}
(*) REAL
A0016DD4  2092CFA5		st.w #0x30892, d15 ; ADR 0xC0000892

#105				JMP		$label0
(-) REAL
A0016DD8  001A001D		j #0x00001A ; JUMP 0xA0016E0C

#106		
#107		$label2:
#108				(* VEL_SP_:=VEL_TESTING; *)
#109				LD		VEL_TESTING	{L:29}
(*) UNDEF
A0016DDC  2096CF85		ld.w d15, #0x30896 ; ADR 0xC0000896

#110				ST		VEL_SP_	{L:29}
(*) REAL
A0016DE0  2092CFA5		st.w #0x30892, d15 ; ADR 0xC0000892

#111		
#112				(* v_Torque	:= 0.0; *)
#113				LD		0.0	{L:30}
(*) UNDEF
A0016DE4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0016DE8  F0000F9B		addih d15, d15, #0x0000

#114				ST		v_Torque	{L:30}
(*) REAL
A0016DEC  0238CFA5		st.w #0x32038, d15 ; ADR 0xC0002038

#115				JMP		$label0
(-) REAL
A0016DF0  000E001D		j #0x00000E ; JUMP 0xA0016E0C

#116		
#117		$label3:
#118				(* VEL_SP_:=0.0; *)
#119				LD		0.0	{L:34}
(*) UNDEF
A0016DF4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0016DF8  F0000F9B		addih d15, d15, #0x0000

#120				ST		VEL_SP_	{L:34}
(*) REAL
A0016DFC  2092CFA5		st.w #0x30892, d15 ; ADR 0xC0000892

#121		
#122				(* v_Torque	:= 0.0; *)
#123				LD		0.0	{L:35}
(*) UNDEF
A0016E00  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0016E04  F0000F9B		addih d15, d15, #0x0000

#124				ST		v_Torque	{L:35}
(*) REAL
A0016E08  0238CFA5		st.w #0x32038, d15 ; ADR 0xC0002038

#125		$label0:
#126		
#127			(* END_CASE *)
#128		
#129		
#130			(* IF v_Torque > MaxTorque *)
#131			LD		v_Torque	{L:40}
(*) UNDEF
A0016E0C  0238CF85		ld.w d15, #0x32038 ; ADR 0xC0002038

#132			GT		MaxTorque	{L:40}
(*) REAL
A0016E10  209AC585		ld.w d5, #0x3089A ; ADR 0xC000089A
A0016E14  F0015F4B		cmp.f d15, d15, d5
A0016E18  F2004F8B		eq d15, d15, #4

#133			JMPCN	$label4	{L:40}
(-) BOOL
A0016E1C  00080FDF		jeq d15, #0, #0x0008 ; JUMP 0xA0016E2C

#134		
#135			(* THEN *)
#136		
#137				(* v_Torque := MaxTorque; *)
#138				LD		MaxTorque	{L:41}
(*) UNDEF
A0016E20  209ACF85		ld.w d15, #0x3089A ; ADR 0xC000089A

#139				ST		v_Torque	{L:41}
(*) REAL
A0016E24  0238CFA5		st.w #0x32038, d15 ; ADR 0xC0002038

#140				JMP		$label5
(-) REAL
A0016E28  0024001D		j #0x000024 ; JUMP 0xA0016E70

#141		$label4:
#142		
#143			(* ELSIF v_Torque < -MaxTorque *)
#144			LD		v_Torque	{L:42}
(*) UNDEF
A0016E2C  0238CF85		ld.w d15, #0x32038 ; ADR 0xC0002038

#145			LT(		MaxTorque	{L:42}
(*) REAL
A0016E30  F53CAF89		st.w [-sp]4, d15 
A0016E34  209ACF85		ld.w d15, #0x3089A ; ADR 0xC000089A

#146			MUL		-1	{L:42}
(*) REAL
A0016E38  8FFFF03B		mov d8, #-1
A0016E3C  8141084B		itof d8, d8
A0016E40  F0418F4B		mul.f d15, d15, d8

#147			)	{L:42}
(*) REAL
A0016E44  01F0F00B		mov d0, d15
A0016E48  0104AF09		ld.w d15, [sp+]4
A0016E4C  51F0000B		mov d5, d0
A0016E50  F0015F4B		cmp.f d15, d15, d5
A0016E54  F2001F8B		eq d15, d15, #1

#148			JMPCN	$label5	{L:42}
(-) BOOL
A0016E58  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0016E70

#149		
#150			(* THEN *)
#151		
#152				(* v_Torque := -MaxTorque; *)
#153				LD		MaxTorque	{L:43}
(*) UNDEF
A0016E5C  209ACF85		ld.w d15, #0x3089A ; ADR 0xC000089A

#154				MUL		-1	{L:43}
(*) REAL
A0016E60  8FFFF03B		mov d8, #-1
A0016E64  8141084B		itof d8, d8
A0016E68  F0418F4B		mul.f d15, d15, d8

#155				ST		v_Torque	{L:43}
(*) REAL
A0016E6C  0238CFA5		st.w #0x32038, d15 ; ADR 0xC0002038

#156		
#157		$label5:
#158			(* END_IF *)
#159		
#160			(* sysTrqFFwd := TO_DINT((v_Torque) * KNm2Cnt); *)
#161			LD		v_Torque	{L:48}
(*) UNDEF
A0016E70  0238CF85		ld.w d15, #0x32038 ; ADR 0xC0002038

#162			MUL		KNm2Cnt	{L:48}
(*) REAL
A0016E74  209EC885		ld.w d8, #0x3089E ; ADR 0xC000089E
A0016E78  F0418F4B		mul.f d15, d15, d8

#163			TO_DINT	{L:48}
(*) REAL
A0016E7C  F1010F4B		ftoi d15, d15

#164			ST		sysTrqFFwd	{L:48}
(*) DINT
A0016E80  C2ACDFA5		st.w #0x36B2C, d15 ; ADR 0xD0002B2C

#165		
#166			(* sysSpdRef1 := TO_DINT(VEL_SP_*60/2.0/PI * 1073741824.0 / FullScaleSpeed); *)
#167			LD		VEL_SP_	{L:49}
(*) UNDEF
A0016E84  2092CF85		ld.w d15, #0x30892 ; ADR 0xC0000892

#168			MUL		60	{L:49}
(*) REAL
A0016E88  8003C03B		mov d8, #60
A0016E8C  8161084B		utof d8, d8
A0016E90  F0418F4B		mul.f d15, d15, d8

#169			DIV		2.0	{L:49}
(*) REAL
A0016E94  800000BB		mov.u d8, #0x0000 ; COSTREAL 2.000000
A0016E98  8400089B		addih d8, d8, #0x4000
A0016E9C  F0518F4B		div.f d15, d15, d8

#170			DIV		PI	{L:49}
(*) REAL
A0016EA0  80FDB0BB		mov.u d8, #0x0FDB ; COSTREAL 3.141593
A0016EA4  8404989B		addih d8, d8, #0x4049
A0016EA8  F0518F4B		div.f d15, d15, d8

#171			MUL		1073741824.0	{L:49}
(*) REAL
A0016EAC  800000BB		mov.u d8, #0x0000 ; COSTREAL 1073741824.000000
A0016EB0  84E8089B		addih d8, d8, #0x4E80
A0016EB4  F0418F4B		mul.f d15, d15, d8

#172			DIV		FullScaleSpeed	{L:49}
(*) REAL
A0016EB8  20A2C885		ld.w d8, #0x308A2 ; ADR 0xC00008A2
A0016EBC  F0518F4B		div.f d15, d15, d8

#173			TO_DINT	{L:49}
(*) REAL
A0016EC0  F1010F4B		ftoi d15, d15

#174			ST		sysSpdRef1	{L:49}
(*) DINT
A0016EC4  33F0DFA5		st.w #0x37CF0, d15 ; ADR 0xD0003CF0

#175		
#176			(* vStateMachine := (AutotuningManager.state); *)
#177			LD		AutotuningManager.state	{L:51}
(*) UNDEF
A0016EC8  1488CF05		ld.bu d15, #0x30848 ; ADR 0xC0000848

#178			ST		vStateMachine	{L:51}
(*) USINT
A0016ECC  1A04CF25		st.h #0x32044, d15 ; ADR 0xC0002044

#179		
#180		
#181			(* IF TimeMsg > 0 *)
#182			LD		TimeMsg	{L:53}
(*) UNDEF
A0016ED0  20A6CF85		ld.w d15, #0x308A6 ; ADR 0xC00008A6

#183			GT		0	{L:53}
(*) UDINT
A0016ED4  8000003B		mov d8, #0
A0016ED8  F130F80B		lt.u d15, d8, d15

#184			JMPCN	$label6	{L:53}
(-) BOOL
A0016EDC  000A0FDF		jeq d15, #0, #0x000A ; JUMP 0xA0016EF0

#185		
#186			(* THEN *)
#187		
#188				(* TimeMsg := TimeMsg - 1; *)
#189				LD		TimeMsg	{L:54}
(*) UNDEF
A0016EE0  20A6CF85		ld.w d15, #0x308A6 ; ADR 0xC00008A6

#190				SUB		1	{L:54}
(*) UDINT
A0016EE4  8000103B		mov d8, #1
A0016EE8  F0808F0B		sub d15, d15, d8

#191				ST		TimeMsg	{L:54}
(*) UDINT
A0016EEC  20A6CFA5		st.w #0x308A6, d15 ; ADR 0xC00008A6

A0016EF0  0180000D		ret

END_PROGRAM


**************************************************
	Target variable image generation
**************************************************


*** INPUT:
A0016EF4  FD000091		movh.a a15, #0xD000
A0016EF8  D2B4FFD9		lea a15,[a15]0x2B74
A0016EFC  0000FF19		ld.w d15, [a15]
A0016F00  FC000091		movh.a a15, #0xC000
A0016F04  10B4FFD9		lea a15,[a15]0x0874
A0016F08  0000FF59		st.w [a15], d15

A0016F0C  FD000091		movh.a a15, #0xD000
A0016F10  E284FFD9		lea a15,[a15]0x2B84
A0016F14  0000FF19		ld.w d15, [a15]
A0016F18  FC000091		movh.a a15, #0xC000
A0016F1C  10B8FFD9		lea a15,[a15]0x0878
A0016F20  0000FF59		st.w [a15], d15

A0016F24  FD000091		movh.a a15, #0xD000
A0016F28  D2B0FFD9		lea a15,[a15]0x2B70
A0016F2C  0000FF19		ld.w d15, [a15]
A0016F30  FC000091		movh.a a15, #0xC000
A0016F34  10BCFFD9		lea a15,[a15]0x087C
A0016F38  0000FF59		st.w [a15], d15

A0016F3C  FD000091		movh.a a15, #0xD000
A0016F40  E288FFD9		lea a15,[a15]0x2B88
A0016F44  0000FF19		ld.w d15, [a15]
A0016F48  FC000091		movh.a a15, #0xC000
A0016F4C  2080FFD9		lea a15,[a15]0x0880
A0016F50  0000FF59		st.w [a15], d15

A0016F54  FD000091		movh.a a15, #0xD000
A0016F58  E2A8FFD9		lea a15,[a15]0x2BA8
A0016F5C  0000FF19		ld.w d15, [a15]
A0016F60  FC000091		movh.a a15, #0xC000
A0016F64  2084FFD9		lea a15,[a15]0x0884
A0016F68  0000FF59		st.w [a15], d15

A0016F6C  0180000D		ret


*** OUTPUT:
A0016F70  0180000D		ret



**************************************************
	Init code generation for task Fast
**************************************************

A0016F74  0180000D		ret

**************************************************
	List program: state_machine
**************************************************

PROGRAM state_machine

	VAR
	INIT_END : BOOL; { DE:"Transition result" } 
	readRealPar : sysDBReadRealPar; 
	readIntPar : sysDBReadIntegerPar; 
	idx : UINT; 
	r_idx : USINT; 
	c_idx : USINT; 
	AUTOTUNING_STOP : BOOL; { DE:"Transition result" } 
	CYCLE_STOP : BOOL; 
	CL_control_STOP : BOOL; { DE:"Transition result" } 
	STOP_PROC : BOOL; { DE:"Transition result" } 
	Res : INT; 
	TempUI : UINT; 
	SEND_MESSAGE : BOOL; 
	PAUSE : UDINT; 
	motor_sim : fb_motor_sim; 
	state_machine_idx : UINT; 
	END_VAR

#0		{SRC:state_machine}
#1			LD		state_machine$$Init_x
(*) UNDEF
A0016F90  20AACF85		ld.w d15, #0x308AA ; ADR 0xC00008AA

#2			JMPCN	end_state_machine$Init
(-) BOOL
A0016F94  04040FDF		jeq d15, #0, #0x0404 ; JUMP 0xA001779C

#3		
#4		(* BODY OF Init *)
#5		{SRC:state_machine/Init_state}
#6		
#7			(* INIT_END := FALSE; *)
#8			LD		FALSE	{L:3}
(*) UNDEF
A0016F98  F000003B		mov d15, #0

#9			ST		INIT_END	{L:3}
(*) BOOL
A0016F9C  20AECFA5		st.w #0x308AE, d15 ; ADR 0xC00008AE

#10		
#11			(* CYCLE_STOP := FALSE; *)
#12			LD		FALSE	{L:4}
(*) UNDEF
A0016FA0  F000003B		mov d15, #0

#13			ST		CYCLE_STOP	{L:4}
(*) BOOL
A0016FA4  20B2CFA5		st.w #0x308B2, d15 ; ADR 0xC00008B2

#14		
#15			(* ENABLE_CYCLIC_PRG := FALSE; *)
#16			LD		FALSE	{L:5}
(*) UNDEF
A0016FA8  F000003B		mov d15, #0

#17			ST		ENABLE_CYCLIC_PRG	{L:5}
(*) BOOL
A0016FAC  20B6CFA5		st.w #0x308B6, d15 ; ADR 0xC00008B6

#18		
#19			(* sysControlMode := 0; *)
#20			LD		0	{L:9}
(*) UNDEF
A0016FB0  F000003B		mov d15, #0

#21			ST		sysControlMode	{L:9}
(*) USINT
A0016FB4  FC000091		movh.a a15, #0xC000 ; ADR 0xC00045DC
A0016FB8  745CFF59		st.w [a15]0x45DC, d15

#22		
#23			(* readRealPar.ipa := 300; *)
#24			LD		300	{L:13}
(*) UNDEF
A0016FBC  F012C03B		mov d15, #300

#25			ST		readRealPar.ipa	{L:13}
(*) UINT
A0016FC0  20BACFA5		st.w #0x308BA, d15 ; ADR 0xC00008BA

#26		
#27			(* readRealPar() *)
#28			CAL		readRealPar	{L:14}
(*) DINT
A0016FC4  F53CAF89		st.w [-sp]4, d15 
A0016FC8  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008BA
A0016FCC  20BA44D9		lea a4,[a4]0x08BA
A0016FD0  F8009091		movh.a a15, #0x8009 ; sysDBReadRealPar AT 0x80092698
A0016FD4  A258FFD9		lea a15,[a15]0x2698
A0016FD8  0000000D		nop
A0016FDC  00000F2D		calli a15
A0016FE0  F1F0200B		mov d15, d2
A0016FE4  0104AF09		ld.w d15, [sp+]4

#29		
#30			(* DriveRatCur:= readRealPar.val ; *)
#31			LD		readRealPar.val	{L:15}
(*) UNDEF
A0016FE8  3082CF85		ld.w d15, #0x308C2 ; ADR 0xC00008C2

#32			ST		DriveRatCur	{L:15}
(*) REAL
A0016FEC  3086CFA5		st.w #0x308C6, d15 ; ADR 0xC00008C6

#33		
#34			(* InputConv.KArms:=DriveRatCur/(8192.0*65536.0); *)
#35			LD		DriveRatCur	{L:16}
(*) UNDEF
A0016FF0  3086CF85		ld.w d15, #0x308C6 ; ADR 0xC00008C6

#36			DIV(		8192.0	{L:16}
(*) REAL
A0016FF4  F53CAF89		st.w [-sp]4, d15 
A0016FF8  F00000BB		mov.u d15, #0x0000 ; COSTREAL 8192.000000
A0016FFC  F4600F9B		addih d15, d15, #0x4600

#37			MUL		65536.0	{L:16}
(*) REAL
A0017000  800000BB		mov.u d8, #0x0000 ; COSTREAL 65536.000000
A0017004  8478089B		addih d8, d8, #0x4780
A0017008  F0418F4B		mul.f d15, d15, d8

#38			)	{L:16}
(*) REAL
A001700C  01F0F00B		mov d0, d15
A0017010  0104AF09		ld.w d15, [sp+]4
A0017014  81F0000B		mov d8, d0
A0017018  F0518F4B		div.f d15, d15, d8

#39			ST		InputConv.KArms	{L:16}
(*) REAL
A001701C  304CCFA5		st.w #0x304CC, d15 ; ADR 0xC00004CC

#40		
#41			(* readIntPar.ipa := 680; *)
#42			LD		680	{L:20}
(*) UNDEF
A0017020  F02A803B		mov d15, #680

#43			ST		readIntPar.ipa	{L:20}
(*) UINT
A0017024  308ACFA5		st.w #0x308CA, d15 ; ADR 0xC00008CA

#44		
#45			(* readIntPar() *)
#46			CAL		readIntPar	{L:21}
(*) DINT
A0017028  F53CAF89		st.w [-sp]4, d15 
A001702C  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008CA
A0017030  308A44D9		lea a4,[a4]0x08CA
A0017034  F8009091		movh.a a15, #0x8009 ; sysDBReadIntegerPar AT 0x80092606
A0017038  8246FFD9		lea a15,[a15]0x2606
A001703C  0000000D		nop
A0017040  00000F2D		calli a15
A0017044  F1F0200B		mov d15, d2
A0017048  0104AF09		ld.w d15, [sp+]4

#47		
#48			(* FullScaleSpeed := TO_REAL(readIntPar.val); *)
#49			LD		readIntPar.val	{L:22}
(*) UNDEF
A001704C  3092CF85		ld.w d15, #0x308D2 ; ADR 0xC00008D2

#50			TO_REAL	{L:22}
(*) DINT
A0017050  F1410F4B		itof d15, d15

#51			ST		FullScaleSpeed	{L:22}
(*) REAL
A0017054  20A2CFA5		st.w #0x308A2, d15 ; ADR 0xC00008A2

#52		
#53			(* InputConv.Krpm:=FullScaleSpeed/(16384.0*65536.0); *)
#54			LD		FullScaleSpeed	{L:23}
(*) UNDEF
A0017058  20A2CF85		ld.w d15, #0x308A2 ; ADR 0xC00008A2

#55			DIV(		16384.0	{L:23}
(*) REAL
A001705C  F53CAF89		st.w [-sp]4, d15 
A0017060  F00000BB		mov.u d15, #0x0000 ; COSTREAL 16384.000000
A0017064  F4680F9B		addih d15, d15, #0x4680

#56			MUL		65536.0	{L:23}
(*) REAL
A0017068  800000BB		mov.u d8, #0x0000 ; COSTREAL 65536.000000
A001706C  8478089B		addih d8, d8, #0x4780
A0017070  F0418F4B		mul.f d15, d15, d8

#57			)	{L:23}
(*) REAL
A0017074  01F0F00B		mov d0, d15
A0017078  0104AF09		ld.w d15, [sp+]4
A001707C  81F0000B		mov d8, d0
A0017080  F0518F4B		div.f d15, d15, d8

#58			ST		InputConv.Krpm	{L:23}
(*) REAL
A0017084  3044CFA5		st.w #0x304C4, d15 ; ADR 0xC00004C4

#59		
#60			(* InputConv.Krad_s:=InputConv.Krpm*2.0*PI/60.0; *)
#61			LD		InputConv.Krpm	{L:24}
(*) UNDEF
A0017088  3044CF85		ld.w d15, #0x304C4 ; ADR 0xC00004C4

#62			MUL		2.0	{L:24}
(*) REAL
A001708C  800000BB		mov.u d8, #0x0000 ; COSTREAL 2.000000
A0017090  8400089B		addih d8, d8, #0x4000
A0017094  F0418F4B		mul.f d15, d15, d8

#63			MUL		PI	{L:24}
(*) REAL
A0017098  80FDB0BB		mov.u d8, #0x0FDB ; COSTREAL 3.141593
A001709C  8404989B		addih d8, d8, #0x4049
A00170A0  F0418F4B		mul.f d15, d15, d8

#64			DIV		60.0	{L:24}
(*) REAL
A00170A4  800000BB		mov.u d8, #0x0000 ; COSTREAL 60.000000
A00170A8  8427089B		addih d8, d8, #0x4270
A00170AC  F0518F4B		div.f d15, d15, d8

#65			ST		InputConv.Krad_s	{L:24}
(*) REAL
A00170B0  3048CFA5		st.w #0x304C8, d15 ; ADR 0xC00004C8

#66		
#67			(* readRealPar.ipa := 2002; *)
#68			LD		2002	{L:28}
(*) UNDEF
A00170B4  F07D203B		mov d15, #2002

#69			ST		readRealPar.ipa	{L:28}
(*) UINT
A00170B8  20BACFA5		st.w #0x308BA, d15 ; ADR 0xC00008BA

#70		
#71			(* readRealPar() *)
#72			CAL		readRealPar	{L:29}
(*) DINT
A00170BC  F53CAF89		st.w [-sp]4, d15 
A00170C0  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008BA
A00170C4  20BA44D9		lea a4,[a4]0x08BA
A00170C8  F8009091		movh.a a15, #0x8009 ; sysDBReadRealPar AT 0x80092698
A00170CC  A258FFD9		lea a15,[a15]0x2698
A00170D0  0000000D		nop
A00170D4  00000F2D		calli a15
A00170D8  F1F0200B		mov d15, d2
A00170DC  0104AF09		ld.w d15, [sp+]4

#73		
#74			(* RatCur:= readRealPar.val ; *)
#75			LD		readRealPar.val	{L:30}
(*) UNDEF
A00170E0  3082CF85		ld.w d15, #0x308C2 ; ADR 0xC00008C2

#76			ST		RatCur	{L:30}
(*) REAL
A00170E4  3096CFA5		st.w #0x308D6, d15 ; ADR 0xC00008D6

#77		
#78			(* readRealPar.ipa := 2010; *)
#79			LD		2010	{L:32}
(*) UNDEF
A00170E8  F07DA03B		mov d15, #2010

#80			ST		readRealPar.ipa	{L:32}
(*) UINT
A00170EC  20BACFA5		st.w #0x308BA, d15 ; ADR 0xC00008BA

#81		
#82			(* readRealPar() *)
#83			CAL		readRealPar	{L:33}
(*) DINT
A00170F0  F53CAF89		st.w [-sp]4, d15 
A00170F4  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008BA
A00170F8  20BA44D9		lea a4,[a4]0x08BA
A00170FC  F8009091		movh.a a15, #0x8009 ; sysDBReadRealPar AT 0x80092698
A0017100  A258FFD9		lea a15,[a15]0x2698
A0017104  0000000D		nop
A0017108  00000F2D		calli a15
A001710C  F1F0200B		mov d15, d2
A0017110  0104AF09		ld.w d15, [sp+]4

#84		
#85			(* RatKTrq:= readRealPar.val ; *)
#86			LD		readRealPar.val	{L:34}
(*) UNDEF
A0017114  3082CF85		ld.w d15, #0x308C2 ; ADR 0xC00008C2

#87			ST		RatKTrq	{L:34}
(*) REAL
A0017118  309ACFA5		st.w #0x308DA, d15 ; ADR 0xC00008DA

#88		
#89			(* RatedTorque := RatCur*RatKTrq; *)
#90			LD		RatCur	{L:35}
(*) UNDEF
A001711C  3096CF85		ld.w d15, #0x308D6 ; ADR 0xC00008D6

#91			MUL		RatKTrq	{L:35}
(*) REAL
A0017120  309AC885		ld.w d8, #0x308DA ; ADR 0xC00008DA
A0017124  F0418F4B		mul.f d15, d15, d8

#92			ST		RatedTorque	{L:35}
(*) REAL
A0017128  309ECFA5		st.w #0x308DE, d15 ; ADR 0xC00008DE

#93		
#94			(* KNm2Cnt := TO_REAL(TrqToCount(1.0 / RatedTorque * 100.0)); *)
#95			LD		1.0	{L:37}
(*) UNDEF
A001712C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A0017130  F3F80F9B		addih d15, d15, #0x3F80

#96			DIV		RatedTorque	{L:37}
(*) REAL
A0017134  309EC885		ld.w d8, #0x308DE ; ADR 0xC00008DE
A0017138  F0518F4B		div.f d15, d15, d8

#97			MUL		100.0	{L:37}
(*) REAL
A001713C  800000BB		mov.u d8, #0x0000 ; COSTREAL 100.000000
A0017140  842C889B		addih d8, d8, #0x42C8
A0017144  F0418F4B		mul.f d15, d15, d8

#98			TrqToCount	{L:37}
(-) REAL
A0017148  41F0F00B		mov d4, d15
A001714C  CB22FF6D		call #0xFFCB22 ; CALL 0xA0010790
A0017150  F1F0200B		mov d15, d2

#99			TO_REAL	{L:37}
(*) DINT
A0017154  F1410F4B		itof d15, d15

#100			ST		KNm2Cnt	{L:37}
(*) REAL
A0017158  209ECFA5		st.w #0x3089E, d15 ; ADR 0xC000089E

#101		
#102			(* InputConv.KCnt2Nm := 1.0 / KNm2Cnt; *)
#103			LD		1.0	{L:38}
(*) UNDEF
A001715C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A0017160  F3F80F9B		addih d15, d15, #0x3F80

#104			DIV		KNm2Cnt	{L:38}
(*) REAL
A0017164  209EC885		ld.w d8, #0x3089E ; ADR 0xC000089E
A0017168  F0518F4B		div.f d15, d15, d8

#105			ST		InputConv.KCnt2Nm	{L:38}
(*) REAL
A001716C  3050CFA5		st.w #0x304D0, d15 ; ADR 0xC00004D0

#106		
#107			(* res:= sysDBWriteIntegerPar(650,640); *)
#108			LD		650	{L:41}
(*) UNDEF
A0017170  F028A03B		mov d15, #650

#109			sysDBWriteIntegerPar		640	{L:41}
(-) UINT
A0017174  5028003B		mov d5, #640
A0017178  41F0F00B		mov d4, d15
A001717C  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A0017180  0278FFD9		lea a15,[a15]0x2438
A0017184  0000000D		nop
A0017188  00000F2D		calli a15
A001718C  F1F0200B		mov d15, d2

#110			ST		res	{L:41}
(*) DINT
A0017190  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#111		
#112			(* res:= sysDBWriteIntegerPar(652,642); *)
#113			LD		652	{L:42}
(*) UNDEF
A0017194  F028C03B		mov d15, #652

#114			sysDBWriteIntegerPar		642	{L:42}
(-) UINT
A0017198  5028203B		mov d5, #642
A001719C  41F0F00B		mov d4, d15
A00171A0  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A00171A4  0278FFD9		lea a15,[a15]0x2438
A00171A8  0000000D		nop
A00171AC  00000F2D		calli a15
A00171B0  F1F0200B		mov d15, d2

#115			ST		res	{L:42}
(*) DINT
A00171B4  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#116		
#117			(* sysSpdRef1 := 0; *)
#118			LD		0	{L:43}
(*) UNDEF
A00171B8  F000003B		mov d15, #0

#119			ST		sysSpdRef1	{L:43}
(*) USINT
A00171BC  33F0DFA5		st.w #0x37CF0, d15 ; ADR 0xD0003CF0

#120		
#121			(* sysSpdRef2 := 0; *)
#122			LD		0	{L:44}
(*) UNDEF
A00171C0  F000003B		mov d15, #0

#123			ST		sysSpdRef2	{L:44}
(*) USINT
A00171C4  33F4DFA5		st.w #0x37CF4, d15 ; ADR 0xD0003CF4

#124		
#125			(* sysTrqFFwd := 0; *)
#126			LD		0	{L:45}
(*) UNDEF
A00171C8  F000003B		mov d15, #0

#127			ST		sysTrqFFwd	{L:45}
(*) USINT
A00171CC  C2ACDFA5		st.w #0x36B2C, d15 ; ADR 0xD0002B2C

#128		
#129			(* MaxTorque    := pMaxTorque; *)
#130			LD		pMaxTorque	{L:50}
(*) UNDEF
A00171D0  C1B0CF85		ld.w d15, #0x31B30 ; ADR 0xC0001B30

#131			ST		MaxTorque	{L:50}
(*) REAL
A00171D4  209ACFA5		st.w #0x3089A, d15 ; ADR 0xC000089A

#132		
#133			(* MaxSpeed     := pMaxSpeed * RPM2RAD; *)
#134			LD		pMaxSpeed	{L:51}
(*) UNDEF
A00171D8  C1B4CF85		ld.w d15, #0x31B34 ; ADR 0xC0001B34

#135			MUL		RPM2RAD	{L:51}
(*) REAL
A00171DC  877500BB		mov.u d8, #0x7750 ; COSTREAL 0.104720
A00171E0  83DD689B		addih d8, d8, #0x3DD6
A00171E4  F0418F4B		mul.f d15, d15, d8

#136			ST		MaxSpeed	{L:51}
(*) REAL
A00171E8  30A6CFA5		st.w #0x308E6, d15 ; ADR 0xC00008E6

#137		
#138			(* MaxPosition  := 0.5*pMaxPos * PI * 2.0; *)
#139			LD		0.5	{L:52}
(*) UNDEF
A00171EC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.500000
A00171F0  F3F00F9B		addih d15, d15, #0x3F00

#140			MUL		pMaxPos	{L:52}
(*) REAL
A00171F4  C1B8C885		ld.w d8, #0x31B38 ; ADR 0xC0001B38
A00171F8  F0418F4B		mul.f d15, d15, d8

#141			MUL		PI	{L:52}
(*) REAL
A00171FC  80FDB0BB		mov.u d8, #0x0FDB ; COSTREAL 3.141593
A0017200  8404989B		addih d8, d8, #0x4049
A0017204  F0418F4B		mul.f d15, d15, d8

#142			MUL		2.0	{L:52}
(*) REAL
A0017208  800000BB		mov.u d8, #0x0000 ; COSTREAL 2.000000
A001720C  8400089B		addih d8, d8, #0x4000
A0017210  F0418F4B		mul.f d15, d15, d8

#143			ST		MaxPosition	{L:52}
(*) REAL
A0017214  30AACFA5		st.w #0x308EA, d15 ; ADR 0xC00008EA

#144		
#145			(* MotorInertia := pMotJ; *)
#146			LD		pMotJ	{L:53}
(*) UNDEF
A0017218  C1BCCF85		ld.w d15, #0x31B3C ; ADR 0xC0001B3C

#147			ST		MotorInertia	{L:53}
(*) REAL
A001721C  30AECFA5		st.w #0x308EE, d15 ; ADR 0xC00008EE

#148		
#149			(* AutotuningManager.fbInit := TRUE; *)
#150			LD		TRUE	{L:55}
(*) UNDEF
A0017220  F000103B		mov d15, #1

#151			ST		AutotuningManager.fbInit	{L:55}
(*) BOOL
A0017224  F074CFA5		st.w #0x307F4, d15 ; ADR 0xC00007F4

#152		
#153			(* AutotuningManager.maxTrq := MaxTorque; *)
#154			LD		MaxTorque	{L:56}
(*) UNDEF
A0017228  209ACF85		ld.w d15, #0x3089A ; ADR 0xC000089A

#155			ST		AutotuningManager.maxTrq	{L:56}
(*) REAL
A001722C  0084CFA5		st.w #0x30804, d15 ; ADR 0xC0000804

#156		
#157			(* AutotuningManager.maxVel := MaxSpeed; *)
#158			LD		MaxSpeed	{L:57}
(*) UNDEF
A0017230  30A6CF85		ld.w d15, #0x308E6 ; ADR 0xC00008E6

#159			ST		AutotuningManager.maxVel	{L:57}
(*) REAL
A0017234  0088CFA5		st.w #0x30808, d15 ; ADR 0xC0000808

#160		
#161			(* AutotuningManager.maxPos := MaxPosition; *)
#162			LD		MaxPosition	{L:58}
(*) UNDEF
A0017238  30AACF85		ld.w d15, #0x308EA ; ADR 0xC00008EA

#163			ST		AutotuningManager.maxPos	{L:58}
(*) REAL
A001723C  008CCFA5		st.w #0x3080C, d15 ; ADR 0xC000080C

#164		
#165			(* AutotuningManager.minVel := -MaxSpeed; *)
#166			LD		MaxSpeed	{L:59}
(*) UNDEF
A0017240  30A6CF85		ld.w d15, #0x308E6 ; ADR 0xC00008E6

#167			MUL		-1	{L:59}
(*) REAL
A0017244  8FFFF03B		mov d8, #-1
A0017248  8141084B		itof d8, d8
A001724C  F0418F4B		mul.f d15, d15, d8

#168			ST		AutotuningManager.minVel	{L:59}
(*) REAL
A0017250  00ACCFA5		st.w #0x3082C, d15 ; ADR 0xC000082C

#169		
#170			(* AutotuningManager.minPos := -MaxPosition; *)
#171			LD		MaxPosition	{L:60}
(*) UNDEF
A0017254  30AACF85		ld.w d15, #0x308EA ; ADR 0xC00008EA

#172			MUL		-1	{L:60}
(*) REAL
A0017258  8FFFF03B		mov d8, #-1
A001725C  8141084B		itof d8, d8
A0017260  F0418F4B		mul.f d15, d15, d8

#173			ST		AutotuningManager.minPos	{L:60}
(*) REAL
A0017264  00A8CFA5		st.w #0x30828, d15 ; ADR 0xC0000828

#174		
#175			(* AutotuningManager.phi_m_v	:=75.0; *)
#176			LD		75.0	{L:61}
(*) UNDEF
A0017268  F00000BB		mov.u d15, #0x0000 ; COSTREAL 75.000000
A001726C  F4296F9B		addih d15, d15, #0x4296

#177			ST		AutotuningManager.phi_m_v	{L:61}
(*) REAL
A0017270  0098CFA5		st.w #0x30818, d15 ; ADR 0xC0000818

#178		
#179			(* AutotuningManager.phi_m_p 	:=90.0; *)
#180			LD		90.0	{L:62}
(*) UNDEF
A0017274  F00000BB		mov.u d15, #0x0000 ; COSTREAL 90.000000
A0017278  F42B4F9B		addih d15, d15, #0x42B4

#181			ST		AutotuningManager.phi_m_p	{L:62}
(*) REAL
A001727C  009CCFA5		st.w #0x3081C, d15 ; ADR 0xC000081C

#182		
#183			(* AutotuningManager.MinWc	:= 	pMinWc; *)
#184			LD		pMinWc	{L:63}
(*) UNDEF
A0017280  D184CF85		ld.w d15, #0x31B44 ; ADR 0xC0001B44

#185			ST		AutotuningManager.MinWc	{L:63}
(*) REAL
A0017284  00B4CFA5		st.w #0x30834, d15 ; ADR 0xC0000834

#186		
#187			(* AutotuningManager.MaxWc	:=	pMaxWc; *)
#188			LD		pMaxWc	{L:64}
(*) UNDEF
A0017288  D188CF85		ld.w d15, #0x31B48 ; ADR 0xC0001B48

#189			ST		AutotuningManager.MaxWc	{L:64}
(*) REAL
A001728C  00B0CFA5		st.w #0x30830, d15 ; ADR 0xC0000830

#190		
#191			(* res:= sysDBWriteIntegerPar(680,TO_INT(FLOOR(pMaxSpeed))); *)
#192			LD		pMaxSpeed	{L:66}
(*) UNDEF
A0017290  C1B4CF85		ld.w d15, #0x31B34 ; ADR 0xC0001B34

#193			FLOOR	{L:66}
(*) REAL
A0017294  41F0F00B		mov d4, d15
A0017298  F8009091		movh.a a15, #0x8009 ; _do_floor AT 0x80091CA8
A001729C  21E8FFD9		lea a15,[a15]0x1CA8
A00172A0  0000000D		nop
A00172A4  00000F2D		calli a15
A00172A8  F1F0200B		mov d15, d2

#194			TO_INT	{L:66}
(*) REAL
A00172AC  F1010F4B		ftoi d15, d15

#195			ST		state_machine/Init_state$$TEMP1	{L:66}
(*) INT
A00172B0  38B2CF25		st.h #0x308F2, d15 ; ADR 0xC00008F2

#196			LD		680	{L:66}
(*) UNDEF
A00172B4  F02A803B		mov d15, #680

#197			sysDBWriteIntegerPar		state_machine/Init_state$$TEMP1	{L:66}
(-) UINT
A00172B8  38B2C805		ld.h d8, #0x308F2 ; ADR 0xC00008F2
A00172BC  51F0800B		mov d5, d8
A00172C0  41F0F00B		mov d4, d15
A00172C4  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A00172C8  0278FFD9		lea a15,[a15]0x2438
A00172CC  0000000D		nop
A00172D0  00000F2D		calli a15
A00172D4  F1F0200B		mov d15, d2

#198			ST		res	{L:66}
(*) DINT
A00172D8  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#199		
#200			(* AutotuningManager.Ts	:=0.001; *)
#201			LD		0.001	{L:69}
(*) UNDEF
A00172DC  F126F0BB		mov.u d15, #0x126F ; COSTREAL 0.001000
A00172E0  F3A83F9B		addih d15, d15, #0x3A83

#202			ST		AutotuningManager.Ts	{L:69}
(*) REAL
A00172E4  0090CFA5		st.w #0x30810, d15 ; ADR 0xC0000810

#203		
#204			(* AutotuningManager() *)
#205			CAL		AutotuningManager	{L:71}
(*) REAL
A00172E8  F53CAF89		st.w [-sp]4, d15 
A00172EC  4C000091		movh.a a4, #0xC000 ; FB FRAME BASE 0xC0000508
A00172F0  404844D9		lea a4,[a4]0x0508
A00172F4  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0012EF8
A00172F8  B2F8FFD9		lea a15,[a15]0x2EF8
A00172FC  0000000D		nop
A0017300  00000F2D		calli a15
A0017304  0104AF09		ld.w d15, [sp+]4

#206		
#207			(* AutotuningManager.fbInit := FALSE; *)
#208			LD		FALSE	{L:72}
(*) UNDEF
A0017308  F000003B		mov d15, #0

#209			ST		AutotuningManager.fbInit	{L:72}
(*) BOOL
A001730C  F074CFA5		st.w #0x307F4, d15 ; ADR 0xC00007F4

#210		
#211			(* State_internal := 0; *)
#212			LD		0	{L:75}
(*) UNDEF
A0017310  F000003B		mov d15, #0

#213			ST		State_internal	{L:75}
(*) USINT
A0017314  2890CF25		st.h #0x30890, d15 ; ADR 0xC0000890

#214		
#215			(* CYCLE_STOP := FALSE; *)
#216			LD		FALSE	{L:87}
(*) UNDEF
A0017318  F000003B		mov d15, #0

#217			ST		CYCLE_STOP	{L:87}
(*) BOOL
A001731C  20B2CFA5		st.w #0x308B2, d15 ; ADR 0xC00008B2

#218		
#219		
#220			(* IF StartCND *)
#221			LD		StartCND	{L:89}
(*) UNDEF
A0017320  208CCF85		ld.w d15, #0x3088C ; ADR 0xC000088C

#222			JMPCN	state_machine/Init_state$lab3	{L:89}
(-) BOOL
A0017324  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA0017344

#223		
#224			(* THEN *)
#225		
#226				(* state_of_the_machine :=1; *)
#227				LD		1	{L:90}
(*) UNDEF
A0017328  F000103B		mov d15, #1

#228				ST		state_of_the_machine	{L:90}
(*) USINT
A001732C  38B4CF25		st.h #0x308F4, d15 ; ADR 0xC00008F4

#229		
#230				(* ENABLE_CYCLIC_PRG := TRUE; *)
#231				LD		TRUE	{L:91}
(*) UNDEF
A0017330  F000103B		mov d15, #1

#232				ST		ENABLE_CYCLIC_PRG	{L:91}
(*) BOOL
A0017334  20B6CFA5		st.w #0x308B6, d15 ; ADR 0xC00008B6

#233		
#234				(* INIT_END := TRUE; *)
#235				LD		TRUE	{L:92}
(*) UNDEF
A0017338  F000103B		mov d15, #1

#236				ST		INIT_END	{L:92}
(*) BOOL
A001733C  20AECFA5		st.w #0x308AE, d15 ; ADR 0xC00008AE

#237				JMP		state_machine/Init_state$lab2
(-) BOOL
A0017340  000E001D		j #0x00000E ; JUMP 0xA001735C

#238		state_machine/Init_state$lab3:
#239		
#240			(* ELSE *)
#241		
#242				(* state_of_the_machine :=0; *)
#243				LD		0	{L:94}
(*) UNDEF
A0017344  F000003B		mov d15, #0

#244				ST		state_of_the_machine	{L:94}
(*) USINT
A0017348  38B4CF25		st.h #0x308F4, d15 ; ADR 0xC00008F4

#245		
#246				(* ENABLE_CYCLIC_PRG := FALSE; *)
#247				LD		FALSE	{L:95}
(*) UNDEF
A001734C  F000003B		mov d15, #0

#248				ST		ENABLE_CYCLIC_PRG	{L:95}
(*) BOOL
A0017350  20B6CFA5		st.w #0x308B6, d15 ; ADR 0xC00008B6

#249		
#250				(* INIT_END := FALSE; *)
#251				LD		FALSE	{L:96}
(*) UNDEF
A0017354  F000003B		mov d15, #0

#252				ST		INIT_END	{L:96}
(*) BOOL
A0017358  20AECFA5		st.w #0x308AE, d15 ; ADR 0xC00008AE

#253		
#254		state_machine/Init_state$lab2:
#255			(* END_IF *)
#256		
#257			(* motor_sim.fbInit:=TRUE; *)
#258			LD		TRUE	{L:101}
(*) UNDEF
A001735C  F000103B		mov d15, #1

#259			ST		motor_sim.fbInit	{L:101}
(*) BOOL
A0017360  408ACFA5		st.w #0x3090A, d15 ; ADR 0xC000090A

#260		
#261			(* motor_sim.I:=0.04; *)
#262			LD		0.04	{L:102}
(*) UNDEF
A0017364  FD70A0BB		mov.u d15, #0xD70A ; COSTREAL 0.040000
A0017368  F3D23F9B		addih d15, d15, #0x3D23

#263			ST		motor_sim.I	{L:102}
(*) REAL
A001736C  408ECFA5		st.w #0x3090E, d15 ; ADR 0xC000090E

#264		
#265			(* motor_sim.Bm:=0.2; *)
#266			LD		0.2	{L:103}
(*) UNDEF
A0017370  FCCCD0BB		mov.u d15, #0xCCCD ; COSTREAL 0.200000
A0017374  F3E4CF9B		addih d15, d15, #0x3E4C

#267			ST		motor_sim.Bm	{L:103}
(*) REAL
A0017378  4092CFA5		st.w #0x30912, d15 ; ADR 0xC0000912

#268		
#269			(* motor_sim.st:=0.001; *)
#270			LD		0.001	{L:104}
(*) UNDEF
A001737C  F126F0BB		mov.u d15, #0x126F ; COSTREAL 0.001000
A0017380  F3A83F9B		addih d15, d15, #0x3A83

#271			ST		motor_sim.st	{L:104}
(*) REAL
A0017384  409ACFA5		st.w #0x3091A, d15 ; ADR 0xC000091A

#272		
#273			(* motor_sim.Fc:=0.0; *)
#274			LD		0.0	{L:105}
(*) UNDEF
A0017388  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A001738C  F0000F9B		addih d15, d15, #0x0000

#275			ST		motor_sim.Fc	{L:105}
(*) REAL
A0017390  4096CFA5		st.w #0x30916, d15 ; ADR 0xC0000916

#276		
#277			(* motor_sim() *)
#278			CAL		motor_sim	{L:106}
(*) REAL
A0017394  F53CAF89		st.w [-sp]4, d15 
A0017398  4C000091		movh.a a4, #0xC000 ; FB FRAME BASE 0xC00008F6
A001739C  30B644D9		lea a4,[a4]0x08F6
A00173A0  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA00163A8
A00173A4  E628FFD9		lea a15,[a15]0x63A8
A00173A8  0000000D		nop
A00173AC  00000F2D		calli a15
A00173B0  0104AF09		ld.w d15, [sp+]4

#279		
#280			(* motor_sim.fbInit:=FALSE; *)
#281			LD		FALSE	{L:107}
(*) UNDEF
A00173B4  F000003B		mov d15, #0

#282			ST		motor_sim.fbInit	{L:107}
(*) BOOL
A00173B8  408ACFA5		st.w #0x3090A, d15 ; ADR 0xC000090A

#283		
#284			(* INIT_END := FALSE; *)
#285			LD		FALSE	{L:111}
(*) UNDEF
A00173BC  F000003B		mov d15, #0

#286			ST		INIT_END	{L:111}
(*) BOOL
A00173C0  20AECFA5		st.w #0x308AE, d15 ; ADR 0xC00008AE

#287		
#288			(* CYCLE_STOP := FALSE; *)
#289			LD		FALSE	{L:112}
(*) UNDEF
A00173C4  F000003B		mov d15, #0

#290			ST		CYCLE_STOP	{L:112}
(*) BOOL
A00173C8  20B2CFA5		st.w #0x308B2, d15 ; ADR 0xC00008B2

#291		
#292			(* ENABLE_CYCLIC_PRG := FALSE; *)
#293			LD		FALSE	{L:113}
(*) UNDEF
A00173CC  F000003B		mov d15, #0

#294			ST		ENABLE_CYCLIC_PRG	{L:113}
(*) BOOL
A00173D0  20B6CFA5		st.w #0x308B6, d15 ; ADR 0xC00008B6

#295		
#296			(* sysControlMode := 0; *)
#297			LD		0	{L:117}
(*) UNDEF
A00173D4  F000003B		mov d15, #0

#298			ST		sysControlMode	{L:117}
(*) USINT
A00173D8  FC000091		movh.a a15, #0xC000 ; ADR 0xC00045DC
A00173DC  745CFF59		st.w [a15]0x45DC, d15

#299		
#300			(* readRealPar.ipa := 300; *)
#301			LD		300	{L:121}
(*) UNDEF
A00173E0  F012C03B		mov d15, #300

#302			ST		readRealPar.ipa	{L:121}
(*) UINT
A00173E4  20BACFA5		st.w #0x308BA, d15 ; ADR 0xC00008BA

#303		
#304			(* readRealPar() *)
#305			CAL		readRealPar	{L:122}
(*) DINT
A00173E8  F53CAF89		st.w [-sp]4, d15 
A00173EC  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008BA
A00173F0  20BA44D9		lea a4,[a4]0x08BA
A00173F4  F8009091		movh.a a15, #0x8009 ; sysDBReadRealPar AT 0x80092698
A00173F8  A258FFD9		lea a15,[a15]0x2698
A00173FC  0000000D		nop
A0017400  00000F2D		calli a15
A0017404  F1F0200B		mov d15, d2
A0017408  0104AF09		ld.w d15, [sp+]4

#306		
#307			(* DriveRatCur:= readRealPar.val ; *)
#308			LD		readRealPar.val	{L:123}
(*) UNDEF
A001740C  3082CF85		ld.w d15, #0x308C2 ; ADR 0xC00008C2

#309			ST		DriveRatCur	{L:123}
(*) REAL
A0017410  3086CFA5		st.w #0x308C6, d15 ; ADR 0xC00008C6

#310		
#311			(* InputConv.KArms:=DriveRatCur/(8192.0*65536.0); *)
#312			LD		DriveRatCur	{L:124}
(*) UNDEF
A0017414  3086CF85		ld.w d15, #0x308C6 ; ADR 0xC00008C6

#313			DIV(		8192.0	{L:124}
(*) REAL
A0017418  F53CAF89		st.w [-sp]4, d15 
A001741C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 8192.000000
A0017420  F4600F9B		addih d15, d15, #0x4600

#314			MUL		65536.0	{L:124}
(*) REAL
A0017424  800000BB		mov.u d8, #0x0000 ; COSTREAL 65536.000000
A0017428  8478089B		addih d8, d8, #0x4780
A001742C  F0418F4B		mul.f d15, d15, d8

#315			)	{L:124}
(*) REAL
A0017430  01F0F00B		mov d0, d15
A0017434  0104AF09		ld.w d15, [sp+]4
A0017438  81F0000B		mov d8, d0
A001743C  F0518F4B		div.f d15, d15, d8

#316			ST		InputConv.KArms	{L:124}
(*) REAL
A0017440  304CCFA5		st.w #0x304CC, d15 ; ADR 0xC00004CC

#317		
#318			(* readIntPar.ipa := 680; *)
#319			LD		680	{L:128}
(*) UNDEF
A0017444  F02A803B		mov d15, #680

#320			ST		readIntPar.ipa	{L:128}
(*) UINT
A0017448  308ACFA5		st.w #0x308CA, d15 ; ADR 0xC00008CA

#321		
#322			(* readIntPar() *)
#323			CAL		readIntPar	{L:129}
(*) DINT
A001744C  F53CAF89		st.w [-sp]4, d15 
A0017450  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008CA
A0017454  308A44D9		lea a4,[a4]0x08CA
A0017458  F8009091		movh.a a15, #0x8009 ; sysDBReadIntegerPar AT 0x80092606
A001745C  8246FFD9		lea a15,[a15]0x2606
A0017460  0000000D		nop
A0017464  00000F2D		calli a15
A0017468  F1F0200B		mov d15, d2
A001746C  0104AF09		ld.w d15, [sp+]4

#324		
#325			(* FullScaleSpeed := TO_REAL(readIntPar.val); *)
#326			LD		readIntPar.val	{L:130}
(*) UNDEF
A0017470  3092CF85		ld.w d15, #0x308D2 ; ADR 0xC00008D2

#327			TO_REAL	{L:130}
(*) DINT
A0017474  F1410F4B		itof d15, d15

#328			ST		FullScaleSpeed	{L:130}
(*) REAL
A0017478  20A2CFA5		st.w #0x308A2, d15 ; ADR 0xC00008A2

#329		
#330			(* InputConv.Krpm:=FullScaleSpeed/(16384.0*65536.0); *)
#331			LD		FullScaleSpeed	{L:131}
(*) UNDEF
A001747C  20A2CF85		ld.w d15, #0x308A2 ; ADR 0xC00008A2

#332			DIV(		16384.0	{L:131}
(*) REAL
A0017480  F53CAF89		st.w [-sp]4, d15 
A0017484  F00000BB		mov.u d15, #0x0000 ; COSTREAL 16384.000000
A0017488  F4680F9B		addih d15, d15, #0x4680

#333			MUL		65536.0	{L:131}
(*) REAL
A001748C  800000BB		mov.u d8, #0x0000 ; COSTREAL 65536.000000
A0017490  8478089B		addih d8, d8, #0x4780
A0017494  F0418F4B		mul.f d15, d15, d8

#334			)	{L:131}
(*) REAL
A0017498  01F0F00B		mov d0, d15
A001749C  0104AF09		ld.w d15, [sp+]4
A00174A0  81F0000B		mov d8, d0
A00174A4  F0518F4B		div.f d15, d15, d8

#335			ST		InputConv.Krpm	{L:131}
(*) REAL
A00174A8  3044CFA5		st.w #0x304C4, d15 ; ADR 0xC00004C4

#336		
#337			(* InputConv.Krad_s:=InputConv.Krpm*2.0*PI/60.0; *)
#338			LD		InputConv.Krpm	{L:132}
(*) UNDEF
A00174AC  3044CF85		ld.w d15, #0x304C4 ; ADR 0xC00004C4

#339			MUL		2.0	{L:132}
(*) REAL
A00174B0  800000BB		mov.u d8, #0x0000 ; COSTREAL 2.000000
A00174B4  8400089B		addih d8, d8, #0x4000
A00174B8  F0418F4B		mul.f d15, d15, d8

#340			MUL		PI	{L:132}
(*) REAL
A00174BC  80FDB0BB		mov.u d8, #0x0FDB ; COSTREAL 3.141593
A00174C0  8404989B		addih d8, d8, #0x4049
A00174C4  F0418F4B		mul.f d15, d15, d8

#341			DIV		60.0	{L:132}
(*) REAL
A00174C8  800000BB		mov.u d8, #0x0000 ; COSTREAL 60.000000
A00174CC  8427089B		addih d8, d8, #0x4270
A00174D0  F0518F4B		div.f d15, d15, d8

#342			ST		InputConv.Krad_s	{L:132}
(*) REAL
A00174D4  3048CFA5		st.w #0x304C8, d15 ; ADR 0xC00004C8

#343		
#344			(* readRealPar.ipa := 2002; *)
#345			LD		2002	{L:136}
(*) UNDEF
A00174D8  F07D203B		mov d15, #2002

#346			ST		readRealPar.ipa	{L:136}
(*) UINT
A00174DC  20BACFA5		st.w #0x308BA, d15 ; ADR 0xC00008BA

#347		
#348			(* readRealPar() *)
#349			CAL		readRealPar	{L:137}
(*) DINT
A00174E0  F53CAF89		st.w [-sp]4, d15 
A00174E4  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008BA
A00174E8  20BA44D9		lea a4,[a4]0x08BA
A00174EC  F8009091		movh.a a15, #0x8009 ; sysDBReadRealPar AT 0x80092698
A00174F0  A258FFD9		lea a15,[a15]0x2698
A00174F4  0000000D		nop
A00174F8  00000F2D		calli a15
A00174FC  F1F0200B		mov d15, d2
A0017500  0104AF09		ld.w d15, [sp+]4

#350		
#351			(* RatCur:= readRealPar.val ; *)
#352			LD		readRealPar.val	{L:138}
(*) UNDEF
A0017504  3082CF85		ld.w d15, #0x308C2 ; ADR 0xC00008C2

#353			ST		RatCur	{L:138}
(*) REAL
A0017508  3096CFA5		st.w #0x308D6, d15 ; ADR 0xC00008D6

#354		
#355			(* readRealPar.ipa := 2010; *)
#356			LD		2010	{L:140}
(*) UNDEF
A001750C  F07DA03B		mov d15, #2010

#357			ST		readRealPar.ipa	{L:140}
(*) UINT
A0017510  20BACFA5		st.w #0x308BA, d15 ; ADR 0xC00008BA

#358		
#359			(* readRealPar() *)
#360			CAL		readRealPar	{L:141}
(*) DINT
A0017514  F53CAF89		st.w [-sp]4, d15 
A0017518  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008BA
A001751C  20BA44D9		lea a4,[a4]0x08BA
A0017520  F8009091		movh.a a15, #0x8009 ; sysDBReadRealPar AT 0x80092698
A0017524  A258FFD9		lea a15,[a15]0x2698
A0017528  0000000D		nop
A001752C  00000F2D		calli a15
A0017530  F1F0200B		mov d15, d2
A0017534  0104AF09		ld.w d15, [sp+]4

#361		
#362			(* RatKTrq:= readRealPar.val ; *)
#363			LD		readRealPar.val	{L:142}
(*) UNDEF
A0017538  3082CF85		ld.w d15, #0x308C2 ; ADR 0xC00008C2

#364			ST		RatKTrq	{L:142}
(*) REAL
A001753C  309ACFA5		st.w #0x308DA, d15 ; ADR 0xC00008DA

#365		
#366			(* RatedTorque := RatCur*RatKTrq; *)
#367			LD		RatCur	{L:143}
(*) UNDEF
A0017540  3096CF85		ld.w d15, #0x308D6 ; ADR 0xC00008D6

#368			MUL		RatKTrq	{L:143}
(*) REAL
A0017544  309AC885		ld.w d8, #0x308DA ; ADR 0xC00008DA
A0017548  F0418F4B		mul.f d15, d15, d8

#369			ST		RatedTorque	{L:143}
(*) REAL
A001754C  309ECFA5		st.w #0x308DE, d15 ; ADR 0xC00008DE

#370		
#371			(* KNm2Cnt := TO_REAL(TrqToCount(1.0 / RatedTorque * 100.0)); *)
#372			LD		1.0	{L:145}
(*) UNDEF
A0017550  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A0017554  F3F80F9B		addih d15, d15, #0x3F80

#373			DIV		RatedTorque	{L:145}
(*) REAL
A0017558  309EC885		ld.w d8, #0x308DE ; ADR 0xC00008DE
A001755C  F0518F4B		div.f d15, d15, d8

#374			MUL		100.0	{L:145}
(*) REAL
A0017560  800000BB		mov.u d8, #0x0000 ; COSTREAL 100.000000
A0017564  842C889B		addih d8, d8, #0x42C8
A0017568  F0418F4B		mul.f d15, d15, d8

#375			TrqToCount	{L:145}
(-) REAL
A001756C  41F0F00B		mov d4, d15
A0017570  C910FF6D		call #0xFFC910 ; CALL 0xA0010790
A0017574  F1F0200B		mov d15, d2

#376			TO_REAL	{L:145}
(*) DINT
A0017578  F1410F4B		itof d15, d15

#377			ST		KNm2Cnt	{L:145}
(*) REAL
A001757C  209ECFA5		st.w #0x3089E, d15 ; ADR 0xC000089E

#378		
#379			(* InputConv.KCnt2Nm := 1.0 / KNm2Cnt; *)
#380			LD		1.0	{L:146}
(*) UNDEF
A0017580  F00000BB		mov.u d15, #0x0000 ; COSTREAL 1.000000
A0017584  F3F80F9B		addih d15, d15, #0x3F80

#381			DIV		KNm2Cnt	{L:146}
(*) REAL
A0017588  209EC885		ld.w d8, #0x3089E ; ADR 0xC000089E
A001758C  F0518F4B		div.f d15, d15, d8

#382			ST		InputConv.KCnt2Nm	{L:146}
(*) REAL
A0017590  3050CFA5		st.w #0x304D0, d15 ; ADR 0xC00004D0

#383		
#384			(* res:= sysDBWriteIntegerPar(650,640); *)
#385			LD		650	{L:149}
(*) UNDEF
A0017594  F028A03B		mov d15, #650

#386			sysDBWriteIntegerPar		640	{L:149}
(-) UINT
A0017598  5028003B		mov d5, #640
A001759C  41F0F00B		mov d4, d15
A00175A0  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A00175A4  0278FFD9		lea a15,[a15]0x2438
A00175A8  0000000D		nop
A00175AC  00000F2D		calli a15
A00175B0  F1F0200B		mov d15, d2

#387			ST		res	{L:149}
(*) DINT
A00175B4  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#388		
#389			(* res:= sysDBWriteIntegerPar(652,642); *)
#390			LD		652	{L:150}
(*) UNDEF
A00175B8  F028C03B		mov d15, #652

#391			sysDBWriteIntegerPar		642	{L:150}
(-) UINT
A00175BC  5028203B		mov d5, #642
A00175C0  41F0F00B		mov d4, d15
A00175C4  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A00175C8  0278FFD9		lea a15,[a15]0x2438
A00175CC  0000000D		nop
A00175D0  00000F2D		calli a15
A00175D4  F1F0200B		mov d15, d2

#392			ST		res	{L:150}
(*) DINT
A00175D8  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#393		
#394			(* sysSpdRef1 := 0; *)
#395			LD		0	{L:151}
(*) UNDEF
A00175DC  F000003B		mov d15, #0

#396			ST		sysSpdRef1	{L:151}
(*) USINT
A00175E0  33F0DFA5		st.w #0x37CF0, d15 ; ADR 0xD0003CF0

#397		
#398			(* sysSpdRef2 := 0; *)
#399			LD		0	{L:152}
(*) UNDEF
A00175E4  F000003B		mov d15, #0

#400			ST		sysSpdRef2	{L:152}
(*) USINT
A00175E8  33F4DFA5		st.w #0x37CF4, d15 ; ADR 0xD0003CF4

#401		
#402			(* sysTrqFFwd := 0; *)
#403			LD		0	{L:153}
(*) UNDEF
A00175EC  F000003B		mov d15, #0

#404			ST		sysTrqFFwd	{L:153}
(*) USINT
A00175F0  C2ACDFA5		st.w #0x36B2C, d15 ; ADR 0xD0002B2C

#405		
#406			(* MaxTorque    := pMaxTorque; *)
#407			LD		pMaxTorque	{L:158}
(*) UNDEF
A00175F4  C1B0CF85		ld.w d15, #0x31B30 ; ADR 0xC0001B30

#408			ST		MaxTorque	{L:158}
(*) REAL
A00175F8  209ACFA5		st.w #0x3089A, d15 ; ADR 0xC000089A

#409		
#410			(* MaxSpeed     := pMaxSpeed * RPM2RAD; *)
#411			LD		pMaxSpeed	{L:159}
(*) UNDEF
A00175FC  C1B4CF85		ld.w d15, #0x31B34 ; ADR 0xC0001B34

#412			MUL		RPM2RAD	{L:159}
(*) REAL
A0017600  877500BB		mov.u d8, #0x7750 ; COSTREAL 0.104720
A0017604  83DD689B		addih d8, d8, #0x3DD6
A0017608  F0418F4B		mul.f d15, d15, d8

#413			ST		MaxSpeed	{L:159}
(*) REAL
A001760C  30A6CFA5		st.w #0x308E6, d15 ; ADR 0xC00008E6

#414		
#415			(* MaxPosition  := pMaxPos * PI * 2.0; *)
#416			LD		pMaxPos	{L:160}
(*) UNDEF
A0017610  C1B8CF85		ld.w d15, #0x31B38 ; ADR 0xC0001B38

#417			MUL		PI	{L:160}
(*) REAL
A0017614  80FDB0BB		mov.u d8, #0x0FDB ; COSTREAL 3.141593
A0017618  8404989B		addih d8, d8, #0x4049
A001761C  F0418F4B		mul.f d15, d15, d8

#418			MUL		2.0	{L:160}
(*) REAL
A0017620  800000BB		mov.u d8, #0x0000 ; COSTREAL 2.000000
A0017624  8400089B		addih d8, d8, #0x4000
A0017628  F0418F4B		mul.f d15, d15, d8

#419			ST		MaxPosition	{L:160}
(*) REAL
A001762C  30AACFA5		st.w #0x308EA, d15 ; ADR 0xC00008EA

#420		
#421			(* MotorInertia := pMotJ; *)
#422			LD		pMotJ	{L:161}
(*) UNDEF
A0017630  C1BCCF85		ld.w d15, #0x31B3C ; ADR 0xC0001B3C

#423			ST		MotorInertia	{L:161}
(*) REAL
A0017634  30AECFA5		st.w #0x308EE, d15 ; ADR 0xC00008EE

#424		
#425			(* AutotuningManager.fbInit := TRUE; *)
#426			LD		TRUE	{L:163}
(*) UNDEF
A0017638  F000103B		mov d15, #1

#427			ST		AutotuningManager.fbInit	{L:163}
(*) BOOL
A001763C  F074CFA5		st.w #0x307F4, d15 ; ADR 0xC00007F4

#428		
#429			(* AutotuningManager.maxTrq := MaxTorque; *)
#430			LD		MaxTorque	{L:164}
(*) UNDEF
A0017640  209ACF85		ld.w d15, #0x3089A ; ADR 0xC000089A

#431			ST		AutotuningManager.maxTrq	{L:164}
(*) REAL
A0017644  0084CFA5		st.w #0x30804, d15 ; ADR 0xC0000804

#432		
#433			(* AutotuningManager.maxVel := MaxSpeed; *)
#434			LD		MaxSpeed	{L:165}
(*) UNDEF
A0017648  30A6CF85		ld.w d15, #0x308E6 ; ADR 0xC00008E6

#435			ST		AutotuningManager.maxVel	{L:165}
(*) REAL
A001764C  0088CFA5		st.w #0x30808, d15 ; ADR 0xC0000808

#436		
#437			(* AutotuningManager.maxPos := MaxPosition; *)
#438			LD		MaxPosition	{L:166}
(*) UNDEF
A0017650  30AACF85		ld.w d15, #0x308EA ; ADR 0xC00008EA

#439			ST		AutotuningManager.maxPos	{L:166}
(*) REAL
A0017654  008CCFA5		st.w #0x3080C, d15 ; ADR 0xC000080C

#440		
#441			(* AutotuningManager.minVel := -MaxSpeed; *)
#442			LD		MaxSpeed	{L:167}
(*) UNDEF
A0017658  30A6CF85		ld.w d15, #0x308E6 ; ADR 0xC00008E6

#443			MUL		-1	{L:167}
(*) REAL
A001765C  8FFFF03B		mov d8, #-1
A0017660  8141084B		itof d8, d8
A0017664  F0418F4B		mul.f d15, d15, d8

#444			ST		AutotuningManager.minVel	{L:167}
(*) REAL
A0017668  00ACCFA5		st.w #0x3082C, d15 ; ADR 0xC000082C

#445		
#446			(* AutotuningManager.minPos := -MaxPosition; *)
#447			LD		MaxPosition	{L:168}
(*) UNDEF
A001766C  30AACF85		ld.w d15, #0x308EA ; ADR 0xC00008EA

#448			MUL		-1	{L:168}
(*) REAL
A0017670  8FFFF03B		mov d8, #-1
A0017674  8141084B		itof d8, d8
A0017678  F0418F4B		mul.f d15, d15, d8

#449			ST		AutotuningManager.minPos	{L:168}
(*) REAL
A001767C  00A8CFA5		st.w #0x30828, d15 ; ADR 0xC0000828

#450		
#451			(* AutotuningManager.phi_m_v	:=75.0; *)
#452			LD		75.0	{L:169}
(*) UNDEF
A0017680  F00000BB		mov.u d15, #0x0000 ; COSTREAL 75.000000
A0017684  F4296F9B		addih d15, d15, #0x4296

#453			ST		AutotuningManager.phi_m_v	{L:169}
(*) REAL
A0017688  0098CFA5		st.w #0x30818, d15 ; ADR 0xC0000818

#454		
#455			(* AutotuningManager.phi_m_p 	:=90.0; *)
#456			LD		90.0	{L:170}
(*) UNDEF
A001768C  F00000BB		mov.u d15, #0x0000 ; COSTREAL 90.000000
A0017690  F42B4F9B		addih d15, d15, #0x42B4

#457			ST		AutotuningManager.phi_m_p	{L:170}
(*) REAL
A0017694  009CCFA5		st.w #0x3081C, d15 ; ADR 0xC000081C

#458		
#459			(* AutotuningManager.MinWc	:= 	pMinWc; *)
#460			LD		pMinWc	{L:171}
(*) UNDEF
A0017698  D184CF85		ld.w d15, #0x31B44 ; ADR 0xC0001B44

#461			ST		AutotuningManager.MinWc	{L:171}
(*) REAL
A001769C  00B4CFA5		st.w #0x30834, d15 ; ADR 0xC0000834

#462		
#463			(* AutotuningManager.MaxWc	:=	pMaxWc; *)
#464			LD		pMaxWc	{L:172}
(*) UNDEF
A00176A0  D188CF85		ld.w d15, #0x31B48 ; ADR 0xC0001B48

#465			ST		AutotuningManager.MaxWc	{L:172}
(*) REAL
A00176A4  00B0CFA5		st.w #0x30830, d15 ; ADR 0xC0000830

#466		
#467			(* res:= sysDBWriteIntegerPar(680,TO_INT(FLOOR(pMaxSpeed))); *)
#468			LD		pMaxSpeed	{L:174}
(*) UNDEF
A00176A8  C1B4CF85		ld.w d15, #0x31B34 ; ADR 0xC0001B34

#469			FLOOR	{L:174}
(*) REAL
A00176AC  41F0F00B		mov d4, d15
A00176B0  F8009091		movh.a a15, #0x8009 ; _do_floor AT 0x80091CA8
A00176B4  21E8FFD9		lea a15,[a15]0x1CA8
A00176B8  0000000D		nop
A00176BC  00000F2D		calli a15
A00176C0  F1F0200B		mov d15, d2

#470			TO_INT	{L:174}
(*) REAL
A00176C4  F1010F4B		ftoi d15, d15

#471			ST		state_machine/Init_state$$TEMP0	{L:174}
(*) INT
A00176C8  48AACF25		st.h #0x3092A, d15 ; ADR 0xC000092A

#472			LD		680	{L:174}
(*) UNDEF
A00176CC  F02A803B		mov d15, #680

#473			sysDBWriteIntegerPar		state_machine/Init_state$$TEMP0	{L:174}
(-) UINT
A00176D0  48AAC805		ld.h d8, #0x3092A ; ADR 0xC000092A
A00176D4  51F0800B		mov d5, d8
A00176D8  41F0F00B		mov d4, d15
A00176DC  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A00176E0  0278FFD9		lea a15,[a15]0x2438
A00176E4  0000000D		nop
A00176E8  00000F2D		calli a15
A00176EC  F1F0200B		mov d15, d2

#474			ST		res	{L:174}
(*) DINT
A00176F0  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#475		
#476			(* AutotuningManager.Time_identification:=10.0; *)
#477			LD		10.0	{L:176}
(*) UNDEF
A00176F4  F00000BB		mov.u d15, #0x0000 ; COSTREAL 10.000000
A00176F8  F4120F9B		addih d15, d15, #0x4120

#478			ST		AutotuningManager.Time_identification	{L:176}
(*) REAL
A00176FC  0094CFA5		st.w #0x30814, d15 ; ADR 0xC0000814

#479		
#480			(* AutotuningManager.Ts	:=0.001; *)
#481			LD		0.001	{L:177}
(*) UNDEF
A0017700  F126F0BB		mov.u d15, #0x126F ; COSTREAL 0.001000
A0017704  F3A83F9B		addih d15, d15, #0x3A83

#482			ST		AutotuningManager.Ts	{L:177}
(*) REAL
A0017708  0090CFA5		st.w #0x30810, d15 ; ADR 0xC0000810

#483		
#484			(* AutotuningManager() *)
#485			CAL		AutotuningManager	{L:179}
(*) REAL
A001770C  F53CAF89		st.w [-sp]4, d15 
A0017710  4C000091		movh.a a4, #0xC000 ; FB FRAME BASE 0xC0000508
A0017714  404844D9		lea a4,[a4]0x0508
A0017718  FA001091		movh.a a15, #0xA001 ; CALL TO FB AT 0xA0012EF8
A001771C  B2F8FFD9		lea a15,[a15]0x2EF8
A0017720  0000000D		nop
A0017724  00000F2D		calli a15
A0017728  0104AF09		ld.w d15, [sp+]4

#486		
#487			(* AutotuningManager.fbInit := FALSE; *)
#488			LD		FALSE	{L:180}
(*) UNDEF
A001772C  F000003B		mov d15, #0

#489			ST		AutotuningManager.fbInit	{L:180}
(*) BOOL
A0017730  F074CFA5		st.w #0x307F4, d15 ; ADR 0xC00007F4

#490		
#491			(* State_internal := 0; *)
#492			LD		0	{L:183}
(*) UNDEF
A0017734  F000003B		mov d15, #0

#493			ST		State_internal	{L:183}
(*) USINT
A0017738  2890CF25		st.h #0x30890, d15 ; ADR 0xC0000890

#494		
#495			(* CYCLE_STOP := FALSE; *)
#496			LD		FALSE	{L:195}
(*) UNDEF
A001773C  F000003B		mov d15, #0

#497			ST		CYCLE_STOP	{L:195}
(*) BOOL
A0017740  20B2CFA5		st.w #0x308B2, d15 ; ADR 0xC00008B2

#498		
#499		
#500			(* IF StartCND *)
#501			LD		StartCND	{L:197}
(*) UNDEF
A0017744  208CCF85		ld.w d15, #0x3088C ; ADR 0xC000088C

#502			JMPCN	state_machine/Init_state$lab1	{L:197}
(-) BOOL
A0017748  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA0017768

#503		
#504			(* THEN *)
#505		
#506				(* state_of_the_machine :=1; *)
#507				LD		1	{L:198}
(*) UNDEF
A001774C  F000103B		mov d15, #1

#508				ST		state_of_the_machine	{L:198}
(*) USINT
A0017750  38B4CF25		st.h #0x308F4, d15 ; ADR 0xC00008F4

#509		
#510				(* ENABLE_CYCLIC_PRG := TRUE; *)
#511				LD		TRUE	{L:199}
(*) UNDEF
A0017754  F000103B		mov d15, #1

#512				ST		ENABLE_CYCLIC_PRG	{L:199}
(*) BOOL
A0017758  20B6CFA5		st.w #0x308B6, d15 ; ADR 0xC00008B6

#513		
#514				(* INIT_END := TRUE; *)
#515				LD		TRUE	{L:200}
(*) UNDEF
A001775C  F000103B		mov d15, #1

#516				ST		INIT_END	{L:200}
(*) BOOL
A0017760  20AECFA5		st.w #0x308AE, d15 ; ADR 0xC00008AE

#517				JMP		state_machine/Init_state$lab0
(-) BOOL
A0017764  000E001D		j #0x00000E ; JUMP 0xA0017780

#518		state_machine/Init_state$lab1:
#519		
#520			(* ELSE *)
#521		
#522				(* state_of_the_machine :=0; *)
#523				LD		0	{L:202}
(*) UNDEF
A0017768  F000003B		mov d15, #0

#524				ST		state_of_the_machine	{L:202}
(*) USINT
A001776C  38B4CF25		st.h #0x308F4, d15 ; ADR 0xC00008F4

#525		
#526				(* ENABLE_CYCLIC_PRG := FALSE; *)
#527				LD		FALSE	{L:203}
(*) UNDEF
A0017770  F000003B		mov d15, #0

#528				ST		ENABLE_CYCLIC_PRG	{L:203}
(*) BOOL
A0017774  20B6CFA5		st.w #0x308B6, d15 ; ADR 0xC00008B6

#529		
#530				(* INIT_END := FALSE; *)
#531				LD		FALSE	{L:204}
(*) UNDEF
A0017778  F000003B		mov d15, #0

#532				ST		INIT_END	{L:204}
(*) BOOL
A001777C  20AECFA5		st.w #0x308AE, d15 ; ADR 0xC00008AE

#533		
#534		state_machine/Init_state$lab0:
#535			(* END_IF *)
#536		
#537		
#538		(* Test condition TR4 pin_in 0 *)
#539			LD		INIT_END
(*) UNDEF
A0017780  20AECF85		ld.w d15, #0x308AE ; ADR 0xC00008AE

#540			ST		state_machine$$Cycle_x
(*) BOOL
A0017784  40ACCFA5		st.w #0x3092C, d15 ; ADR 0xC000092C

#541			R		state_machine$$Init_x
(*) BOOL
A0017788  FC000091		movh.a a15, #0xC000 ; ADR 0xC00008AA
A001778C  20AAFFD9		lea a15,[a15]0x08AA
A0017790  0840F809		ld.bu d8, [a15]
A0017794  8FA008AB		seln d8, d15, d8, #0
A0017798  0800F889		st.b [a15], d8

#542		
#543		end_state_machine$Init:
#544			LD		state_machine$$Cycle_x
(*) UNDEF
A001779C  40ACCF85		ld.w d15, #0x3092C ; ADR 0xC000092C

#545			JMPCN	end_state_machine$Cycle
(-) BOOL
A00177A0  01800FDF		jeq d15, #0, #0x0180 ; JUMP 0xA0017AA0

#546		
#547		(* BODY OF Cycle *)
#548		{SRC:state_machine/Cycle_state}
#549		
#550			(* ENABLE_CYCLIC_PRG := StartCND; *)
#551			LD		StartCND	{L:2}
(*) UNDEF
A00177A4  208CCF85		ld.w d15, #0x3088C ; ADR 0xC000088C

#552			ST		ENABLE_CYCLIC_PRG	{L:2}
(*) BOOL
A00177A8  20B6CFA5		st.w #0x308B6, d15 ; ADR 0xC00008B6

#553		
#554			(* ABORT_PROCEDURE := NOT(StartCND); *)
#555			LD		StartCND	{L:3}
(*) UNDEF
A00177AC  208CCF85		ld.w d15, #0x3088C ; ADR 0xC000088C

#556			NOT	{L:3}
(*) BOOL
A00177B0  8000103B		mov d8, #1
A00177B4  9000003B		mov d9, #0
A00177B8  FF40892B		sel d15, d15, d9, d8

#557			ST		ABORT_PROCEDURE	{L:3}
(*) BOOL
A00177BC  40B0CFA5		st.w #0x30930, d15 ; ADR 0xC0000930

#558		
#559			(* State_internal:=1; *)
#560			LD		1	{L:5}
(*) UNDEF
A00177C0  F000103B		mov d15, #1

#561			ST		State_internal	{L:5}
(*) USINT
A00177C4  2890CF25		st.h #0x30890, d15 ; ADR 0xC0000890

#562		
#563			(* readIntPar.ipa := 650; *)
#564			LD		650	{L:7}
(*) UNDEF
A00177C8  F028A03B		mov d15, #650

#565			ST		readIntPar.ipa	{L:7}
(*) UINT
A00177CC  308ACFA5		st.w #0x308CA, d15 ; ADR 0xC00008CA

#566		
#567			(* readIntPar() *)
#568			CAL		readIntPar	{L:8}
(*) DINT
A00177D0  F53CAF89		st.w [-sp]4, d15 
A00177D4  4C000091		movh.a a4, #0xC000 ; ADR EMB-FUNCTION BLOCK AT 0xC00008CA
A00177D8  308A44D9		lea a4,[a4]0x08CA
A00177DC  F8009091		movh.a a15, #0x8009 ; sysDBReadIntegerPar AT 0x80092606
A00177E0  8246FFD9		lea a15,[a15]0x2606
A00177E4  0000000D		nop
A00177E8  00000F2D		calli a15
A00177EC  F1F0200B		mov d15, d2
A00177F0  0104AF09		ld.w d15, [sp+]4

#569		
#570			(* SPEED_REF_IPA:= readIntPar.val ; *)
#571			LD		readIntPar.val	{L:9}
(*) UNDEF
A00177F4  3092CF85		ld.w d15, #0x308D2 ; ADR 0xC00008D2

#572			ST		SPEED_REF_IPA	{L:9}
(*) DINT
A00177F8  40B4CFA5		st.w #0x30934, d15 ; ADR 0xC0000934

#573		
#574			(* AutotuningManager.low_vel_thr:=pLow_Vel_Thr/100.0; *)
#575			LD		pLow_Vel_Thr	{L:11}
(*) UNDEF
A00177FC  D18CCF85		ld.w d15, #0x31B4C ; ADR 0xC0001B4C

#576			DIV		100.0	{L:11}
(*) REAL
A0017800  800000BB		mov.u d8, #0x0000 ; COSTREAL 100.000000
A0017804  842C889B		addih d8, d8, #0x42C8
A0017808  F0518F4B		div.f d15, d15, d8

#577			ST		AutotuningManager.low_vel_thr	{L:11}
(*) REAL
A001780C  00B8CFA5		st.w #0x30838, d15 ; ADR 0xC0000838

#578		
#579		
#580			(* IF AutotuningManager.UPDATE_PARAMETERS *)
#581			LD		AutotuningManager.UPDATE_PARAMETERS	{L:12}
(*) UNDEF
A0017810  10A4CF85		ld.w d15, #0x30864 ; ADR 0xC0000864

#582			JMPCN	state_machine/Cycle_state$lab10	{L:12}
(-) BOOL
A0017814  010E0FDF		jeq d15, #0, #0x010E ; JUMP 0xA0017A30

#583		
#584			(* THEN *)
#585		
#586				(* sysControlMode := 1; *)
#587				LD		1	{L:13}
(*) UNDEF
A0017818  F000103B		mov d15, #1

#588				ST		sysControlMode	{L:13}
(*) USINT
A001781C  FC000091		movh.a a15, #0xC000 ; ADR 0xC00045DC
A0017820  745CFF59		st.w [a15]0x45DC, d15

#589		
#590				(* res := sysDBWriteRealPar(2236,AutotuningManager.Kp_v*PI*2.0/60.0); *)
#591				LD		AutotuningManager.Kp_v	{L:14}
(*) UNDEF
A0017824  1090CF85		ld.w d15, #0x30850 ; ADR 0xC0000850

#592				MUL		PI	{L:14}
(*) REAL
A0017828  80FDB0BB		mov.u d8, #0x0FDB ; COSTREAL 3.141593
A001782C  8404989B		addih d8, d8, #0x4049
A0017830  F0418F4B		mul.f d15, d15, d8

#593				MUL		2.0	{L:14}
(*) REAL
A0017834  800000BB		mov.u d8, #0x0000 ; COSTREAL 2.000000
A0017838  8400089B		addih d8, d8, #0x4000
A001783C  F0418F4B		mul.f d15, d15, d8

#594				DIV		60.0	{L:14}
(*) REAL
A0017840  800000BB		mov.u d8, #0x0000 ; COSTREAL 60.000000
A0017844  8427089B		addih d8, d8, #0x4270
A0017848  F0518F4B		div.f d15, d15, d8

#595				ST		state_machine/Cycle_state$$TEMP3	{L:14}
(*) REAL
A001784C  40B8CFA5		st.w #0x30938, d15 ; ADR 0xC0000938

#596				LD		2236	{L:14}
(*) UNDEF
A0017850  F08BC03B		mov d15, #2236

#597				sysDBWriteRealPar		state_machine/Cycle_state$$TEMP3	{L:14}
(-) UINT
A0017854  40B8C585		ld.w d5, #0x30938 ; ADR 0xC0000938
A0017858  41F0F00B		mov d4, d15
A001785C  F8009091		movh.a a15, #0x8009 ; sysDBWriteRealPar AT 0x80092488
A0017860  2248FFD9		lea a15,[a15]0x2488
A0017864  0000000D		nop
A0017868  00000F2D		calli a15
A001786C  F1F0200B		mov d15, d2

#598				ST		res	{L:14}
(*) DINT
A0017870  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#599		
#600				(* res := sysDBWriteRealPar(2238,AutotuningManager.Ti_v*1000.0); *)
#601				LD		AutotuningManager.Ti_v	{L:15}
(*) UNDEF
A0017874  1098CF85		ld.w d15, #0x30858 ; ADR 0xC0000858

#602				MUL		1000.0	{L:15}
(*) REAL
A0017878  800000BB		mov.u d8, #0x0000 ; COSTREAL 1000.000000
A001787C  8447A89B		addih d8, d8, #0x447A
A0017880  F0418F4B		mul.f d15, d15, d8

#603				ST		state_machine/Cycle_state$$TEMP2	{L:15}
(*) REAL
A0017884  40BCCFA5		st.w #0x3093C, d15 ; ADR 0xC000093C

#604				LD		2238	{L:15}
(*) UNDEF
A0017888  F08BE03B		mov d15, #2238

#605				sysDBWriteRealPar		state_machine/Cycle_state$$TEMP2	{L:15}
(-) UINT
A001788C  40BCC585		ld.w d5, #0x3093C ; ADR 0xC000093C
A0017890  41F0F00B		mov d4, d15
A0017894  F8009091		movh.a a15, #0x8009 ; sysDBWriteRealPar AT 0x80092488
A0017898  2248FFD9		lea a15,[a15]0x2488
A001789C  0000000D		nop
A00178A0  00000F2D		calli a15
A00178A4  F1F0200B		mov d15, d2

#606				ST		res	{L:15}
(*) DINT
A00178A8  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#607		
#608				(* res := sysDBWriteRealPar(3100,AutotuningManager.Jm); *)
#609				LD		3100	{L:17}
(*) UNDEF
A00178AC  F0C1C03B		mov d15, #3100

#610				sysDBWriteRealPar		AutotuningManager.Jm	{L:17}
(-) UINT
A00178B0  10A8C585		ld.w d5, #0x30868 ; ADR 0xC0000868
A00178B4  41F0F00B		mov d4, d15
A00178B8  F8009091		movh.a a15, #0x8009 ; sysDBWriteRealPar AT 0x80092488
A00178BC  2248FFD9		lea a15,[a15]0x2488
A00178C0  0000000D		nop
A00178C4  00000F2D		calli a15
A00178C8  F1F0200B		mov d15, d2

#611				ST		res	{L:17}
(*) DINT
A00178CC  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#612		
#613				(* res := sysDBWriteIntegerPar(3102,2); *)
#614				LD		3102	{L:18}
(*) UNDEF
A00178D0  F0C1E03B		mov d15, #3102

#615				sysDBWriteIntegerPar		2	{L:18}
(-) UINT
A00178D4  5000203B		mov d5, #2
A00178D8  41F0F00B		mov d4, d15
A00178DC  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A00178E0  0278FFD9		lea a15,[a15]0x2438
A00178E4  0000000D		nop
A00178E8  00000F2D		calli a15
A00178EC  F1F0200B		mov d15, d2

#616				ST		res	{L:18}
(*) DINT
A00178F0  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#617		
#618		
#619				(* IF SEND_MESSAGE *)
#620				LD		SEND_MESSAGE	{L:20}
(*) UNDEF
A00178F4  5080CF85		ld.w d15, #0x30940 ; ADR 0xC0000940

#621				JMPCN	state_machine/Cycle_state$lab8	{L:20}
(-) BOOL
A00178F8  003E0FDF		jeq d15, #0, #0x003E ; JUMP 0xA0017974

#622		
#623				(* THEN *)
#624		
#625					(* sysMsgPlc1	:='UPDATE PARAMETER'; *)
#626					LD		'UPDATE PARAMETER'	{L:22}
(*) UNDEF
A00178FC  F7BD00BB		mov.u d15, #0x7BD0 ; 0xA0017BD0
A0017900  FA001F9B		addih d15, d15, #0xA001

#627					ST		sysMsgPlc1	{L:22}
(*) STRING
A0017904  F53CAF89		st.w [-sp]4, d15 
A0017908  6001303B		mov d6, #19
A001790C  51F0F00B		mov d5, d15
A0017910  F803F091		movh.a a15, #0x803F ; ADR 0x803F0264
A0017914  9024FFD9		lea a15,[a15]0x0264
A0017918  44C0F001		mov.d d4, a15 ; END Loading Address
A001791C  F8009091		movh.a a15, #0x8009 ; _tri_strncpy AT 0x800923E0
A0017920  F220FFD9		lea a15,[a15]0x23E0
A0017924  0000000D		nop
A0017928  00000F2D		calli a15
A001792C  0104AF09		ld.w d15, [sp+]4

#628		
#629					(* TempUI := TO_UINT(vEstBandwidth); *)
#630					LD		vEstBandwidth	{L:23}
(*) UNDEF
A0017930  121CCF85		ld.w d15, #0x3205C ; ADR 0xC000205C

#631					TO_UINT	{L:23}
(*) REAL
A0017934  F1210F4B		ftou d15, d15

#632					ST		TempUI	{L:23}
(*) UINT
A0017938  5884CF25		st.h #0x30944, d15 ; ADR 0xC0000944

#633		
#634					(* res		:= sysKpdWriteMsg(1,TempUI,1); *)
#635					LD		1	{L:25}
(*) UNDEF
A001793C  F000103B		mov d15, #1

#636					sysKpdWriteMsg		TempUI, 1	{L:25}
(-) USINT
A0017940  6000103B		mov d6, #1
A0017944  5C84C505		ld.hu d5, #0x30944 ; ADR 0xC0000944
A0017948  41F0F00B		mov d4, d15
A001794C  F8009091		movh.a a15, #0x8009 ; sysKpdWriteMsg AT 0x800925E0
A0017950  7260FFD9		lea a15,[a15]0x25E0
A0017954  0000000D		nop
A0017958  00000F2D		calli a15
A001795C  F1F0200B		mov d15, d2

#637					ST		res	{L:25}
(*) DINT
A0017960  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#638		
#639					(* TimeMsg := 1000; *)
#640					LD		1000	{L:26}
(*) UNDEF
A0017964  F03E803B		mov d15, #1000

#641					ST		TimeMsg	{L:26}
(*) UINT
A0017968  20A6CFA5		st.w #0x308A6, d15 ; ADR 0xC00008A6

#642		
#643					(* SEND_MESSAGE := FALSE; *)
#644					LD		FALSE	{L:27}
(*) UNDEF
A001796C  F000003B		mov d15, #0

#645					ST		SEND_MESSAGE	{L:27}
(*) BOOL
A0017970  5080CFA5		st.w #0x30940, d15 ; ADR 0xC0000940

#646		
#647		state_machine/Cycle_state$lab8:
#648				(* END_IF *)
#649		
#650		
#651				(* IF AutotuningManager.TUNE_LOW_VEL) *)
#652				LD		AutotuningManager.TUNE_LOW_VEL	{L:31}
(*) UNDEF
A0017974  10ACCF85		ld.w d15, #0x3086C ; ADR 0xC000086C

#653				NOT	{L:31}
(*) BOOL
A0017978  8000103B		mov d8, #1
A001797C  9000003B		mov d9, #0
A0017980  FF40892B		sel d15, d15, d9, d8

#654				JMPCN	state_machine/Cycle_state$lab7	{L:31}
(-) BOOL
A0017984  00500FDF		jeq d15, #0, #0x0050 ; JUMP 0xA0017A24

#655		
#656				(* THEN *)
#657		
#658					(* res:=sysDBWriteIntegerPar(2200,AutotuningManager.Kp_high_vel_perc); *)
#659					LD		2200	{L:32}
(*) UNDEF
A0017988  F089803B		mov d15, #2200

#660					sysDBWriteIntegerPar		AutotuningManager.Kp_high_vel_perc	{L:32}
(-) UINT
A001798C  18B0C805		ld.h d8, #0x30870 ; ADR 0xC0000870
A0017990  51F0800B		mov d5, d8
A0017994  41F0F00B		mov d4, d15
A0017998  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A001799C  0278FFD9		lea a15,[a15]0x2438
A00179A0  0000000D		nop
A00179A4  00000F2D		calli a15
A00179A8  F1F0200B		mov d15, d2

#661					ST		res	{L:32}
(*) DINT
A00179AC  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#662		
#663					(* res:=sysDBWriteIntegerPar(2202,AutotuningManager.Ti_high_vel_perc); *)
#664					LD		2202	{L:33}
(*) UNDEF
A00179B0  F089A03B		mov d15, #2202

#665					sysDBWriteIntegerPar		AutotuningManager.Ti_high_vel_perc	{L:33}
(-) UINT
A00179B4  18B2C805		ld.h d8, #0x30872 ; ADR 0xC0000872
A00179B8  51F0800B		mov d5, d8
A00179BC  41F0F00B		mov d4, d15
A00179C0  F8009091		movh.a a15, #0x8009 ; sysDBWriteIntegerPar AT 0x80092438
A00179C4  0278FFD9		lea a15,[a15]0x2438
A00179C8  0000000D		nop
A00179CC  00000F2D		calli a15
A00179D0  F1F0200B		mov d15, d2

#666					ST		res	{L:33}
(*) DINT
A00179D4  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#667		
#668					(* res := sysDBWriteRealPar(2218,pLow_Vel_Thr); *)
#669					LD		2218	{L:34}
(*) UNDEF
A00179D8  F08AA03B		mov d15, #2218

#670					sysDBWriteRealPar		pLow_Vel_Thr	{L:34}
(-) UINT
A00179DC  D18CC585		ld.w d5, #0x31B4C ; ADR 0xC0001B4C
A00179E0  41F0F00B		mov d4, d15
A00179E4  F8009091		movh.a a15, #0x8009 ; sysDBWriteRealPar AT 0x80092488
A00179E8  2248FFD9		lea a15,[a15]0x2488
A00179EC  0000000D		nop
A00179F0  00000F2D		calli a15
A00179F4  F1F0200B		mov d15, d2

#671					ST		res	{L:34}
(*) DINT
A00179F8  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#672		
#673					(* res := sysDBWriteRealPar(2220,2.0); *)
#674					LD		2220	{L:35}
(*) UNDEF
A00179FC  F08AC03B		mov d15, #2220

#675					sysDBWriteRealPar		2.0	{L:35}
(-) UINT
A0017A00  500000BB		mov.u d5, #0x0000 ; COSTREAL 2.000000
A0017A04  5400059B		addih d5, d5, #0x4000
A0017A08  41F0F00B		mov d4, d15
A0017A0C  F8009091		movh.a a15, #0x8009 ; sysDBWriteRealPar AT 0x80092488
A0017A10  2248FFD9		lea a15,[a15]0x2488
A0017A14  0000000D		nop
A0017A18  00000F2D		calli a15
A0017A1C  F1F0200B		mov d15, d2

#676					ST		res	{L:35}
(*) DINT
A0017A20  30A2CFA5		st.w #0x308E2, d15 ; ADR 0xC00008E2

#677		
#678		state_machine/Cycle_state$lab7:
#679				(* END_IF *)
#680		
#681				(* AutotuningManager.PARAMETERS_UPDATED:=TRUE; *)
#682				LD		TRUE	{L:39}
(*) UNDEF
A0017A24  F000103B		mov d15, #1

#683				ST		AutotuningManager.PARAMETERS_UPDATED	{L:39}
(*) BOOL
A0017A28  00A0CFA5		st.w #0x30820, d15 ; ADR 0xC0000820

#684				JMP		state_machine/Cycle_state$lab9
(-) BOOL
A0017A2C  000E001D		j #0x00000E ; JUMP 0xA0017A48

#685		state_machine/Cycle_state$lab10:
#686		
#687			(* ELSE *)
#688		
#689		
#690				(* IF TimeMsg = 0 *)
#691				LD		TimeMsg	{L:45}
(*) UNDEF
A0017A30  20A6CF85		ld.w d15, #0x308A6 ; ADR 0xC00008A6

#692				EQ		0	{L:45}
(*) UDINT
A0017A34  8000003B		mov d8, #0
A0017A38  F1008F0B		eq d15, d15, d8

#693				JMPCN	state_machine/Cycle_state$lab6	{L:45}
(-) BOOL
A0017A3C  00060FDF		jeq d15, #0, #0x0006 ; JUMP 0xA0017A48

#694		
#695				(* THEN *)
#696		
#697					(* SEND_MESSAGE := TRUE; *)
#698					LD		TRUE	{L:46}
(*) UNDEF
A0017A40  F000103B		mov d15, #1

#699					ST		SEND_MESSAGE	{L:46}
(*) BOOL
A0017A44  5080CFA5		st.w #0x30940, d15 ; ADR 0xC0000940

#700		
#701		state_machine/Cycle_state$lab6:
#702				(* END_IF *)
#703		
#704		state_machine/Cycle_state$lab9:
#705			(* END_IF *)
#706		
#707		
#708			(* IF AutotuningManager.END *)
#709			LD		AutotuningManager.END	{L:54}
(*) UNDEF
A0017A48  00BCCF85		ld.w d15, #0x3083C ; ADR 0xC000083C

#710			JMPCN	state_machine/Cycle_state$lab5	{L:54}
(-) BOOL
A0017A4C  00080FDF		jeq d15, #0, #0x0008 ; JUMP 0xA0017A5C

#711		
#712			(* THEN *)
#713		
#714				(* AUTOTUNING_STOP := TRUE; *)
#715				LD		TRUE	{L:55}
(*) UNDEF
A0017A50  F000103B		mov d15, #1

#716				ST		AUTOTUNING_STOP	{L:55}
(*) BOOL
A0017A54  5086CFA5		st.w #0x30946, d15 ; ADR 0xC0000946

#717				JMP		state_machine/Cycle_state$lab4
(-) BOOL
A0017A58  0006001D		j #0x000006 ; JUMP 0xA0017A64

#718		state_machine/Cycle_state$lab5:
#719		
#720			(* ELSE *)
#721		
#722				(* AUTOTUNING_STOP := FALSE; *)
#723				LD		FALSE	{L:57}
(*) UNDEF
A0017A5C  F000003B		mov d15, #0

#724				ST		AUTOTUNING_STOP	{L:57}
(*) BOOL
A0017A60  5086CFA5		st.w #0x30946, d15 ; ADR 0xC0000946

#725		
#726		state_machine/Cycle_state$lab4:
#727			(* END_IF *)
#728		
#729		
#730		(* Test condition TR6 pin_out 0 *)
#731			LD		AUTOTUNING_STOP
(*) UNDEF
A0017A64  5086CF85		ld.w d15, #0x30946 ; ADR 0xC0000946

#732			ST		state_machine$$CL_control_state_x
(*) BOOL
A0017A68  508ACFA5		st.w #0x3094A, d15 ; ADR 0xC000094A

#733			R		state_machine$$Cycle_x
(*) BOOL
A0017A6C  FC000091		movh.a a15, #0xC000 ; ADR 0xC000092C
A0017A70  40ACFFD9		lea a15,[a15]0x092C
A0017A74  0840F809		ld.bu d8, [a15]
A0017A78  8FA008AB		seln d8, d15, d8, #0
A0017A7C  0800F889		st.b [a15], d8

#734			JMPC	end_state_machine$Cycle
(-) BOOL
A0017A80  80100FDF		jne d15, #0, #0x0010 ; JUMP 0xA0017AA0

#735		
#736		(* Test condition TR6 pin_out 1 *)
#737			LD		ABORT_PROCEDURE
(*) UNDEF
A0017A84  40B0CF85		ld.w d15, #0x30930 ; ADR 0xC0000930

#738			ST		state_machine$$Jump9_x
(*) BOOL
A0017A88  508ECFA5		st.w #0x3094E, d15 ; ADR 0xC000094E

#739			R		state_machine$$Cycle_x
(*) BOOL
A0017A8C  FC000091		movh.a a15, #0xC000 ; ADR 0xC000092C
A0017A90  40ACFFD9		lea a15,[a15]0x092C
A0017A94  0840F809		ld.bu d8, [a15]
A0017A98  8FA008AB		seln d8, d15, d8, #0
A0017A9C  0800F889		st.b [a15], d8

#740		
#741		end_state_machine$Cycle:
#742			LD		state_machine$$CL_control_state_x
(*) UNDEF
A0017AA0  508ACF85		ld.w d15, #0x3094A ; ADR 0xC000094A

#743			JMPCN	end_state_machine$CL_control_state
(-) BOOL
A0017AA4  00180FDF		jeq d15, #0, #0x0018 ; JUMP 0xA0017AD4

#744		
#745		(* BODY OF CL_control_state *)
#746		{SRC:state_machine/CL_control}
#747		
#748			(* state_machine_idx:=0; *)
#749			LD		0	{L:3}
(*) UNDEF
A0017AA8  F000003B		mov d15, #0

#750			ST		state_machine_idx	{L:3}
(*) USINT
A0017AAC  5892CF25		st.h #0x30952, d15 ; ADR 0xC0000952

#751		
#752			(* State_internal := 2; *)
#753			LD		2	{L:4}
(*) UNDEF
A0017AB0  F000203B		mov d15, #2

#754			ST		State_internal	{L:4}
(*) USINT
A0017AB4  2890CF25		st.h #0x30890, d15 ; ADR 0xC0000890

#755		
#756		
#757		(* Test condition TR7 pin_in 0 *)
#758			LD		CL_control_STOP
(*) UNDEF
A0017AB8  5094CF85		ld.w d15, #0x30954 ; ADR 0xC0000954

#759			ST		state_machine$$Stop_x
(*) BOOL
A0017ABC  5098CFA5		st.w #0x30958, d15 ; ADR 0xC0000958

#760			R		state_machine$$CL_control_state_x
(*) BOOL
A0017AC0  FC000091		movh.a a15, #0xC000 ; ADR 0xC000094A
A0017AC4  508AFFD9		lea a15,[a15]0x094A
A0017AC8  0840F809		ld.bu d8, [a15]
A0017ACC  8FA008AB		seln d8, d15, d8, #0
A0017AD0  0800F889		st.b [a15], d8

#761		
#762		end_state_machine$CL_control_state:
#763			LD		state_machine$$Stop_x
(*) UNDEF
A0017AD4  5098CF85		ld.w d15, #0x30958 ; ADR 0xC0000958

#764			JMPCN	end_state_machine$Stop
(-) BOOL
A0017AD8  003A0FDF		jeq d15, #0, #0x003A ; JUMP 0xA0017B4C

#765		
#766		(* BODY OF Stop *)
#767		{SRC:state_machine/Stop_state}
#768		
#769			(* v_Torque := 0.0; *)
#770			LD		0.0	{L:2}
(*) UNDEF
A0017ADC  F00000BB		mov.u d15, #0x0000 ; COSTREAL 0.000000
A0017AE0  F0000F9B		addih d15, d15, #0x0000

#771			ST		v_Torque	{L:2}
(*) REAL
A0017AE4  0238CFA5		st.w #0x32038, d15 ; ADR 0xC0002038

#772		
#773			(* State_internal:=3; *)
#774			LD		3	{L:3}
(*) UNDEF
A0017AE8  F000303B		mov d15, #3

#775			ST		State_internal	{L:3}
(*) USINT
A0017AEC  2890CF25		st.h #0x30890, d15 ; ADR 0xC0000890

#776		
#777		
#778			(* IF state_machine_idx>10) AND (pStartAuto *)
#779			LD		state_machine_idx	{L:5}
(*) UNDEF
A0017AF0  5C92CF05		ld.hu d15, #0x30952 ; ADR 0xC0000952

#780			GT		10	{L:5}
(*) UINT
A0017AF4  8000A03B		mov d8, #10
A0017AF8  F130F80B		lt.u d15, d8, d15

#781			AND		pStartAuto	{L:5}
(*) BOOL
A0017AFC  D180C885		ld.w d8, #0x31B40 ; ADR 0xC0001B40
A0017B00  F0808F0F		and d15, d15, d8

#782			JMPCN	state_machine/Stop_state$lab12	{L:5}
(-) BOOL
A0017B04  000C0FDF		jeq d15, #0, #0x000C ; JUMP 0xA0017B1C

#783		
#784			(* THEN *)
#785		
#786				(* CYCLE_STOP 	:= TRUE; *)
#787				LD		TRUE	{L:6}
(*) UNDEF
A0017B08  F000103B		mov d15, #1

#788				ST		CYCLE_STOP	{L:6}
(*) BOOL
A0017B0C  20B2CFA5		st.w #0x308B2, d15 ; ADR 0xC00008B2

#789		
#790				(* state_machine_idx:=0; *)
#791				LD		0	{L:7}
(*) UNDEF
A0017B10  F000003B		mov d15, #0

#792				ST		state_machine_idx	{L:7}
(*) USINT
A0017B14  5892CF25		st.h #0x30952, d15 ; ADR 0xC0000952

#793				JMP		state_machine/Stop_state$lab11
(-) UINT
A0017B18  0006001D		j #0x000006 ; JUMP 0xA0017B24

#794		state_machine/Stop_state$lab12:
#795		
#796			(* ELSE *)
#797		
#798				(* CYCLE_STOP 	:= FALSE; *)
#799				LD		FALSE	{L:9}
(*) UNDEF
A0017B1C  F000003B		mov d15, #0

#800				ST		CYCLE_STOP	{L:9}
(*) BOOL
A0017B20  20B2CFA5		st.w #0x308B2, d15 ; ADR 0xC00008B2

#801		
#802		state_machine/Stop_state$lab11:
#803			(* END_IF *)
#804		
#805			(* state_machine_idx:=state_machine_idx+1; *)
#806			LD		state_machine_idx	{L:12}
(*) UNDEF
A0017B24  5C92CF05		ld.hu d15, #0x30952 ; ADR 0xC0000952

#807			ADD		1	{L:12}
(*) UINT
A0017B28  F0001F8B		add d15, d15, #1

#808			ST		state_machine_idx	{L:12}
(*) UINT
A0017B2C  5892CF25		st.h #0x30952, d15 ; ADR 0xC0000952

#809		
#810		
#811		(* Test condition TR5 pin_in 0 *)
#812			LD		CYCLE_STOP
(*) UNDEF
A0017B30  20B2CF85		ld.w d15, #0x308B2 ; ADR 0xC00008B2

#813			ST		state_machine$$Jump8_x
(*) BOOL
A0017B34  509CCFA5		st.w #0x3095C, d15 ; ADR 0xC000095C

#814			R		state_machine$$Stop_x
(*) BOOL
A0017B38  FC000091		movh.a a15, #0xC000 ; ADR 0xC0000958
A0017B3C  5098FFD9		lea a15,[a15]0x0958
A0017B40  0840F809		ld.bu d8, [a15]
A0017B44  8FA008AB		seln d8, d15, d8, #0
A0017B48  0800F889		st.b [a15], d8

#815		
#816		end_state_machine$Stop:
#817			LD		state_machine$$Jump8_x
(*) UNDEF
A0017B4C  509CCF85		ld.w d15, #0x3095C ; ADR 0xC000095C

#818			JMPCN	end_state_machine$Jump8
(-) BOOL
A0017B50  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA0017B70

#819		
#820		(* JUMP TO Init *)
#821			LD		TRUE
(*) UNDEF
A0017B54  F000103B		mov d15, #1

#822			ST		state_machine$$Init_x
(*) BOOL
A0017B58  20AACFA5		st.w #0x308AA, d15 ; ADR 0xC00008AA

#823			R		state_machine$$Jump8_x
(*) BOOL
A0017B5C  FC000091		movh.a a15, #0xC000 ; ADR 0xC000095C
A0017B60  509CFFD9		lea a15,[a15]0x095C
A0017B64  0840F809		ld.bu d8, [a15]
A0017B68  8FA008AB		seln d8, d15, d8, #0
A0017B6C  0800F889		st.b [a15], d8

#824		
#825		end_state_machine$Jump8:
#826			LD		state_machine$$Jump9_x
(*) UNDEF
A0017B70  508ECF85		ld.w d15, #0x3094E ; ADR 0xC000094E

#827			JMPCN	end_state_machine$Jump9
(-) BOOL
A0017B74  00100FDF		jeq d15, #0, #0x0010 ; JUMP 0xA0017B94

#828		
#829		(* JUMP TO Init *)
#830			LD		TRUE
(*) UNDEF
A0017B78  F000103B		mov d15, #1

#831			ST		state_machine$$Init_x
(*) BOOL
A0017B7C  20AACFA5		st.w #0x308AA, d15 ; ADR 0xC00008AA

#832			R		state_machine$$Jump9_x
(*) BOOL
A0017B80  FC000091		movh.a a15, #0xC000 ; ADR 0xC000094E
A0017B84  508EFFD9		lea a15,[a15]0x094E
A0017B88  0840F809		ld.bu d8, [a15]
A0017B8C  8FA008AB		seln d8, d15, d8, #0
A0017B90  0800F889		st.b [a15], d8

A0017B94  0180000D		ret

END_PROGRAM


**************************************************
	Target variable image generation
**************************************************


*** INPUT:
A0017B98  0180000D		ret


*** OUTPUT:
A0017B9C  0180000D		ret



**************************************************
	Init code generation for task Background
**************************************************

A0017BA0  F000103B		mov d15, #1
A0017BA4  20AACFA5		st.w #0x308AA, d15 ; ADR 0xC00008AA

A0017BA8  0180000D		ret



**************************************************
	Global init code generation
**************************************************

A0017BC0  F000A03B		mov d15, #10
A0017BC4  4850CF25		st.h #0x30510, d15 ; ADR 0xC0000510

A0017BC8  0180000D		ret



********************************************
MEMORY MAP
********************************************

Start code area:			A0010000h
End code area:				A0017BE2h
Code size:					    7BE2h

Start local data area:		C00004C0h
End local data area:		C0000960h
Local data size:			     4A0h

Start retentive data area:	C0001AC0h
End retentive data area:	C0001AC0h
Retentive data size:		       0h

Start bit data area:		C0001B00h
End bit data area:			C0001B00h
Bit data size:				       0h



----------------------------------
ADDRESS MAP
----------------------------------

               803F0264 (20) sysMsgPlc1
--FREE--       803F0278 (1069613640)
               C00004C0 (4) $$STKLIMIT$$
               C00004C4 (4) InputConv.Krpm
               C00004C8 (4) InputConv.Krad_s
               C00004CC (4) InputConv.KArms
               C00004D0 (4) InputConv.KCnt2Nm
               C00004D4 (4) InputConv.sysPos
               C00004D8 (4) InputConv.sysSpd
               C00004DC (4) InputConv.sysIq
               C00004E0 (4) InputConv.sysTrqRef
               C00004E4 (4) InputConv.PosDINT
               C00004E8 (4) InputConv.offset
               C00004EC (4) InputConv.sysRev
               C00004F0 (4) InputConv._sysTrqNoFilt
               C00004F4 (4) InputConv.pos
               C00004F8 (4) InputConv.vel_rpm
               C00004FC (4) InputConv.vel
               C0000500 (4) InputConv.trq
               C0000504 (4) InputConv.curr
               C0000508 (4) AutotuningManager.FLAG_LIMITS
               C000050C (4) AutotuningManager.TUNED
               C0000510 (2) AutotuningManager.NO_OF_TRIAL
               C0000512 (2) AutotuningManager.Wc_counter
               C0000514 (4) AutotuningManager.aux
               C0000518 (4) AutotuningManager.Bm
               C000051C (4) AutotuningManager.Pos_SP
               C0000520 (4) AutotuningManager.PosPreTial
               C0000524 (4) AutotuningManager.Time
               C0000528 (4) AutotuningManager.rise_time
               C000052C (4) AutotuningManager.Time_HIGH_VEL
               C0000530 (4) AutotuningManager.tmpF
               C0000534 (4) AutotuningManager.TrialTime
               C0000538 (4) AutotuningManager.VARIANCE_THRESHOLD
               C000053C (4) AutotuningManager.Wc_act
               C0000540 (4) AutotuningManager.Wc_high
               C0000544 (4) AutotuningManager.Wc_low
               C0000548 (4) AutotuningManager.Wc_pos
               C000054C (4) AutotuningManager.Wc_Step
               C0000550 (4) AutotuningManager.NoiseLevelID.time
               C0000554 (4) AutotuningManager.NoiseLevelID.fbInit
               C0000558 (4) AutotuningManager.NoiseLevelID.timeID
               C000055C (4) AutotuningManager.NoiseLevelID.signal
               C0000560 (4) AutotuningManager.NoiseLevelID.ENABLE
               C0000564 (4) AutotuningManager.NoiseLevelID.Ts
               C0000568 (4) AutotuningManager.NoiseLevelID.noiseLevel
               C000056C (4) AutotuningManager.NoiseLevelID.END
               C0000570 (4) AutotuningManager.NoiseLevelID_Trj.fbInit
               C0000574 (4) AutotuningManager.NoiseLevelID_Trj.ENABLE
               C0000578 (4) AutotuningManager.NoiseLevelID_Trj.reference
               C000057C (4) AutotuningManager.NoiseLevelID_Trj.TrqRef
               C0000580 (4) AutotuningManager.RAND.rnd_int
               C0000584 (4) AutotuningManager.RAND.a
               C0000588 (4) AutotuningManager.RAND.b
               C000058C (4) AutotuningManager.RAND.m
               C0000590 (4) AutotuningManager.RAND.fb_Init
               C0000594 (4) AutotuningManager.RAND.rnd
               C0000598 (4) AutotuningManager.StaticFrictionID.time
               C000059C (2) AutotuningManager.StaticFrictionID.cnt
--FREE--       C000059E (2)
               C00005A0 (4) AutotuningManager.StaticFrictionID.$$TMP0
               C00005A4 (4) AutotuningManager.StaticFrictionID.$$TMP1
               C00005A8 (4) AutotuningManager.StaticFrictionID.fbInit
               C00005AC (4) AutotuningManager.StaticFrictionID.input
               C00005B0 (4) AutotuningManager.StaticFrictionID.output
               C00005B4 (4) AutotuningManager.StaticFrictionID.ENABLE
               C00005B8 (4) AutotuningManager.StaticFrictionID.Threshold
               C00005BC (4) AutotuningManager.StaticFrictionID.noiseLevel
               C00005C0 (4) AutotuningManager.StaticFrictionID.staticFriction
               C00005C4 (4) AutotuningManager.StaticFrictionID.END
               C00005C8 (4) AutotuningManager.StaticFrictionID_Trj.direction
               C00005CC (4) AutotuningManager.StaticFrictionID_Trj.fbInit
               C00005D0 (4) AutotuningManager.StaticFrictionID_Trj.maxTrq
               C00005D4 (4) AutotuningManager.StaticFrictionID_Trj.TrqResolution
               C00005D8 (4) AutotuningManager.StaticFrictionID_Trj.ENABLE
               C00005DC (4) AutotuningManager.StaticFrictionID_Trj.minPos
               C00005E0 (4) AutotuningManager.StaticFrictionID_Trj.maxPos
               C00005E4 (4) AutotuningManager.StaticFrictionID_Trj.Position
               C00005E8 (4) AutotuningManager.StaticFrictionID_Trj.TrqRef
               C00005EC (4) AutotuningManager.OL_trj_generator.torque_internal
               C00005F0 (1) AutotuningManager.OL_trj_generator.state
--FREE--       C00005F1 (3)
               C00005F4 (4) AutotuningManager.OL_trj_generator.rand.rnd_int
               C00005F8 (4) AutotuningManager.OL_trj_generator.rand.a
               C00005FC (4) AutotuningManager.OL_trj_generator.rand.b
               C0000600 (4) AutotuningManager.OL_trj_generator.rand.m
               C0000604 (4) AutotuningManager.OL_trj_generator.rand.fb_Init
               C0000608 (4) AutotuningManager.OL_trj_generator.rand.rnd
               C000060C (4) AutotuningManager.OL_trj_generator.STOPPING
               C0000610 (4) AutotuningManager.OL_trj_generator.pos_threshold
               C0000614 (4) AutotuningManager.OL_trj_generator.neg_threshold
               C0000618 (4) AutotuningManager.OL_trj_generator.vel_percentage
               C000061C (4) AutotuningManager.OL_trj_generator.pos_mean
               C0000620 (4) AutotuningManager.OL_trj_generator.hysteresis
               C0000624 (4) AutotuningManager.OL_trj_generator.vel
               C0000628 (4) AutotuningManager.OL_trj_generator.pos
               C000062C (4) AutotuningManager.OL_trj_generator.fbInit
               C0000630 (4) AutotuningManager.OL_trj_generator.maxTRQ
               C0000634 (4) AutotuningManager.OL_trj_generator.maxVEL
               C0000638 (4) AutotuningManager.OL_trj_generator.maxPOS
               C000063C (4) AutotuningManager.OL_trj_generator.minPOS
               C0000640 (4) AutotuningManager.OL_trj_generator.minVEL
               C0000644 (4) AutotuningManager.OL_trj_generator.STOP
               C0000648 (4) AutotuningManager.OL_trj_generator.staticFriction
               C000064C (4) AutotuningManager.OL_trj_generator.torque
               C0000650 (4) AutotuningManager.OL_trj_generator.STOPPED
               C0000654 (4) AutotuningManager.fb_RLS.vel_sign
               C0000658 (4) AutotuningManager.fb_RLS.vel_prec
               C000065C (4) AutotuningManager.fb_RLS.innovation
               C0000660 (1) AutotuningManager.fb_RLS.i
--FREE--       C0000661 (3)
               C0000664 (4) AutotuningManager.fb_RLS.acc
               C0000668 (4) AutotuningManager.fb_RLS.Time
               C000066C (16) AutotuningManager.fb_RLS.Q_old
               C000067C (16) AutotuningManager.fb_RLS.Q
               C000068C (8) AutotuningManager.fb_RLS.PARAM
               C0000694 (4) AutotuningManager.fb_RLS.$$TMP2
               C0000698 (4) AutotuningManager.fb_RLS.$$TMP3
               C000069C (4) AutotuningManager.fb_RLS.$$TMP4
               C00006A0 (4) AutotuningManager.fb_RLS.$$TMP5
               C00006A4 (4) AutotuningManager.fb_RLS.$$TMP6
               C00006A8 (4) AutotuningManager.fb_RLS.$$TMP7
               C00006AC (4) AutotuningManager.fb_RLS.$$TMP8
               C00006B0 (4) AutotuningManager.fb_RLS.$$TMP9
               C00006B4 (4) AutotuningManager.fb_RLS.$$TMP10
               C00006B8 (4) AutotuningManager.fb_RLS.$$TMP11
               C00006BC (4) AutotuningManager.fb_RLS.$$TMP12
               C00006C0 (4) AutotuningManager.fb_RLS.S
               C00006C4 (4) AutotuningManager.fb_RLS.y
               C00006C8 (4) AutotuningManager.fb_RLS.vel
               C00006CC (4) AutotuningManager.fb_RLS.Ts
               C00006D0 (4) AutotuningManager.fb_RLS.Time_max
               C00006D4 (1) AutotuningManager.fb_RLS.ssMethodType
--FREE--       C00006D5 (3)
               C00006D8 (4) AutotuningManager.fb_RLS.Jm
               C00006DC (4) AutotuningManager.fb_RLS.Bm
               C00006E0 (4) AutotuningManager.fb_RLS.END
               C00006E4 (1) AutotuningManager.fb_Tune_PID.ssMethodType
--FREE--       C00006E5 (3)
               C00006E8 (4) AutotuningManager.fb_Tune_PID.kk
               C00006EC (4) AutotuningManager.fb_Tune_PID.beta
               C00006F0 (4) AutotuningManager.fb_Tune_PID.K
               C00006F4 (4) AutotuningManager.fb_Tune_PID.P
               C00006F8 (4) AutotuningManager.fb_Tune_PID.A
               C00006FC (4) AutotuningManager.fb_Tune_PID.B
               C0000700 (4) AutotuningManager.fb_Tune_PID.ONLY_kpv
               C0000704 (4) AutotuningManager.fb_Tune_PID.$$TMP0
               C0000708 (4) AutotuningManager.fb_Tune_PID.$$TMP1
               C000070C (4) AutotuningManager.fb_Tune_PID.$$TMP2
               C0000710 (4) AutotuningManager.fb_Tune_PID.$$TMP3
               C0000714 (4) AutotuningManager.fb_Tune_PID.$$TMP4
               C0000718 (4) AutotuningManager.fb_Tune_PID.$$TMP5
               C000071C (4) AutotuningManager.fb_Tune_PID.$$TMP6
               C0000720 (4) AutotuningManager.fb_Tune_PID.$$TMP7
               C0000724 (4) AutotuningManager.fb_Tune_PID.$$TMP8
               C0000728 (4) AutotuningManager.fb_Tune_PID.$$TMP9
               C000072C (4) AutotuningManager.fb_Tune_PID.$$TMP10
               C0000730 (4) AutotuningManager.fb_Tune_PID.$$TMP11
               C0000734 (4) AutotuningManager.fb_Tune_PID.$$TMP14
               C0000738 (4) AutotuningManager.fb_Tune_PID.$$TMP15
               C000073C (4) AutotuningManager.fb_Tune_PID.$$TMP16
               C0000740 (4) AutotuningManager.fb_Tune_PID.$$TMP17
               C0000744 (4) AutotuningManager.fb_Tune_PID.$$TMP18
               C0000748 (4) AutotuningManager.fb_Tune_PID.$$TMP19
               C000074C (4) AutotuningManager.fb_Tune_PID.$$TMP20
               C0000750 (4) AutotuningManager.fb_Tune_PID.$$TMP21
               C0000754 (4) AutotuningManager.fb_Tune_PID.phi_m_v
               C0000758 (4) AutotuningManager.fb_Tune_PID.phi_m_p
               C000075C (4) AutotuningManager.fb_Tune_PID.Wc_pos
               C0000760 (4) AutotuningManager.fb_Tune_PID.Wc_vel
               C0000764 (4) AutotuningManager.fb_Tune_PID.Jm
               C0000768 (4) AutotuningManager.fb_Tune_PID.Bm
               C000076C (1) AutotuningManager.fb_Tune_PID.TUNE
--FREE--       C000076D (3)
               C0000770 (4) AutotuningManager.fb_Tune_PID.ti_v
               C0000774 (4) AutotuningManager.fb_Tune_PID.kp_v
               C0000778 (4) AutotuningManager.fb_Tune_PID.ti_p
               C000077C (4) AutotuningManager.fb_Tune_PID.kp_p
               C0000780 (4) AutotuningManager.fb_Tune_PID.td_p
               C0000784 (4) AutotuningManager.fb_Tune_PID.td_v
               C0000788 (4) AutotuningManager.fb_VARIANCE.SUM_X
               C000078C (4) AutotuningManager.fb_VARIANCE.SUM_X_sqr
               C0000790 (4) AutotuningManager.fb_VARIANCE.N
               C0000794 (4) AutotuningManager.fb_VARIANCE.SIGMA_SQRD
               C0000798 (4) AutotuningManager.fb_VARIANCE.$$TMP0
               C000079C (4) AutotuningManager.fb_VARIANCE.$$TMP1
               C00007A0 (4) AutotuningManager.fb_VARIANCE.$$TMP2
               C00007A4 (4) AutotuningManager.fb_VARIANCE.INPUT
               C00007A8 (1) AutotuningManager.fb_VARIANCE.ssMethodType
--FREE--       C00007A9 (3)
               C00007AC (4) AutotuningManager.fb_VARIANCE.SIGMA
               C00007B0 (4) AutotuningManager.Wc_low_speed
               C00007B4 (4) AutotuningManager.Wc_high_speed
               C00007B8 (1) AutotuningManager.state_before_error
--FREE--       C00007B9 (1)
               C00007BA (2) AutotuningManager.estimation_trials
               C00007BC (4) AutotuningManager.friction_trial
               C00007C0 (4) AutotuningManager.$$TMP2
               C00007C4 (4) AutotuningManager.$$TMP3
               C00007C8 (4) AutotuningManager.$$TMP12
               C00007CC (4) AutotuningManager.$$TMP13
               C00007D0 (4) AutotuningManager.$$TMP14
               C00007D4 (4) AutotuningManager.$$TMP15
               C00007D8 (4) AutotuningManager.$$TMP19
               C00007DC (4) AutotuningManager.$$TMP20
               C00007E0 (4) AutotuningManager.$$TMP21
               C00007E4 (4) AutotuningManager.$$TMP35
               C00007E8 (4) AutotuningManager.$$TMP47
               C00007EC (4) AutotuningManager.$$TMP48
               C00007F0 (4) AutotuningManager.$$TMP49
               C00007F4 (4) AutotuningManager.fbInit
               C00007F8 (4) AutotuningManager.ENABLE
               C00007FC (4) AutotuningManager.Speed
               C0000800 (4) AutotuningManager.Position
               C0000804 (4) AutotuningManager.maxTrq
               C0000808 (4) AutotuningManager.maxVel
               C000080C (4) AutotuningManager.maxPos
               C0000810 (4) AutotuningManager.Ts
               C0000814 (4) AutotuningManager.Time_identification
               C0000818 (4) AutotuningManager.phi_m_v
               C000081C (4) AutotuningManager.phi_m_p
               C0000820 (4) AutotuningManager.PARAMETERS_UPDATED
               C0000824 (4) AutotuningManager.Torque_ref
               C0000828 (4) AutotuningManager.minPos
               C000082C (4) AutotuningManager.minVel
               C0000830 (4) AutotuningManager.MaxWc
               C0000834 (4) AutotuningManager.MinWc
               C0000838 (4) AutotuningManager.low_vel_thr
               C000083C (4) AutotuningManager.END
               C0000840 (4) AutotuningManager.Torque
               C0000844 (4) AutotuningManager.staticFriction
               C0000848 (1) AutotuningManager.state
--FREE--       C0000849 (3)
               C000084C (4) AutotuningManager.noiseLevel
               C0000850 (4) AutotuningManager.Kp_v
               C0000854 (4) AutotuningManager.Kp_p
               C0000858 (4) AutotuningManager.Ti_v
               C000085C (4) AutotuningManager.Ti_p
               C0000860 (4) AutotuningManager.Vel_SP
               C0000864 (4) AutotuningManager.UPDATE_PARAMETERS
               C0000868 (4) AutotuningManager.Jm
               C000086C (4) AutotuningManager.TUNE_LOW_VEL
               C0000870 (2) AutotuningManager.Kp_high_vel_perc
               C0000872 (2) AutotuningManager.Ti_high_vel_perc
               C0000874 (4) sysSpd
               C0000878 (4) sysPos
               C000087C (4) sysIq
               C0000880 (4) sysRev
               C0000884 (4) sysTrqRefNoFilt
               C0000888 (4) Torque_bis
               C000088C (4) StartCND
               C0000890 (2) State_internal
               C0000892 (4) VEL_SP_
               C0000896 (4) VEL_TESTING
               C000089A (4) MaxTorque
               C000089E (4) KNm2Cnt
               C00008A2 (4) FullScaleSpeed
               C00008A6 (4) TimeMsg
               C00008AA (4) state_machine$$Init_x
               C00008AE (4) INIT_END
               C00008B2 (4) CYCLE_STOP
               C00008B6 (4) ENABLE_CYCLIC_PRG
               C00008BA (4) readRealPar.ipa
               C00008BE (4) readRealPar.result
               C00008C2 (4) readRealPar.val
               C00008C6 (4) DriveRatCur
               C00008CA (4) readIntPar.ipa
               C00008CE (4) readIntPar.result
               C00008D2 (4) readIntPar.val
               C00008D6 (4) RatCur
               C00008DA (4) RatKTrq
               C00008DE (4) RatedTorque
               C00008E2 (4) res
               C00008E6 (4) MaxSpeed
               C00008EA (4) MaxPosition
               C00008EE (4) MotorInertia
               C00008F2 (2) state_machine/Init_state$$TEMP1
               C00008F4 (2) state_of_the_machine
               C00008F6 (4) motor_sim.position_internal
               C00008FA (4) motor_sim.velocity_internal
               C00008FE (4) motor_sim.sum_torques
               C0000902 (4) motor_sim.inv_inertia_st
               C0000906 (4) motor_sim.sum_torques_old
               C000090A (4) motor_sim.fbInit
               C000090E (4) motor_sim.I
               C0000912 (4) motor_sim.Bm
               C0000916 (4) motor_sim.Fc
               C000091A (4) motor_sim.st
               C000091E (4) motor_sim.torque
               C0000922 (4) motor_sim.position
               C0000926 (4) motor_sim.velocity
               C000092A (2) state_machine/Init_state$$TEMP0
               C000092C (4) state_machine$$Cycle_x
               C0000930 (4) ABORT_PROCEDURE
               C0000934 (4) SPEED_REF_IPA
               C0000938 (4) state_machine/Cycle_state$$TEMP3
               C000093C (4) state_machine/Cycle_state$$TEMP2
               C0000940 (4) SEND_MESSAGE
               C0000944 (2) TempUI
               C0000946 (4) AUTOTUNING_STOP
               C000094A (4) state_machine$$CL_control_state_x
               C000094E (4) state_machine$$Jump9_x
               C0000952 (2) state_machine_idx
               C0000954 (4) CL_control_STOP
               C0000958 (4) state_machine$$Stop_x
               C000095C (4) state_machine$$Jump8_x
--FREE--       C0000960 (4560)
               C0001B30 (4) pMaxTorque
               C0001B34 (4) pMaxSpeed
               C0001B38 (4) pMaxPos
               C0001B3C (4) pMotJ
               C0001B40 (4) pStartAuto
               C0001B44 (4) pMinWc
               C0001B48 (4) pMaxWc
               C0001B4C (4) pLow_Vel_Thr
               C0001B50 (4) pOscillationTollerance
--FREE--       C0001B54 (1244)
               C0002030 (4) v_Position
               C0002034 (4) v_Speed
               C0002038 (4) v_Torque
--FREE--       C000203C (8)
               C0002044 (2) vStateMachine
--FREE--       C0002046 (2)
               C0002048 (4) vEstInertia
               C000204C (4) vEstStatFrict
               C0002050 (4) vEstDynFrict
               C0002054 (4) vCalcKpSp
               C0002058 (4) vCalcTiSp
               C000205C (4) vEstBandwidth
--FREE--       C0002060 (9596)
               C00045DC (4) sysControlMode
--FREE--       C00045E0 (268428296)
               D00029E8 (4) sysPad10
               D00029EC (4) sysPad11
--FREE--       D00029F0 (316)
               D0002B2C (4) sysTrqFFwd
--FREE--       D0002B30 (392)
               D0002CB8 (4) sysSpeedPosPulsesPerRev
--FREE--       D0002CBC (2048)
               D00034BC (4) sysTrqRef
--FREE--       D00034C0 (1868)
               D0003C0C (4) sysEnableStatus
               D0003C10 (4) sysStartStatus
--FREE--       D0003C14 (220)
               D0003CF0 (4) sysSpdRef1
               D0003CF4 (4) sysSpdRef2


